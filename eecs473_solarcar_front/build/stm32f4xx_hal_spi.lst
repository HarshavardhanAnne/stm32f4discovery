ARM GAS  /tmp/cckea6X9.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.file	"stm32f4xx_hal_spi.c"
  17              		.text
  18              	.Ltext0:
  19              		.cfi_sections	.debug_frame
  20              		.section	.text.HAL_SPI_Init,"ax",%progbits
  21              		.align	2
  22              		.global	HAL_SPI_Init
  23              		.thumb
  24              		.thumb_func
  26              	HAL_SPI_Init:
  27              	.LFB123:
  28              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @file    stm32f4xx_hal_spi.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief   SPI HAL module driver.
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *          functionalities of the Serial Peripheral Interface (SPI) peripheral:
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + IO operation functions
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + Peripheral Control functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + Peripheral State functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   @verbatim
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ==============================================================================
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                         ##### How to use this driver #####
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ==============================================================================
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..]
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       The SPI HAL driver can be used as follows:
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) Declare a SPI_HandleTypeDef handle structure, for example:
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           SPI_HandleTypeDef  hspi;
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#)Initialize the SPI low level resources by implementing the HAL_SPI_MspInit() API:
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) Enable the SPIx interface clock
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) SPI pins configuration
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Enable the clock for the SPI GPIOs
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure these SPI pins as alternate function push-pull
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) NVIC configuration if you need to use interrupt process
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the SPIx interrupt priority
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Enable the NVIC SPI IRQ handle
ARM GAS  /tmp/cckea6X9.s 			page 2


  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) DMA Configuration if you need to use DMA process
  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Declare a DMA_HandleTypeDef handle structure for the transmit or receive stream
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Enable the DMAx clock
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the DMA handle parameters
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the DMA Tx or Rx stream
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Associate the initialized hdma_tx handle to the hspi DMA Tx or Rx handle
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the priority and enable the NVIC for the transfer complete interrupt 
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) Program the Mode, BidirectionalMode , Data size, Baudrate Prescaler, NSS
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           management, Clock polarity and phase, FirstBit and CRC configuration in the hspi Init str
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) Initialize the SPI registers by calling the HAL_SPI_Init() API:
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (++) This API configures also the low level Hardware GPIO, CLOCK, CORTEX...etc)
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               by calling the customized HAL_SPI_MspInit() API.
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      [..]
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Circular mode restriction:
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) The DMA circular mode cannot be used when the SPI is configured in these modes:
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) Master 2Lines RxOnly
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) Master 1Line Rx
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) The CRC feature is not managed when the DMA circular mode is enabled
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) When the SPI DMA Pause/Stop features are used, we must use the following APIs
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           the HAL_SPI_DMAPause()/ HAL_SPI_DMAStop() only under the SPI callbacks
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      [..]
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Master Receive mode restriction:
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) In Master unidirectional receive-only mode (MSTR =1, BIDIMODE=0, RXONLY=0) or
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           bidirectional receive mode (MSTR=1, BIDIMODE=1, BIDIOE=0), to ensure that the SPI
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           does not initiate a new transfer the following procedure has to be respected:
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) HAL_SPI_DeInit()
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) HAL_SPI_Init()
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   @endverbatim
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     Using the HAL it is not possible to reach all supported SPI frequency with the differents SPI M
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     the following tables resume the max SPI frequency reached with data size 8bits/16bits,
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     according to frequency used on APBx Peripheral Clock (fPCLK) used by the SPI instance :
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     DataSize = SPI_DATASIZE_8BIT:
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     +----------------------------------------------------------------------------------------------
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line        
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     | Process | Tranfert mode  |---------------------|----------------------|----------------------
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave   
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |==============================================================================================
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    T    |     Polling    | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA     
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    X    |----------------|----------|----------|-----------|----------|-----------|----------
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    /    |     Interrupt  | Fpclk/4  | Fpclk/8  |    NA     |    NA    |    NA     |   NA     
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    R    |----------------|----------|----------|-----------|----------|-----------|----------
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA     
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |=========|================|==========|==========|===========|==========|===========|==========
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |     Polling    | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/2  
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |----------------|----------|----------|-----------|----------|-----------|----------
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    R    |     Interrupt  | Fpclk/8  | Fpclk/8  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/2  
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    X    |----------------|----------|----------|-----------|----------|-----------|----------
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |       DMA      | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/128 | Fpclk/2  
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |=========|================|==========|==========|===========|==========|===========|==========
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |     Polling    | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/2   | Fpclk/64 
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |----------------|----------|----------|-----------|----------|-----------|----------
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    T    |     Interrupt  | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/2   | Fpclk/64 
ARM GAS  /tmp/cckea6X9.s 			page 3


  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    X    |----------------|----------|----------|-----------|----------|-----------|----------
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/128
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     +----------------------------------------------------------------------------------------------
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     DataSize = SPI_DATASIZE_16BIT:
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     +----------------------------------------------------------------------------------------------
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line        
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     | Process | Tranfert mode  |---------------------|----------------------|----------------------
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave   
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |==============================================================================================
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    T    |     Polling    | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA     
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    X    |----------------|----------|----------|-----------|----------|-----------|----------
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    /    |     Interrupt  | Fpclk/4  | Fpclk/4  |    NA     |    NA    |    NA     |   NA     
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    R    |----------------|----------|----------|-----------|----------|-----------|----------
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA     
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |=========|================|==========|==========|===========|==========|===========|==========
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |     Polling    | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/32  | Fpclk/2  
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |----------------|----------|----------|-----------|----------|-----------|----------
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    R    |     Interrupt  | Fpclk/4  | Fpclk/4  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/2  
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    X    |----------------|----------|----------|-----------|----------|-----------|----------
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |       DMA      | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/128 | Fpclk/2  
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |=========|================|==========|==========|===========|==========|===========|==========
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |     Polling    | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/32 
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |----------------|----------|----------|-----------|----------|-----------|----------
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    T    |     Interrupt  | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/64 
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |    X    |----------------|----------|----------|-----------|----------|-----------|----------
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/128
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     +----------------------------------------------------------------------------------------------
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      [..]
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        (@) The max SPI frequency depend on SPI data size (8bits, 16bits),
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****            SPI mode(2 Lines fullduplex, 2 lines RxOnly, 1 line TX/RX) and Process mode (Polling, IT
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        (@)
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (+@) TX/RX processes are HAL_SPI_TransmitReceive(), HAL_SPI_TransmitReceive_IT() and HA
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (+@) RX processes are HAL_SPI_Receive(), HAL_SPI_Receive_IT() and HAL_SPI_Receive_DMA()
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (+@) TX processes are HAL_SPI_Transmit(), HAL_SPI_Transmit_IT() and HAL_SPI_Transmit_DM
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ******************************************************************************
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @attention
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * <h2><center>&copy; COPYRIGHT(c) 2017 STMicroelectronics</center></h2>
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * Redistribution and use in source and binary forms, with or without modification,
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * are permitted provided that the following conditions are met:
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *   1. Redistributions of source code must retain the above copyright notice,
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *      this list of conditions and the following disclaimer.
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *      this list of conditions and the following disclaimer in the documentation
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *      and/or other materials provided with the distribution.
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *      may be used to endorse or promote products derived from this software
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *      without specific prior written permission.
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
ARM GAS  /tmp/cckea6X9.s 			page 4


 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ******************************************************************************
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Includes ------------------------------------------------------------------*/
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #include "stm32f4xx_hal.h"
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @addtogroup STM32F4xx_HAL_Driver
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI SPI
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief SPI HAL module driver
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #ifdef HAL_SPI_MODULE_ENABLED
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private typedef -----------------------------------------------------------*/
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private defines -----------------------------------------------------------*/
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Private_Constants SPI Private Constants
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #define SPI_DEFAULT_TIMEOUT 100U
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private macros ------------------------------------------------------------*/
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private variables ---------------------------------------------------------*/
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private function prototypes -----------------------------------------------*/
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @addtogroup SPI_Private_Functions
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma);
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma);
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma);
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma);
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma);
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma);
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, uint
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
ARM GAS  /tmp/cckea6X9.s 			page 5


 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi);
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi);
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi);
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi);
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi);
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_CheckFlag_BSY(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t Tick
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Exported functions --------------------------------------------------------*/
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions SPI Exported Functions
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group1 Initialization and de-initialization functions
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  *  @brief    Initialization and Configuration functions
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  *
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @verbatim
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               ##### Initialization and de-initialization functions #####
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..]  This subsection provides a set of functions allowing to initialize and
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           de-initialize the SPIx peripheral:
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (+) User must implement HAL_SPI_MspInit() function in which he configures
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           all related peripherals resources (CLOCK, GPIO, DMA, IT and NVIC ).
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (+) Call the function HAL_SPI_Init() to configure the selected device with
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           the selected configuration:
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Mode
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Direction
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Data Size
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Clock Polarity and Phase
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) NSS Management
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) BaudRate Prescaler
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) FirstBit
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) TIMode
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) CRC Calculation
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) CRC Polynomial if CRC enabled
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (+) Call the function HAL_SPI_DeInit() to restore the default configuration
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           of the selected SPIx peripheral.
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @endverbatim
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Initialize the SPI according to the specified parameters
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         in the SPI_InitTypeDef and initialize the associated handle.
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
ARM GAS  /tmp/cckea6X9.s 			page 6


 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Init(SPI_HandleTypeDef *hspi)
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
  29              		.loc 1 262 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 82B0     		sub	sp, sp, #8
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 16
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  44 0006 7860     		str	r0, [r7, #4]
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi == NULL)
  45              		.loc 1 264 0
  46 0008 7B68     		ldr	r3, [r7, #4]
  47 000a 002B     		cmp	r3, #0
  48 000c 01D1     		bne	.L2
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_ERROR;
  49              		.loc 1 266 0
  50 000e 0123     		movs	r3, #1
  51 0010 55E0     		b	.L3
  52              	.L2:
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the parameters */
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_TIMODE(hspi->Init.TIMode));
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.TIMode == SPI_TIMODE_DISABLE)
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_CPOL(hspi->Init.CLKPolarity));
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_CRC_CALCULATION(hspi->Init.CRCCalculation));
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_CRC_POLYNOMIAL(hspi->Init.CRCPolynomial));
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
  53              		.loc 1 290 0
ARM GAS  /tmp/cckea6X9.s 			page 7


  54 0012 7B68     		ldr	r3, [r7, #4]
  55 0014 0022     		movs	r2, #0
  56 0016 9A62     		str	r2, [r3, #40]
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_RESET)
  57              		.loc 1 293 0
  58 0018 7B68     		ldr	r3, [r7, #4]
  59 001a 93F85130 		ldrb	r3, [r3, #81]
  60 001e DBB2     		uxtb	r3, r3
  61 0020 002B     		cmp	r3, #0
  62 0022 06D1     		bne	.L4
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Allocate lock resource and initialize it */
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Lock = HAL_UNLOCKED;
  63              		.loc 1 296 0
  64 0024 7B68     		ldr	r3, [r7, #4]
  65 0026 0022     		movs	r2, #0
  66 0028 83F85020 		strb	r2, [r3, #80]
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_MspInit(hspi);
  67              		.loc 1 299 0
  68 002c 7868     		ldr	r0, [r7, #4]
  69 002e FFF7FEFF 		bl	HAL_SPI_MspInit
  70              	.L4:
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
  71              		.loc 1 302 0
  72 0032 7B68     		ldr	r3, [r7, #4]
  73 0034 0222     		movs	r2, #2
  74 0036 83F85120 		strb	r2, [r3, #81]
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the selected SPI peripheral */
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
  75              		.loc 1 305 0
  76 003a 7B68     		ldr	r3, [r7, #4]
  77 003c 1B68     		ldr	r3, [r3]
  78 003e 7A68     		ldr	r2, [r7, #4]
  79 0040 1268     		ldr	r2, [r2]
  80 0042 1268     		ldr	r2, [r2]
  81 0044 22F04002 		bic	r2, r2, #64
  82 0048 1A60     		str	r2, [r3]
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*----------------------- SPIx CR1 & CR2 Configuration ---------------------*/
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure : SPI Mode, Communication Mode, Data size, Clock polarity and phase, NSS management,
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   Communication speed, First bit and CRC calculation state */
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR1, (hspi->Init.Mode | hspi->Init.Direction | hspi->Init.DataSize |
  83              		.loc 1 310 0
  84 004a 7B68     		ldr	r3, [r7, #4]
  85 004c 1B68     		ldr	r3, [r3]
  86 004e 7A68     		ldr	r2, [r7, #4]
  87 0050 5168     		ldr	r1, [r2, #4]
  88 0052 7A68     		ldr	r2, [r7, #4]
  89 0054 9268     		ldr	r2, [r2, #8]
  90 0056 1143     		orrs	r1, r1, r2
ARM GAS  /tmp/cckea6X9.s 			page 8


  91 0058 7A68     		ldr	r2, [r7, #4]
  92 005a D268     		ldr	r2, [r2, #12]
  93 005c 1143     		orrs	r1, r1, r2
  94 005e 7A68     		ldr	r2, [r7, #4]
  95 0060 1269     		ldr	r2, [r2, #16]
  96 0062 1143     		orrs	r1, r1, r2
  97 0064 7A68     		ldr	r2, [r7, #4]
  98 0066 5269     		ldr	r2, [r2, #20]
  99 0068 1143     		orrs	r1, r1, r2
 100 006a 7A68     		ldr	r2, [r7, #4]
 101 006c 9269     		ldr	r2, [r2, #24]
 102 006e 02F40072 		and	r2, r2, #512
 103 0072 1143     		orrs	r1, r1, r2
 104 0074 7A68     		ldr	r2, [r7, #4]
 105 0076 D269     		ldr	r2, [r2, #28]
 106 0078 1143     		orrs	r1, r1, r2
 107 007a 7A68     		ldr	r2, [r7, #4]
 108 007c 126A     		ldr	r2, [r2, #32]
 109 007e 1143     		orrs	r1, r1, r2
 110 0080 7A68     		ldr	r2, [r7, #4]
 111 0082 926A     		ldr	r2, [r2, #40]
 112 0084 0A43     		orrs	r2, r2, r1
 113 0086 1A60     		str	r2, [r3]
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                   hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & 
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                   hspi->Init.BaudRatePrescaler | hspi->Init.FirstBit  | hspi->Init.
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure : NSS management */
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR2, (((hspi->Init.NSS >> 16U) & SPI_CR2_SSOE) | hspi->Init.TIMode));
 114              		.loc 1 315 0
 115 0088 7B68     		ldr	r3, [r7, #4]
 116 008a 1B68     		ldr	r3, [r3]
 117 008c 7A68     		ldr	r2, [r7, #4]
 118 008e 9269     		ldr	r2, [r2, #24]
 119 0090 120C     		lsrs	r2, r2, #16
 120 0092 02F00401 		and	r1, r2, #4
 121 0096 7A68     		ldr	r2, [r7, #4]
 122 0098 526A     		ldr	r2, [r2, #36]
 123 009a 0A43     		orrs	r2, r2, r1
 124 009c 5A60     		str	r2, [r3, #4]
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*---------------------------- SPIx CRCPOLY Configuration ------------------*/
 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure : CRC Polynomial */
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     WRITE_REG(hspi->Instance->CRCPR, hspi->Init.CRCPolynomial);
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if defined(SPI_I2SCFGR_I2SMOD)
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Activate the SPI mode (Make sure that I2SMOD bit in I2SCFGR register is reset) */
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->I2SCFGR, SPI_I2SCFGR_I2SMOD);
 125              		.loc 1 328 0
 126 009e 7B68     		ldr	r3, [r7, #4]
 127 00a0 1B68     		ldr	r3, [r3]
 128 00a2 7A68     		ldr	r2, [r7, #4]
 129 00a4 1268     		ldr	r2, [r2]
ARM GAS  /tmp/cckea6X9.s 			page 9


 130 00a6 D269     		ldr	r2, [r2, #28]
 131 00a8 22F40062 		bic	r2, r2, #2048
 132 00ac DA61     		str	r2, [r3, #28]
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 133              		.loc 1 331 0
 134 00ae 7B68     		ldr	r3, [r7, #4]
 135 00b0 0022     		movs	r2, #0
 136 00b2 5A65     		str	r2, [r3, #84]
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 137              		.loc 1 332 0
 138 00b4 7B68     		ldr	r3, [r7, #4]
 139 00b6 0122     		movs	r2, #1
 140 00b8 83F85120 		strb	r2, [r3, #81]
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 141              		.loc 1 334 0
 142 00bc 0023     		movs	r3, #0
 143              	.L3:
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 144              		.loc 1 335 0
 145 00be 1846     		mov	r0, r3
 146 00c0 0837     		adds	r7, r7, #8
 147              	.LCFI3:
 148              		.cfi_def_cfa_offset 8
 149 00c2 BD46     		mov	sp, r7
 150              	.LCFI4:
 151              		.cfi_def_cfa_register 13
 152              		@ sp needed
 153 00c4 80BD     		pop	{r7, pc}
 154              		.cfi_endproc
 155              	.LFE123:
 157 00c6 00BF     		.section	.text.HAL_SPI_DeInit,"ax",%progbits
 158              		.align	2
 159              		.global	HAL_SPI_DeInit
 160              		.thumb
 161              		.thumb_func
 163              	HAL_SPI_DeInit:
 164              	.LFB124:
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  De Initialize the SPI peripheral.
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DeInit(SPI_HandleTypeDef *hspi)
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 165              		.loc 1 344 0
 166              		.cfi_startproc
 167              		@ args = 0, pretend = 0, frame = 8
 168              		@ frame_needed = 1, uses_anonymous_args = 0
 169 0000 80B5     		push	{r7, lr}
 170              	.LCFI5:
 171              		.cfi_def_cfa_offset 8
 172              		.cfi_offset 7, -8
ARM GAS  /tmp/cckea6X9.s 			page 10


 173              		.cfi_offset 14, -4
 174 0002 82B0     		sub	sp, sp, #8
 175              	.LCFI6:
 176              		.cfi_def_cfa_offset 16
 177 0004 00AF     		add	r7, sp, #0
 178              	.LCFI7:
 179              		.cfi_def_cfa_register 7
 180 0006 7860     		str	r0, [r7, #4]
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi == NULL)
 181              		.loc 1 346 0
 182 0008 7B68     		ldr	r3, [r7, #4]
 183 000a 002B     		cmp	r3, #0
 184 000c 01D1     		bne	.L6
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_ERROR;
 185              		.loc 1 348 0
 186 000e 0123     		movs	r3, #1
 187 0010 1AE0     		b	.L7
 188              	.L6:
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check SPI Instance parameter */
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 189              		.loc 1 354 0
 190 0012 7B68     		ldr	r3, [r7, #4]
 191 0014 0222     		movs	r2, #2
 192 0016 83F85120 		strb	r2, [r3, #81]
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI Peripheral Clock */
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 193              		.loc 1 357 0
 194 001a 7B68     		ldr	r3, [r7, #4]
 195 001c 1B68     		ldr	r3, [r3]
 196 001e 7A68     		ldr	r2, [r7, #4]
 197 0020 1268     		ldr	r2, [r2]
 198 0022 1268     		ldr	r2, [r2]
 199 0024 22F04002 		bic	r2, r2, #64
 200 0028 1A60     		str	r2, [r3]
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_MspDeInit(hspi);
 201              		.loc 1 360 0
 202 002a 7868     		ldr	r0, [r7, #4]
 203 002c FFF7FEFF 		bl	HAL_SPI_MspDeInit
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 204              		.loc 1 362 0
 205 0030 7B68     		ldr	r3, [r7, #4]
 206 0032 0022     		movs	r2, #0
 207 0034 5A65     		str	r2, [r3, #84]
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 208              		.loc 1 363 0
 209 0036 7B68     		ldr	r3, [r7, #4]
 210 0038 0022     		movs	r2, #0
ARM GAS  /tmp/cckea6X9.s 			page 11


 211 003a 83F85120 		strb	r2, [r3, #81]
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Release Lock */
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 212              		.loc 1 366 0
 213 003e 7B68     		ldr	r3, [r7, #4]
 214 0040 0022     		movs	r2, #0
 215 0042 83F85020 		strb	r2, [r3, #80]
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 216              		.loc 1 368 0
 217 0046 0023     		movs	r3, #0
 218              	.L7:
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 219              		.loc 1 369 0
 220 0048 1846     		mov	r0, r3
 221 004a 0837     		adds	r7, r7, #8
 222              	.LCFI8:
 223              		.cfi_def_cfa_offset 8
 224 004c BD46     		mov	sp, r7
 225              	.LCFI9:
 226              		.cfi_def_cfa_register 13
 227              		@ sp needed
 228 004e 80BD     		pop	{r7, pc}
 229              		.cfi_endproc
 230              	.LFE124:
 232              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 233              		.align	2
 234              		.weak	HAL_SPI_MspInit
 235              		.thumb
 236              		.thumb_func
 238              	HAL_SPI_MspInit:
 239              	.LFB125:
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Initialize the SPI MSP.
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_MspInit(SPI_HandleTypeDef *hspi)
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 240              		.loc 1 378 0
 241              		.cfi_startproc
 242              		@ args = 0, pretend = 0, frame = 8
 243              		@ frame_needed = 1, uses_anonymous_args = 0
 244              		@ link register save eliminated.
 245 0000 80B4     		push	{r7}
 246              	.LCFI10:
 247              		.cfi_def_cfa_offset 4
 248              		.cfi_offset 7, -4
 249 0002 83B0     		sub	sp, sp, #12
 250              	.LCFI11:
 251              		.cfi_def_cfa_offset 16
 252 0004 00AF     		add	r7, sp, #0
 253              	.LCFI12:
 254              		.cfi_def_cfa_register 7
ARM GAS  /tmp/cckea6X9.s 			page 12


 255 0006 7860     		str	r0, [r7, #4]
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_MspInit should be implemented in the user file
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 256              		.loc 1 384 0
 257 0008 0C37     		adds	r7, r7, #12
 258              	.LCFI13:
 259              		.cfi_def_cfa_offset 4
 260 000a BD46     		mov	sp, r7
 261              	.LCFI14:
 262              		.cfi_def_cfa_register 13
 263              		@ sp needed
 264 000c 5DF8047B 		ldr	r7, [sp], #4
 265              	.LCFI15:
 266              		.cfi_restore 7
 267              		.cfi_def_cfa_offset 0
 268 0010 7047     		bx	lr
 269              		.cfi_endproc
 270              	.LFE125:
 272 0012 00BF     		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 273              		.align	2
 274              		.weak	HAL_SPI_MspDeInit
 275              		.thumb
 276              		.thumb_func
 278              	HAL_SPI_MspDeInit:
 279              	.LFB126:
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  De-Initialize the SPI MSP.
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_MspDeInit(SPI_HandleTypeDef *hspi)
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 280              		.loc 1 393 0
 281              		.cfi_startproc
 282              		@ args = 0, pretend = 0, frame = 8
 283              		@ frame_needed = 1, uses_anonymous_args = 0
 284              		@ link register save eliminated.
 285 0000 80B4     		push	{r7}
 286              	.LCFI16:
 287              		.cfi_def_cfa_offset 4
 288              		.cfi_offset 7, -4
 289 0002 83B0     		sub	sp, sp, #12
 290              	.LCFI17:
 291              		.cfi_def_cfa_offset 16
 292 0004 00AF     		add	r7, sp, #0
 293              	.LCFI18:
 294              		.cfi_def_cfa_register 7
 295 0006 7860     		str	r0, [r7, #4]
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
ARM GAS  /tmp/cckea6X9.s 			page 13


 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_MspDeInit should be implemented in the user file
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 296              		.loc 1 399 0
 297 0008 0C37     		adds	r7, r7, #12
 298              	.LCFI19:
 299              		.cfi_def_cfa_offset 4
 300 000a BD46     		mov	sp, r7
 301              	.LCFI20:
 302              		.cfi_def_cfa_register 13
 303              		@ sp needed
 304 000c 5DF8047B 		ldr	r7, [sp], #4
 305              	.LCFI21:
 306              		.cfi_restore 7
 307              		.cfi_def_cfa_offset 0
 308 0010 7047     		bx	lr
 309              		.cfi_endproc
 310              	.LFE126:
 312 0012 00BF     		.section	.text.HAL_SPI_Transmit,"ax",%progbits
 313              		.align	2
 314              		.global	HAL_SPI_Transmit
 315              		.thumb
 316              		.thumb_func
 318              	HAL_SPI_Transmit:
 319              	.LFB127:
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group2 IO operation functions
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  *  @brief   Data transfers functions
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  *
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @verbatim
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ==============================================================================
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                       ##### IO operation functions #####
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  [..]
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     This subsection provides a set of functions allowing to manage the SPI
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     data transfers.
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..] The SPI supports master and slave mode :
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     (#) There are two modes of transfer:
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        (++) Blocking mode: The communication is performed in polling mode.
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             The HAL status of all data processing is returned by the same function
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             after finishing transfer.
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        (++) No-Blocking mode: The communication is performed using Interrupts
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             or DMA, These APIs return the HAL status.
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             The end of the data processing will be indicated through the
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             dedicated SPI IRQ when using Interrupt mode or the DMA IRQ when
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             using DMA mode.
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             The HAL_SPI_TxCpltCallback(), HAL_SPI_RxCpltCallback() and HAL_SPI_TxRxCpltCallback() u
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             will be executed respectively at the end of the transmit or Receive process
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             The HAL_SPI_ErrorCallback()user callback will be executed when a communication error is
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     (#) APIs provided for these 2 transfer modes (Blocking mode or Non blocking mode using either I
ARM GAS  /tmp/cckea6X9.s 			page 14


 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         exist for 1Line (simplex) and 2Lines (full duplex) modes.
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @endverbatim
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit an amount of data in blocking mode.
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout Timeout duration
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 320              		.loc 1 448 0
 321              		.cfi_startproc
 322              		@ args = 0, pretend = 0, frame = 32
 323              		@ frame_needed = 1, uses_anonymous_args = 0
 324 0000 80B5     		push	{r7, lr}
 325              	.LCFI22:
 326              		.cfi_def_cfa_offset 8
 327              		.cfi_offset 7, -8
 328              		.cfi_offset 14, -4
 329 0002 8AB0     		sub	sp, sp, #40
 330              	.LCFI23:
 331              		.cfi_def_cfa_offset 48
 332 0004 02AF     		add	r7, sp, #8
 333              	.LCFI24:
 334              		.cfi_def_cfa 7, 40
 335 0006 F860     		str	r0, [r7, #12]
 336 0008 B960     		str	r1, [r7, #8]
 337 000a 3B60     		str	r3, [r7]
 338 000c 1346     		mov	r3, r2	@ movhi
 339 000e FB80     		strh	r3, [r7, #6]	@ movhi
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart = 0U;
 340              		.loc 1 449 0
 341 0010 0023     		movs	r3, #0
 342 0012 BB61     		str	r3, [r7, #24]
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 343              		.loc 1 450 0
 344 0014 0023     		movs	r3, #0
 345 0016 FB77     		strb	r3, [r7, #31]
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 346              		.loc 1 456 0
 347 0018 FB68     		ldr	r3, [r7, #12]
 348 001a 93F85030 		ldrb	r3, [r3, #80]	@ zero_extendqisi2
 349 001e 012B     		cmp	r3, #1
 350 0020 01D1     		bne	.L11
 351              		.loc 1 456 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/cckea6X9.s 			page 15


 352 0022 0223     		movs	r3, #2
 353 0024 23E1     		b	.L12
 354              	.L11:
 355              		.loc 1 456 0 discriminator 2
 356 0026 FB68     		ldr	r3, [r7, #12]
 357 0028 0122     		movs	r2, #1
 358 002a 83F85020 		strb	r2, [r3, #80]
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 359              		.loc 1 459 0 is_stmt 1 discriminator 2
 360 002e FFF7FEFF 		bl	HAL_GetTick
 361 0032 B861     		str	r0, [r7, #24]
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
 362              		.loc 1 461 0 discriminator 2
 363 0034 FB68     		ldr	r3, [r7, #12]
 364 0036 93F85130 		ldrb	r3, [r3, #81]
 365 003a DBB2     		uxtb	r3, r3
 366 003c 012B     		cmp	r3, #1
 367 003e 02D0     		beq	.L13
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 368              		.loc 1 463 0
 369 0040 0223     		movs	r3, #2
 370 0042 FB77     		strb	r3, [r7, #31]
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 371              		.loc 1 464 0
 372 0044 0AE1     		b	.L14
 373              	.L13:
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((pData == NULL ) || (Size == 0))
 374              		.loc 1 467 0
 375 0046 BB68     		ldr	r3, [r7, #8]
 376 0048 002B     		cmp	r3, #0
 377 004a 02D0     		beq	.L15
 378              		.loc 1 467 0 is_stmt 0 discriminator 1
 379 004c FB88     		ldrh	r3, [r7, #6]
 380 004e 002B     		cmp	r3, #0
 381 0050 02D1     		bne	.L16
 382              	.L15:
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 383              		.loc 1 469 0 is_stmt 1
 384 0052 0123     		movs	r3, #1
 385 0054 FB77     		strb	r3, [r7, #31]
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 386              		.loc 1 470 0
 387 0056 01E1     		b	.L14
 388              	.L16:
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 389              		.loc 1 474 0
 390 0058 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cckea6X9.s 			page 16


 391 005a 0322     		movs	r2, #3
 392 005c 83F85120 		strb	r2, [r3, #81]
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 393              		.loc 1 475 0
 394 0060 FB68     		ldr	r3, [r7, #12]
 395 0062 0022     		movs	r2, #0
 396 0064 5A65     		str	r2, [r3, #84]
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 397              		.loc 1 476 0
 398 0066 FB68     		ldr	r3, [r7, #12]
 399 0068 BA68     		ldr	r2, [r7, #8]
 400 006a 1A63     		str	r2, [r3, #48]
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 401              		.loc 1 477 0
 402 006c FB68     		ldr	r3, [r7, #12]
 403 006e FA88     		ldrh	r2, [r7, #6]	@ movhi
 404 0070 9A86     		strh	r2, [r3, #52]	@ movhi
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 405              		.loc 1 478 0
 406 0072 FB68     		ldr	r3, [r7, #12]
 407 0074 FA88     		ldrh	r2, [r7, #6]	@ movhi
 408 0076 DA86     		strh	r2, [r3, #54]	@ movhi
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*Init field not used in handle to zero */
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 409              		.loc 1 481 0
 410 0078 FB68     		ldr	r3, [r7, #12]
 411 007a 0022     		movs	r2, #0
 412 007c 9A63     		str	r2, [r3, #56]
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 413              		.loc 1 482 0
 414 007e FB68     		ldr	r3, [r7, #12]
 415 0080 0022     		movs	r2, #0
 416 0082 9A87     		strh	r2, [r3, #60]	@ movhi
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 417              		.loc 1 483 0
 418 0084 FB68     		ldr	r3, [r7, #12]
 419 0086 0022     		movs	r2, #0
 420 0088 DA87     		strh	r2, [r3, #62]	@ movhi
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 421              		.loc 1 484 0
 422 008a FB68     		ldr	r3, [r7, #12]
 423 008c 0022     		movs	r2, #0
 424 008e 5A64     		str	r2, [r3, #68]
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 425              		.loc 1 485 0
 426 0090 FB68     		ldr	r3, [r7, #12]
 427 0092 0022     		movs	r2, #0
 428 0094 1A64     		str	r2, [r3, #64]
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 429              		.loc 1 488 0
 430 0096 FB68     		ldr	r3, [r7, #12]
 431 0098 9B68     		ldr	r3, [r3, #8]
 432 009a B3F5004F 		cmp	r3, #32768
 433 009e 07D1     		bne	.L17
ARM GAS  /tmp/cckea6X9.s 			page 17


 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 434              		.loc 1 490 0
 435 00a0 FB68     		ldr	r3, [r7, #12]
 436 00a2 1B68     		ldr	r3, [r3]
 437 00a4 FA68     		ldr	r2, [r7, #12]
 438 00a6 1268     		ldr	r2, [r2]
 439 00a8 1268     		ldr	r2, [r2]
 440 00aa 42F48042 		orr	r2, r2, #16384
 441 00ae 1A60     		str	r2, [r3]
 442              	.L17:
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 443              		.loc 1 502 0
 444 00b0 FB68     		ldr	r3, [r7, #12]
 445 00b2 1B68     		ldr	r3, [r3]
 446 00b4 1B68     		ldr	r3, [r3]
 447 00b6 03F04003 		and	r3, r3, #64
 448 00ba 002B     		cmp	r3, #0
 449 00bc 07D1     		bne	.L18
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 450              		.loc 1 505 0
 451 00be FB68     		ldr	r3, [r7, #12]
 452 00c0 1B68     		ldr	r3, [r3]
 453 00c2 FA68     		ldr	r2, [r7, #12]
 454 00c4 1268     		ldr	r2, [r2]
 455 00c6 1268     		ldr	r2, [r2]
 456 00c8 42F04002 		orr	r2, r2, #64
 457 00cc 1A60     		str	r2, [r3]
 458              	.L18:
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 459              		.loc 1 509 0
 460 00ce FB68     		ldr	r3, [r7, #12]
 461 00d0 DB68     		ldr	r3, [r3, #12]
 462 00d2 B3F5006F 		cmp	r3, #2048
 463 00d6 47D1     		bne	.L19
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_SLAVE) || (hspi->TxXferCount == 0x01))
 464              		.loc 1 511 0
 465 00d8 FB68     		ldr	r3, [r7, #12]
 466 00da 5B68     		ldr	r3, [r3, #4]
 467 00dc 002B     		cmp	r3, #0
ARM GAS  /tmp/cckea6X9.s 			page 18


 468 00de 04D0     		beq	.L20
 469              		.loc 1 511 0 is_stmt 0 discriminator 1
 470 00e0 FB68     		ldr	r3, [r7, #12]
 471 00e2 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 472 00e4 9BB2     		uxth	r3, r3
 473 00e6 012B     		cmp	r3, #1
 474 00e8 0ED1     		bne	.L21
 475              	.L20:
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->Instance->DR = *((uint16_t *)pData);
 476              		.loc 1 513 0 is_stmt 1
 477 00ea FB68     		ldr	r3, [r7, #12]
 478 00ec 1B68     		ldr	r3, [r3]
 479 00ee BA68     		ldr	r2, [r7, #8]
 480 00f0 1288     		ldrh	r2, [r2]
 481 00f2 DA60     		str	r2, [r3, #12]
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       pData += sizeof(uint16_t);
 482              		.loc 1 514 0
 483 00f4 BB68     		ldr	r3, [r7, #8]
 484 00f6 0233     		adds	r3, r3, #2
 485 00f8 BB60     		str	r3, [r7, #8]
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
 486              		.loc 1 515 0
 487 00fa FB68     		ldr	r3, [r7, #12]
 488 00fc DB8E     		ldrh	r3, [r3, #54]	@ movhi
 489 00fe 9BB2     		uxth	r3, r3
 490 0100 013B     		subs	r3, r3, #1
 491 0102 9AB2     		uxth	r2, r3
 492 0104 FB68     		ldr	r3, [r7, #12]
 493 0106 DA86     		strh	r2, [r3, #54]	@ movhi
 494              	.L21:
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Transmit data in 16 Bit mode */
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 495              		.loc 1 518 0
 496 0108 28E0     		b	.L22
 497              	.L25:
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 498              		.loc 1 521 0
 499 010a FB68     		ldr	r3, [r7, #12]
 500 010c 1B68     		ldr	r3, [r3]
 501 010e 9B68     		ldr	r3, [r3, #8]
 502 0110 03F00203 		and	r3, r3, #2
 503 0114 002B     		cmp	r3, #0
 504 0116 0FD0     		beq	.L23
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->Instance->DR = *((uint16_t *)pData);
 505              		.loc 1 523 0
 506 0118 FB68     		ldr	r3, [r7, #12]
 507 011a 1B68     		ldr	r3, [r3]
 508 011c BA68     		ldr	r2, [r7, #8]
 509 011e 1288     		ldrh	r2, [r2]
 510 0120 DA60     		str	r2, [r3, #12]
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           pData += sizeof(uint16_t);
 511              		.loc 1 524 0
ARM GAS  /tmp/cckea6X9.s 			page 19


 512 0122 BB68     		ldr	r3, [r7, #8]
 513 0124 0233     		adds	r3, r3, #2
 514 0126 BB60     		str	r3, [r7, #8]
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->TxXferCount--;
 515              		.loc 1 525 0
 516 0128 FB68     		ldr	r3, [r7, #12]
 517 012a DB8E     		ldrh	r3, [r3, #54]	@ movhi
 518 012c 9BB2     		uxth	r3, r3
 519 012e 013B     		subs	r3, r3, #1
 520 0130 9AB2     		uxth	r2, r3
 521 0132 FB68     		ldr	r3, [r7, #12]
 522 0134 DA86     		strh	r2, [r3, #54]	@ movhi
 523 0136 11E0     		b	.L22
 524              	.L23:
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Timeout management */
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if((Timeout == 0U) || ((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout
 525              		.loc 1 530 0
 526 0138 3B68     		ldr	r3, [r7]
 527 013a 002B     		cmp	r3, #0
 528 013c 0BD0     		beq	.L24
 529              		.loc 1 530 0 is_stmt 0 discriminator 1
 530 013e 3B68     		ldr	r3, [r7]
 531 0140 B3F1FF3F 		cmp	r3, #-1
 532 0144 0AD0     		beq	.L22
 533              		.loc 1 530 0 discriminator 2
 534 0146 FFF7FEFF 		bl	HAL_GetTick
 535 014a 0246     		mov	r2, r0
 536 014c BB69     		ldr	r3, [r7, #24]
 537 014e D21A     		subs	r2, r2, r3
 538 0150 3B68     		ldr	r3, [r7]
 539 0152 9A42     		cmp	r2, r3
 540 0154 02D3     		bcc	.L22
 541              	.L24:
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 542              		.loc 1 532 0 is_stmt 1
 543 0156 0323     		movs	r3, #3
 544 0158 FB77     		strb	r3, [r7, #31]
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
 545              		.loc 1 533 0
 546 015a 7FE0     		b	.L14
 547              	.L22:
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 548              		.loc 1 518 0
 549 015c FB68     		ldr	r3, [r7, #12]
 550 015e DB8E     		ldrh	r3, [r3, #54]	@ movhi
 551 0160 9BB2     		uxth	r3, r3
 552 0162 002B     		cmp	r3, #0
 553 0164 D1D1     		bne	.L25
 554 0166 48E0     		b	.L26
 555              	.L19:
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  /tmp/cckea6X9.s 			page 20


 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_SLAVE)|| (hspi->TxXferCount == 0x01))
 556              		.loc 1 541 0
 557 0168 FB68     		ldr	r3, [r7, #12]
 558 016a 5B68     		ldr	r3, [r3, #4]
 559 016c 002B     		cmp	r3, #0
 560 016e 04D0     		beq	.L27
 561              		.loc 1 541 0 is_stmt 0 discriminator 1
 562 0170 FB68     		ldr	r3, [r7, #12]
 563 0172 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 564 0174 9BB2     		uxth	r3, r3
 565 0176 012B     		cmp	r3, #1
 566 0178 0FD1     		bne	.L28
 567              	.L27:
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       *((__IO uint8_t*)&hspi->Instance->DR) = (*pData);
 568              		.loc 1 543 0 is_stmt 1
 569 017a FB68     		ldr	r3, [r7, #12]
 570 017c 1B68     		ldr	r3, [r3]
 571 017e 0C33     		adds	r3, r3, #12
 572 0180 BA68     		ldr	r2, [r7, #8]
 573 0182 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 574 0184 1A70     		strb	r2, [r3]
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       pData += sizeof(uint8_t);
 575              		.loc 1 544 0
 576 0186 BB68     		ldr	r3, [r7, #8]
 577 0188 0133     		adds	r3, r3, #1
 578 018a BB60     		str	r3, [r7, #8]
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
 579              		.loc 1 545 0
 580 018c FB68     		ldr	r3, [r7, #12]
 581 018e DB8E     		ldrh	r3, [r3, #54]	@ movhi
 582 0190 9BB2     		uxth	r3, r3
 583 0192 013B     		subs	r3, r3, #1
 584 0194 9AB2     		uxth	r2, r3
 585 0196 FB68     		ldr	r3, [r7, #12]
 586 0198 DA86     		strh	r2, [r3, #54]	@ movhi
 587              	.L28:
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 588              		.loc 1 547 0
 589 019a 29E0     		b	.L29
 590              	.L32:
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 591              		.loc 1 550 0
 592 019c FB68     		ldr	r3, [r7, #12]
 593 019e 1B68     		ldr	r3, [r3]
 594 01a0 9B68     		ldr	r3, [r3, #8]
 595 01a2 03F00203 		and	r3, r3, #2
 596 01a6 002B     		cmp	r3, #0
 597 01a8 10D0     		beq	.L30
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
ARM GAS  /tmp/cckea6X9.s 			page 21


 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         *((__IO uint8_t*)&hspi->Instance->DR) = (*pData);
 598              		.loc 1 552 0
 599 01aa FB68     		ldr	r3, [r7, #12]
 600 01ac 1B68     		ldr	r3, [r3]
 601 01ae 0C33     		adds	r3, r3, #12
 602 01b0 BA68     		ldr	r2, [r7, #8]
 603 01b2 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 604 01b4 1A70     		strb	r2, [r3]
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         pData += sizeof(uint8_t);
 605              		.loc 1 553 0
 606 01b6 BB68     		ldr	r3, [r7, #8]
 607 01b8 0133     		adds	r3, r3, #1
 608 01ba BB60     		str	r3, [r7, #8]
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 609              		.loc 1 554 0
 610 01bc FB68     		ldr	r3, [r7, #12]
 611 01be DB8E     		ldrh	r3, [r3, #54]	@ movhi
 612 01c0 9BB2     		uxth	r3, r3
 613 01c2 013B     		subs	r3, r3, #1
 614 01c4 9AB2     		uxth	r2, r3
 615 01c6 FB68     		ldr	r3, [r7, #12]
 616 01c8 DA86     		strh	r2, [r3, #54]	@ movhi
 617 01ca 11E0     		b	.L29
 618              	.L30:
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Timeout management */
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if((Timeout == 0U) || ((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout
 619              		.loc 1 559 0
 620 01cc 3B68     		ldr	r3, [r7]
 621 01ce 002B     		cmp	r3, #0
 622 01d0 0BD0     		beq	.L31
 623              		.loc 1 559 0 is_stmt 0 discriminator 1
 624 01d2 3B68     		ldr	r3, [r7]
 625 01d4 B3F1FF3F 		cmp	r3, #-1
 626 01d8 0AD0     		beq	.L29
 627              		.loc 1 559 0 discriminator 2
 628 01da FFF7FEFF 		bl	HAL_GetTick
 629 01de 0246     		mov	r2, r0
 630 01e0 BB69     		ldr	r3, [r7, #24]
 631 01e2 D21A     		subs	r2, r2, r3
 632 01e4 3B68     		ldr	r3, [r7]
 633 01e6 9A42     		cmp	r2, r3
 634 01e8 02D3     		bcc	.L29
 635              	.L31:
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 636              		.loc 1 561 0 is_stmt 1
 637 01ea 0323     		movs	r3, #3
 638 01ec FB77     		strb	r3, [r7, #31]
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
 639              		.loc 1 562 0
 640 01ee 35E0     		b	.L14
 641              	.L29:
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 642              		.loc 1 547 0
ARM GAS  /tmp/cckea6X9.s 			page 22


 643 01f0 FB68     		ldr	r3, [r7, #12]
 644 01f2 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 645 01f4 9BB2     		uxth	r3, r3
 646 01f6 002B     		cmp	r3, #0
 647 01f8 D0D1     		bne	.L32
 648              	.L26:
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag */
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_TXE, SET, Timeout, tickstart) != HAL_OK)
 649              		.loc 1 569 0
 650 01fa BB69     		ldr	r3, [r7, #24]
 651 01fc 0093     		str	r3, [sp]
 652 01fe F868     		ldr	r0, [r7, #12]
 653 0200 0221     		movs	r1, #2
 654 0202 0122     		movs	r2, #1
 655 0204 3B68     		ldr	r3, [r7]
 656 0206 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 657 020a 0346     		mov	r3, r0
 658 020c 002B     		cmp	r3, #0
 659 020e 02D0     		beq	.L33
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_TIMEOUT;
 660              		.loc 1 571 0
 661 0210 0323     		movs	r3, #3
 662 0212 FB77     		strb	r3, [r7, #31]
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 663              		.loc 1 572 0
 664 0214 22E0     		b	.L14
 665              	.L33:
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Busy flag */
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_CheckFlag_BSY(hspi, Timeout, tickstart) != HAL_OK)
 666              		.loc 1 576 0
 667 0216 F868     		ldr	r0, [r7, #12]
 668 0218 3968     		ldr	r1, [r7]
 669 021a BA69     		ldr	r2, [r7, #24]
 670 021c FFF7FEFF 		bl	SPI_CheckFlag_BSY
 671 0220 0346     		mov	r3, r0
 672 0222 002B     		cmp	r3, #0
 673 0224 05D0     		beq	.L34
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 674              		.loc 1 578 0
 675 0226 0123     		movs	r3, #1
 676 0228 FB77     		strb	r3, [r7, #31]
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 677              		.loc 1 579 0
 678 022a FB68     		ldr	r3, [r7, #12]
 679 022c 2022     		movs	r2, #32
 680 022e 5A65     		str	r2, [r3, #84]
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 681              		.loc 1 580 0
ARM GAS  /tmp/cckea6X9.s 			page 23


 682 0230 14E0     		b	.L14
 683              	.L34:
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
 684              		.loc 1 584 0
 685 0232 FB68     		ldr	r3, [r7, #12]
 686 0234 9B68     		ldr	r3, [r3, #8]
 687 0236 002B     		cmp	r3, #0
 688 0238 0AD1     		bne	.L35
 689              	.LBB2:
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 690              		.loc 1 586 0
 691 023a 0023     		movs	r3, #0
 692 023c 7B61     		str	r3, [r7, #20]
 693 023e FB68     		ldr	r3, [r7, #12]
 694 0240 1B68     		ldr	r3, [r3]
 695 0242 DB68     		ldr	r3, [r3, #12]
 696 0244 7B61     		str	r3, [r7, #20]
 697 0246 FB68     		ldr	r3, [r7, #12]
 698 0248 1B68     		ldr	r3, [r3]
 699 024a 9B68     		ldr	r3, [r3, #8]
 700 024c 7B61     		str	r3, [r7, #20]
 701 024e 7B69     		ldr	r3, [r7, #20]
 702              	.L35:
 703              	.LBE2:
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable CRC Transmission */
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 704              		.loc 1 596 0
 705 0250 FB68     		ldr	r3, [r7, #12]
 706 0252 5B6D     		ldr	r3, [r3, #84]
 707 0254 002B     		cmp	r3, #0
 708 0256 01D0     		beq	.L14
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 709              		.loc 1 598 0
 710 0258 0123     		movs	r3, #1
 711 025a FB77     		strb	r3, [r7, #31]
 712              	.L14:
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error:
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 713              		.loc 1 602 0
 714 025c FB68     		ldr	r3, [r7, #12]
 715 025e 0122     		movs	r2, #1
 716 0260 83F85120 		strb	r2, [r3, #81]
ARM GAS  /tmp/cckea6X9.s 			page 24


 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 717              		.loc 1 604 0
 718 0264 FB68     		ldr	r3, [r7, #12]
 719 0266 0022     		movs	r2, #0
 720 0268 83F85020 		strb	r2, [r3, #80]
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 721              		.loc 1 605 0
 722 026c FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 723              	.L12:
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 724              		.loc 1 606 0
 725 026e 1846     		mov	r0, r3
 726 0270 2037     		adds	r7, r7, #32
 727              	.LCFI25:
 728              		.cfi_def_cfa_offset 8
 729 0272 BD46     		mov	sp, r7
 730              	.LCFI26:
 731              		.cfi_def_cfa_register 13
 732              		@ sp needed
 733 0274 80BD     		pop	{r7, pc}
 734              		.cfi_endproc
 735              	.LFE127:
 737 0276 00BF     		.section	.text.HAL_SPI_Receive,"ax",%progbits
 738              		.align	2
 739              		.global	HAL_SPI_Receive
 740              		.thumb
 741              		.thumb_func
 743              	HAL_SPI_Receive:
 744              	.LFB128:
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Receive an amount of data in blocking mode.
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be received
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout Timeout duration
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t 
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 745              		.loc 1 618 0
 746              		.cfi_startproc
 747              		@ args = 0, pretend = 0, frame = 24
 748              		@ frame_needed = 1, uses_anonymous_args = 0
 749 0000 90B5     		push	{r4, r7, lr}
 750              	.LCFI27:
 751              		.cfi_def_cfa_offset 12
 752              		.cfi_offset 4, -12
 753              		.cfi_offset 7, -8
 754              		.cfi_offset 14, -4
 755 0002 89B0     		sub	sp, sp, #36
 756              	.LCFI28:
 757              		.cfi_def_cfa_offset 48
 758 0004 02AF     		add	r7, sp, #8
 759              	.LCFI29:
ARM GAS  /tmp/cckea6X9.s 			page 25


 760              		.cfi_def_cfa 7, 40
 761 0006 F860     		str	r0, [r7, #12]
 762 0008 B960     		str	r1, [r7, #8]
 763 000a 3B60     		str	r3, [r7]
 764 000c 1346     		mov	r3, r2	@ movhi
 765 000e FB80     		strh	r3, [r7, #6]	@ movhi
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint16_t tmpreg = 0U;
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart = 0U;
 766              		.loc 1 622 0
 767 0010 0023     		movs	r3, #0
 768 0012 3B61     		str	r3, [r7, #16]
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 769              		.loc 1 623 0
 770 0014 0023     		movs	r3, #0
 771 0016 FB75     		strb	r3, [r7, #23]
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES))
 772              		.loc 1 625 0
 773 0018 FB68     		ldr	r3, [r7, #12]
 774 001a 5B68     		ldr	r3, [r3, #4]
 775 001c B3F5827F 		cmp	r3, #260
 776 0020 12D1     		bne	.L37
 777              		.loc 1 625 0 is_stmt 0 discriminator 1
 778 0022 FB68     		ldr	r3, [r7, #12]
 779 0024 9B68     		ldr	r3, [r3, #8]
 780 0026 002B     		cmp	r3, #0
 781 0028 0ED1     		bne	.L37
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      hspi->State = HAL_SPI_STATE_BUSY_RX;
 782              		.loc 1 627 0 is_stmt 1
 783 002a FB68     		ldr	r3, [r7, #12]
 784 002c 0422     		movs	r2, #4
 785 002e 83F85120 		strb	r2, [r3, #81]
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive(hspi,pData,pData,Size,Timeout);
 786              		.loc 1 629 0
 787 0032 FC88     		ldrh	r4, [r7, #6]
 788 0034 3B68     		ldr	r3, [r7]
 789 0036 0093     		str	r3, [sp]
 790 0038 F868     		ldr	r0, [r7, #12]
 791 003a B968     		ldr	r1, [r7, #8]
 792 003c BA68     		ldr	r2, [r7, #8]
 793 003e 2346     		mov	r3, r4
 794 0040 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 795 0044 0346     		mov	r3, r0
 796 0046 E6E0     		b	.L38
 797              	.L37:
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 798              		.loc 1 633 0
 799 0048 FB68     		ldr	r3, [r7, #12]
 800 004a 93F85030 		ldrb	r3, [r3, #80]	@ zero_extendqisi2
 801 004e 012B     		cmp	r3, #1
ARM GAS  /tmp/cckea6X9.s 			page 26


 802 0050 01D1     		bne	.L39
 803              		.loc 1 633 0 is_stmt 0 discriminator 1
 804 0052 0223     		movs	r3, #2
 805 0054 DFE0     		b	.L38
 806              	.L39:
 807              		.loc 1 633 0 discriminator 2
 808 0056 FB68     		ldr	r3, [r7, #12]
 809 0058 0122     		movs	r2, #1
 810 005a 83F85020 		strb	r2, [r3, #80]
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 811              		.loc 1 636 0 is_stmt 1 discriminator 2
 812 005e FFF7FEFF 		bl	HAL_GetTick
 813 0062 3861     		str	r0, [r7, #16]
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
 814              		.loc 1 638 0 discriminator 2
 815 0064 FB68     		ldr	r3, [r7, #12]
 816 0066 93F85130 		ldrb	r3, [r3, #81]
 817 006a DBB2     		uxtb	r3, r3
 818 006c 012B     		cmp	r3, #1
 819 006e 02D0     		beq	.L40
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 820              		.loc 1 640 0
 821 0070 0223     		movs	r3, #2
 822 0072 FB75     		strb	r3, [r7, #23]
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 823              		.loc 1 641 0
 824 0074 C6E0     		b	.L41
 825              	.L40:
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((pData == NULL ) || (Size == 0))
 826              		.loc 1 644 0
 827 0076 BB68     		ldr	r3, [r7, #8]
 828 0078 002B     		cmp	r3, #0
 829 007a 02D0     		beq	.L42
 830              		.loc 1 644 0 is_stmt 0 discriminator 1
 831 007c FB88     		ldrh	r3, [r7, #6]
 832 007e 002B     		cmp	r3, #0
 833 0080 02D1     		bne	.L43
 834              	.L42:
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 835              		.loc 1 646 0 is_stmt 1
 836 0082 0123     		movs	r3, #1
 837 0084 FB75     		strb	r3, [r7, #23]
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 838              		.loc 1 647 0
 839 0086 BDE0     		b	.L41
 840              	.L43:
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
ARM GAS  /tmp/cckea6X9.s 			page 27


 841              		.loc 1 651 0
 842 0088 FB68     		ldr	r3, [r7, #12]
 843 008a 0422     		movs	r2, #4
 844 008c 83F85120 		strb	r2, [r3, #81]
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 845              		.loc 1 652 0
 846 0090 FB68     		ldr	r3, [r7, #12]
 847 0092 0022     		movs	r2, #0
 848 0094 5A65     		str	r2, [r3, #84]
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 849              		.loc 1 653 0
 850 0096 FB68     		ldr	r3, [r7, #12]
 851 0098 BA68     		ldr	r2, [r7, #8]
 852 009a 9A63     		str	r2, [r3, #56]
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 853              		.loc 1 654 0
 854 009c FB68     		ldr	r3, [r7, #12]
 855 009e FA88     		ldrh	r2, [r7, #6]	@ movhi
 856 00a0 9A87     		strh	r2, [r3, #60]	@ movhi
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 857              		.loc 1 655 0
 858 00a2 FB68     		ldr	r3, [r7, #12]
 859 00a4 FA88     		ldrh	r2, [r7, #6]	@ movhi
 860 00a6 DA87     		strh	r2, [r3, #62]	@ movhi
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*Init field not used in handle to zero */
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
 861              		.loc 1 658 0
 862 00a8 FB68     		ldr	r3, [r7, #12]
 863 00aa 0022     		movs	r2, #0
 864 00ac 1A63     		str	r2, [r3, #48]
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 865              		.loc 1 659 0
 866 00ae FB68     		ldr	r3, [r7, #12]
 867 00b0 0022     		movs	r2, #0
 868 00b2 9A86     		strh	r2, [r3, #52]	@ movhi
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 869              		.loc 1 660 0
 870 00b4 FB68     		ldr	r3, [r7, #12]
 871 00b6 0022     		movs	r2, #0
 872 00b8 DA86     		strh	r2, [r3, #54]	@ movhi
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 873              		.loc 1 661 0
 874 00ba FB68     		ldr	r3, [r7, #12]
 875 00bc 0022     		movs	r2, #0
 876 00be 1A64     		str	r2, [r3, #64]
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 877              		.loc 1 662 0
 878 00c0 FB68     		ldr	r3, [r7, #12]
 879 00c2 0022     		movs	r2, #0
 880 00c4 5A64     		str	r2, [r3, #68]
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
ARM GAS  /tmp/cckea6X9.s 			page 28


 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* this is done to handle the CRCNEXT before the latest data */
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount--;
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction: 1Line */
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 881              		.loc 1 675 0
 882 00c6 FB68     		ldr	r3, [r7, #12]
 883 00c8 9B68     		ldr	r3, [r3, #8]
 884 00ca B3F5004F 		cmp	r3, #32768
 885 00ce 07D1     		bne	.L44
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 886              		.loc 1 677 0
 887 00d0 FB68     		ldr	r3, [r7, #12]
 888 00d2 1B68     		ldr	r3, [r3]
 889 00d4 FA68     		ldr	r2, [r7, #12]
 890 00d6 1268     		ldr	r2, [r2]
 891 00d8 1268     		ldr	r2, [r2]
 892 00da 22F48042 		bic	r2, r2, #16384
 893 00de 1A60     		str	r2, [r3]
 894              	.L44:
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 895              		.loc 1 681 0
 896 00e0 FB68     		ldr	r3, [r7, #12]
 897 00e2 1B68     		ldr	r3, [r3]
 898 00e4 1B68     		ldr	r3, [r3]
 899 00e6 03F04003 		and	r3, r3, #64
 900 00ea 002B     		cmp	r3, #0
 901 00ec 07D1     		bne	.L45
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 902              		.loc 1 684 0
 903 00ee FB68     		ldr	r3, [r7, #12]
 904 00f0 1B68     		ldr	r3, [r3]
 905 00f2 FA68     		ldr	r2, [r7, #12]
 906 00f4 1268     		ldr	r2, [r2]
 907 00f6 1268     		ldr	r2, [r2]
 908 00f8 42F04002 		orr	r2, r2, #64
 909 00fc 1A60     		str	r2, [r3]
 910              	.L45:
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Receive data in 8 Bit mode */
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 911              		.loc 1 688 0
 912 00fe FB68     		ldr	r3, [r7, #12]
 913 0100 DB68     		ldr	r3, [r3, #12]
 914 0102 002B     		cmp	r3, #0
 915 0104 31D1     		bne	.L46
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Transfer loop */
ARM GAS  /tmp/cckea6X9.s 			page 29


 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while(hspi->RxXferCount > 0U)
 916              		.loc 1 691 0
 917 0106 2AE0     		b	.L47
 918              	.L50:
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Check the RXNE flag */
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
 919              		.loc 1 694 0
 920 0108 FB68     		ldr	r3, [r7, #12]
 921 010a 1B68     		ldr	r3, [r3]
 922 010c 9B68     		ldr	r3, [r3, #8]
 923 010e 03F00103 		and	r3, r3, #1
 924 0112 002B     		cmp	r3, #0
 925 0114 11D0     		beq	.L48
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* read the received data */
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (* (uint8_t *)pData)= *(__IO uint8_t *)&hspi->Instance->DR;
 926              		.loc 1 697 0
 927 0116 FB68     		ldr	r3, [r7, #12]
 928 0118 1B68     		ldr	r3, [r3]
 929 011a 0C33     		adds	r3, r3, #12
 930 011c 1B78     		ldrb	r3, [r3]
 931 011e DAB2     		uxtb	r2, r3
 932 0120 BB68     		ldr	r3, [r7, #8]
 933 0122 1A70     		strb	r2, [r3]
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         pData += sizeof(uint8_t);
 934              		.loc 1 698 0
 935 0124 BB68     		ldr	r3, [r7, #8]
 936 0126 0133     		adds	r3, r3, #1
 937 0128 BB60     		str	r3, [r7, #8]
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 938              		.loc 1 699 0
 939 012a FB68     		ldr	r3, [r7, #12]
 940 012c DB8F     		ldrh	r3, [r3, #62]	@ movhi
 941 012e 9BB2     		uxth	r3, r3
 942 0130 013B     		subs	r3, r3, #1
 943 0132 9AB2     		uxth	r2, r3
 944 0134 FB68     		ldr	r3, [r7, #12]
 945 0136 DA87     		strh	r2, [r3, #62]	@ movhi
 946 0138 11E0     		b	.L47
 947              	.L48:
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Timeout management */
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if((Timeout == 0U) || ((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout
 948              		.loc 1 704 0
 949 013a 3B68     		ldr	r3, [r7]
 950 013c 002B     		cmp	r3, #0
 951 013e 0BD0     		beq	.L49
 952              		.loc 1 704 0 is_stmt 0 discriminator 1
 953 0140 3B68     		ldr	r3, [r7]
 954 0142 B3F1FF3F 		cmp	r3, #-1
 955 0146 0AD0     		beq	.L47
 956              		.loc 1 704 0 discriminator 2
 957 0148 FFF7FEFF 		bl	HAL_GetTick
 958 014c 0246     		mov	r2, r0
ARM GAS  /tmp/cckea6X9.s 			page 30


 959 014e 3B69     		ldr	r3, [r7, #16]
 960 0150 D21A     		subs	r2, r2, r3
 961 0152 3B68     		ldr	r3, [r7]
 962 0154 9A42     		cmp	r2, r3
 963 0156 02D3     		bcc	.L47
 964              	.L49:
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 965              		.loc 1 706 0 is_stmt 1
 966 0158 0323     		movs	r3, #3
 967 015a FB75     		strb	r3, [r7, #23]
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
 968              		.loc 1 707 0
 969 015c 52E0     		b	.L41
 970              	.L47:
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 971              		.loc 1 691 0
 972 015e FB68     		ldr	r3, [r7, #12]
 973 0160 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 974 0162 9BB2     		uxth	r3, r3
 975 0164 002B     		cmp	r3, #0
 976 0166 CFD1     		bne	.L50
 977 0168 2FE0     		b	.L51
 978              	.L46:
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Transfer loop */
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while(hspi->RxXferCount > 0U)
 979              		.loc 1 715 0
 980 016a 29E0     		b	.L52
 981              	.L55:
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Check the RXNE flag */
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
 982              		.loc 1 718 0
 983 016c FB68     		ldr	r3, [r7, #12]
 984 016e 1B68     		ldr	r3, [r3]
 985 0170 9B68     		ldr	r3, [r3, #8]
 986 0172 03F00103 		and	r3, r3, #1
 987 0176 002B     		cmp	r3, #0
 988 0178 10D0     		beq	.L53
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         *((uint16_t*)pData) = hspi->Instance->DR;
 989              		.loc 1 720 0
 990 017a FB68     		ldr	r3, [r7, #12]
 991 017c 1B68     		ldr	r3, [r3]
 992 017e DB68     		ldr	r3, [r3, #12]
 993 0180 9AB2     		uxth	r2, r3
 994 0182 BB68     		ldr	r3, [r7, #8]
 995 0184 1A80     		strh	r2, [r3]	@ movhi
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         pData += sizeof(uint16_t);
 996              		.loc 1 721 0
 997 0186 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/cckea6X9.s 			page 31


 998 0188 0233     		adds	r3, r3, #2
 999 018a BB60     		str	r3, [r7, #8]
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 1000              		.loc 1 722 0
 1001 018c FB68     		ldr	r3, [r7, #12]
 1002 018e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1003 0190 9BB2     		uxth	r3, r3
 1004 0192 013B     		subs	r3, r3, #1
 1005 0194 9AB2     		uxth	r2, r3
 1006 0196 FB68     		ldr	r3, [r7, #12]
 1007 0198 DA87     		strh	r2, [r3, #62]	@ movhi
 1008 019a 11E0     		b	.L52
 1009              	.L53:
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Timeout management */
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if((Timeout == 0U) || ((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout
 1010              		.loc 1 727 0
 1011 019c 3B68     		ldr	r3, [r7]
 1012 019e 002B     		cmp	r3, #0
 1013 01a0 0BD0     		beq	.L54
 1014              		.loc 1 727 0 is_stmt 0 discriminator 1
 1015 01a2 3B68     		ldr	r3, [r7]
 1016 01a4 B3F1FF3F 		cmp	r3, #-1
 1017 01a8 0AD0     		beq	.L52
 1018              		.loc 1 727 0 discriminator 2
 1019 01aa FFF7FEFF 		bl	HAL_GetTick
 1020 01ae 0246     		mov	r2, r0
 1021 01b0 3B69     		ldr	r3, [r7, #16]
 1022 01b2 D21A     		subs	r2, r2, r3
 1023 01b4 3B68     		ldr	r3, [r7]
 1024 01b6 9A42     		cmp	r2, r3
 1025 01b8 02D3     		bcc	.L52
 1026              	.L54:
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 1027              		.loc 1 729 0 is_stmt 1
 1028 01ba 0323     		movs	r3, #3
 1029 01bc FB75     		strb	r3, [r7, #23]
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
 1030              		.loc 1 730 0
 1031 01be 21E0     		b	.L41
 1032              	.L52:
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1033              		.loc 1 715 0
 1034 01c0 FB68     		ldr	r3, [r7, #12]
 1035 01c2 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1036 01c4 9BB2     		uxth	r3, r3
 1037 01c6 002B     		cmp	r3, #0
 1038 01c8 D0D1     		bne	.L55
 1039              	.L51:
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  /tmp/cckea6X9.s 			page 32


 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Handle the CRC Transmission */
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* freeze the CRC before the latest data */
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Read the latest data */
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* the latest data has not been received */
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       goto error;
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Receive last data in 16 Bit mode */
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       *((uint16_t*)pData) = hspi->Instance->DR;
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Receive last data in 8 Bit mode */
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (*(uint8_t *)pData) = *(__IO uint8_t *)&hspi->Instance->DR;
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait the CRC data */
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       goto error;
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Read CRC to Flush DR and RXNE flag */
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmpreg = hspi->Instance->DR;
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* To avoid GCC warning */
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     UNUSED(tmpreg);
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the end of the transaction */
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi->I
 1040              		.loc 1 778 0
 1041 01ca FB68     		ldr	r3, [r7, #12]
 1042 01cc 5B68     		ldr	r3, [r3, #4]
 1043 01ce B3F5827F 		cmp	r3, #260
 1044 01d2 11D1     		bne	.L56
 1045              		.loc 1 778 0 is_stmt 0 discriminator 1
 1046 01d4 FB68     		ldr	r3, [r7, #12]
 1047 01d6 9B68     		ldr	r3, [r3, #8]
 1048 01d8 B3F5004F 		cmp	r3, #32768
 1049 01dc 04D0     		beq	.L57
 1050              		.loc 1 778 0 discriminator 2
 1051 01de FB68     		ldr	r3, [r7, #12]
 1052 01e0 9B68     		ldr	r3, [r3, #8]
 1053 01e2 B3F5806F 		cmp	r3, #1024
ARM GAS  /tmp/cckea6X9.s 			page 33


 1054 01e6 07D1     		bne	.L56
 1055              	.L57:
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable SPI peripheral */
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 1056              		.loc 1 781 0 is_stmt 1
 1057 01e8 FB68     		ldr	r3, [r7, #12]
 1058 01ea 1B68     		ldr	r3, [r3]
 1059 01ec FA68     		ldr	r2, [r7, #12]
 1060 01ee 1268     		ldr	r2, [r2]
 1061 01f0 1268     		ldr	r2, [r2]
 1062 01f2 22F04002 		bic	r2, r2, #64
 1063 01f6 1A60     		str	r2, [r3]
 1064              	.L56:
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if CRC error occurred */
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 1065              		.loc 1 793 0
 1066 01f8 FB68     		ldr	r3, [r7, #12]
 1067 01fa 5B6D     		ldr	r3, [r3, #84]
 1068 01fc 002B     		cmp	r3, #0
 1069 01fe 01D0     		beq	.L41
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 1070              		.loc 1 795 0
 1071 0200 0123     		movs	r3, #1
 1072 0202 FB75     		strb	r3, [r7, #23]
 1073              	.L41:
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 1074              		.loc 1 799 0
 1075 0204 FB68     		ldr	r3, [r7, #12]
 1076 0206 0122     		movs	r2, #1
 1077 0208 83F85120 		strb	r2, [r3, #81]
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 1078              		.loc 1 800 0
 1079 020c FB68     		ldr	r3, [r7, #12]
 1080 020e 0022     		movs	r2, #0
 1081 0210 83F85020 		strb	r2, [r3, #80]
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 1082              		.loc 1 801 0
 1083 0214 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1084              	.L38:
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1085              		.loc 1 802 0
 1086 0216 1846     		mov	r0, r3
ARM GAS  /tmp/cckea6X9.s 			page 34


 1087 0218 1C37     		adds	r7, r7, #28
 1088              	.LCFI30:
 1089              		.cfi_def_cfa_offset 12
 1090 021a BD46     		mov	sp, r7
 1091              	.LCFI31:
 1092              		.cfi_def_cfa_register 13
 1093              		@ sp needed
 1094 021c 90BD     		pop	{r4, r7, pc}
 1095              		.cfi_endproc
 1096              	.LFE128:
 1098 021e 00BF     		.section	.text.HAL_SPI_TransmitReceive,"ax",%progbits
 1099              		.align	2
 1100              		.global	HAL_SPI_TransmitReceive
 1101              		.thumb
 1102              		.thumb_func
 1104              	HAL_SPI_TransmitReceive:
 1105              	.LFB129:
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in blocking mode.
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout Timeout duration
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pRxDa
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1106              		.loc 1 815 0
 1107              		.cfi_startproc
 1108              		@ args = 4, pretend = 0, frame = 40
 1109              		@ frame_needed = 1, uses_anonymous_args = 0
 1110 0000 80B5     		push	{r7, lr}
 1111              	.LCFI32:
 1112              		.cfi_def_cfa_offset 8
 1113              		.cfi_offset 7, -8
 1114              		.cfi_offset 14, -4
 1115 0002 8CB0     		sub	sp, sp, #48
 1116              	.LCFI33:
 1117              		.cfi_def_cfa_offset 56
 1118 0004 02AF     		add	r7, sp, #8
 1119              	.LCFI34:
 1120              		.cfi_def_cfa 7, 48
 1121 0006 F860     		str	r0, [r7, #12]
 1122 0008 B960     		str	r1, [r7, #8]
 1123 000a 7A60     		str	r2, [r7, #4]
 1124 000c 7B80     		strh	r3, [r7, #2]	@ movhi
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
 1125              		.loc 1 816 0
 1126 000e 0023     		movs	r3, #0
 1127 0010 FB61     		str	r3, [r7, #28]
 1128 0012 0023     		movs	r3, #0
 1129 0014 BB61     		str	r3, [r7, #24]
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint16_t tmpreg1 = 0U;
ARM GAS  /tmp/cckea6X9.s 			page 35


 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart = 0U;
 1130              		.loc 1 820 0
 1131 0016 0023     		movs	r3, #0
 1132 0018 7B61     		str	r3, [r7, #20]
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Variable used to alternate Rx and Tx during transfer */
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t txallowed = 1U;
 1133              		.loc 1 822 0
 1134 001a 0123     		movs	r3, #1
 1135 001c 7B62     		str	r3, [r7, #36]
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1136              		.loc 1 823 0
 1137 001e 0023     		movs	r3, #0
 1138 0020 87F82330 		strb	r3, [r7, #35]
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 1139              		.loc 1 829 0
 1140 0024 FB68     		ldr	r3, [r7, #12]
 1141 0026 93F85030 		ldrb	r3, [r3, #80]	@ zero_extendqisi2
 1142 002a 012B     		cmp	r3, #1
 1143 002c 01D1     		bne	.L59
 1144              		.loc 1 829 0 is_stmt 0 discriminator 1
 1145 002e 0223     		movs	r3, #2
 1146 0030 81E1     		b	.L60
 1147              	.L59:
 1148              		.loc 1 829 0 discriminator 2
 1149 0032 FB68     		ldr	r3, [r7, #12]
 1150 0034 0122     		movs	r2, #1
 1151 0036 83F85020 		strb	r2, [r3, #80]
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 1152              		.loc 1 832 0 is_stmt 1 discriminator 2
 1153 003a FFF7FEFF 		bl	HAL_GetTick
 1154 003e 7861     		str	r0, [r7, #20]
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp  = hspi->State;
 1155              		.loc 1 834 0 discriminator 2
 1156 0040 FB68     		ldr	r3, [r7, #12]
 1157 0042 93F85130 		ldrb	r3, [r3, #81]
 1158 0046 DBB2     		uxtb	r3, r3
 1159 0048 FB61     		str	r3, [r7, #28]
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
 1160              		.loc 1 835 0 discriminator 2
 1161 004a FB68     		ldr	r3, [r7, #12]
 1162 004c 5B68     		ldr	r3, [r3, #4]
 1163 004e BB61     		str	r3, [r7, #24]
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(!((tmp == HAL_SPI_STATE_READY) || \
 1164              		.loc 1 837 0 discriminator 2
 1165 0050 FB69     		ldr	r3, [r7, #28]
 1166 0052 012B     		cmp	r3, #1
 1167 0054 0ED0     		beq	.L61
ARM GAS  /tmp/cckea6X9.s 			page 36


 1168              		.loc 1 837 0 is_stmt 0 discriminator 1
 1169 0056 BB69     		ldr	r3, [r7, #24]
 1170 0058 B3F5827F 		cmp	r3, #260
 1171 005c 06D1     		bne	.L62
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     ((tmp1 == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp == HAL_SPI
 1172              		.loc 1 838 0 is_stmt 1
 1173 005e FB68     		ldr	r3, [r7, #12]
 1174 0060 9B68     		ldr	r3, [r3, #8]
 1175 0062 002B     		cmp	r3, #0
 1176 0064 02D1     		bne	.L62
 1177              		.loc 1 838 0 is_stmt 0 discriminator 1
 1178 0066 FB69     		ldr	r3, [r7, #28]
 1179 0068 042B     		cmp	r3, #4
 1180 006a 03D0     		beq	.L61
 1181              	.L62:
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 1182              		.loc 1 840 0 is_stmt 1
 1183 006c 0223     		movs	r3, #2
 1184 006e 87F82330 		strb	r3, [r7, #35]
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1185              		.loc 1 841 0
 1186 0072 56E1     		b	.L63
 1187              	.L61:
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((pTxData == NULL) || (pRxData == NULL) || (Size == 0))
 1188              		.loc 1 844 0
 1189 0074 BB68     		ldr	r3, [r7, #8]
 1190 0076 002B     		cmp	r3, #0
 1191 0078 05D0     		beq	.L64
 1192              		.loc 1 844 0 is_stmt 0 discriminator 1
 1193 007a 7B68     		ldr	r3, [r7, #4]
 1194 007c 002B     		cmp	r3, #0
 1195 007e 02D0     		beq	.L64
 1196              		.loc 1 844 0 discriminator 2
 1197 0080 7B88     		ldrh	r3, [r7, #2]
 1198 0082 002B     		cmp	r3, #0
 1199 0084 03D1     		bne	.L65
 1200              	.L64:
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 1201              		.loc 1 846 0 is_stmt 1
 1202 0086 0123     		movs	r3, #1
 1203 0088 87F82330 		strb	r3, [r7, #35]
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1204              		.loc 1 847 0
 1205 008c 49E1     		b	.L63
 1206              	.L65:
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 1207              		.loc 1 851 0
 1208 008e FB68     		ldr	r3, [r7, #12]
 1209 0090 93F85130 		ldrb	r3, [r3, #81]
 1210 0094 DBB2     		uxtb	r3, r3
ARM GAS  /tmp/cckea6X9.s 			page 37


 1211 0096 012B     		cmp	r3, #1
 1212 0098 03D1     		bne	.L66
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 1213              		.loc 1 853 0
 1214 009a FB68     		ldr	r3, [r7, #12]
 1215 009c 0522     		movs	r2, #5
 1216 009e 83F85120 		strb	r2, [r3, #81]
 1217              	.L66:
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1218              		.loc 1 857 0
 1219 00a2 FB68     		ldr	r3, [r7, #12]
 1220 00a4 0022     		movs	r2, #0
 1221 00a6 5A65     		str	r2, [r3, #84]
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 1222              		.loc 1 858 0
 1223 00a8 FB68     		ldr	r3, [r7, #12]
 1224 00aa 7A68     		ldr	r2, [r7, #4]
 1225 00ac 9A63     		str	r2, [r3, #56]
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1226              		.loc 1 859 0
 1227 00ae FB68     		ldr	r3, [r7, #12]
 1228 00b0 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1229 00b2 DA87     		strh	r2, [r3, #62]	@ movhi
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1230              		.loc 1 860 0
 1231 00b4 FB68     		ldr	r3, [r7, #12]
 1232 00b6 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1233 00b8 9A87     		strh	r2, [r3, #60]	@ movhi
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 1234              		.loc 1 861 0
 1235 00ba FB68     		ldr	r3, [r7, #12]
 1236 00bc BA68     		ldr	r2, [r7, #8]
 1237 00be 1A63     		str	r2, [r3, #48]
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1238              		.loc 1 862 0
 1239 00c0 FB68     		ldr	r3, [r7, #12]
 1240 00c2 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1241 00c4 DA86     		strh	r2, [r3, #54]	@ movhi
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1242              		.loc 1 863 0
 1243 00c6 FB68     		ldr	r3, [r7, #12]
 1244 00c8 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1245 00ca 9A86     		strh	r2, [r3, #52]	@ movhi
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*Init field not used in handle to zero */
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1246              		.loc 1 866 0
 1247 00cc FB68     		ldr	r3, [r7, #12]
 1248 00ce 0022     		movs	r2, #0
 1249 00d0 1A64     		str	r2, [r3, #64]
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1250              		.loc 1 867 0
 1251 00d2 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cckea6X9.s 			page 38


 1252 00d4 0022     		movs	r2, #0
 1253 00d6 5A64     		str	r2, [r3, #68]
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 1254              		.loc 1 878 0
 1255 00d8 FB68     		ldr	r3, [r7, #12]
 1256 00da 1B68     		ldr	r3, [r3]
 1257 00dc 1B68     		ldr	r3, [r3]
 1258 00de 03F04003 		and	r3, r3, #64
 1259 00e2 002B     		cmp	r3, #0
 1260 00e4 07D1     		bne	.L67
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 1261              		.loc 1 881 0
 1262 00e6 FB68     		ldr	r3, [r7, #12]
 1263 00e8 1B68     		ldr	r3, [r3]
 1264 00ea FA68     		ldr	r2, [r7, #12]
 1265 00ec 1268     		ldr	r2, [r2]
 1266 00ee 1268     		ldr	r2, [r2]
 1267 00f0 42F04002 		orr	r2, r2, #64
 1268 00f4 1A60     		str	r2, [r3]
 1269              	.L67:
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit and Receive data in 16 Bit mode */
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 1270              		.loc 1 885 0
 1271 00f6 FB68     		ldr	r3, [r7, #12]
 1272 00f8 DB68     		ldr	r3, [r3, #12]
 1273 00fa B3F5006F 		cmp	r3, #2048
 1274 00fe 71D1     		bne	.L68
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_SLAVE) || (hspi->TxXferCount == 0x01U))
 1275              		.loc 1 887 0
 1276 0100 FB68     		ldr	r3, [r7, #12]
 1277 0102 5B68     		ldr	r3, [r3, #4]
 1278 0104 002B     		cmp	r3, #0
 1279 0106 04D0     		beq	.L69
 1280              		.loc 1 887 0 is_stmt 0 discriminator 1
 1281 0108 FB68     		ldr	r3, [r7, #12]
 1282 010a DB8E     		ldrh	r3, [r3, #54]	@ movhi
 1283 010c 9BB2     		uxth	r3, r3
 1284 010e 012B     		cmp	r3, #1
 1285 0110 0ED1     		bne	.L70
 1286              	.L69:
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->Instance->DR = *((uint16_t *)pTxData);
ARM GAS  /tmp/cckea6X9.s 			page 39


 1287              		.loc 1 889 0 is_stmt 1
 1288 0112 FB68     		ldr	r3, [r7, #12]
 1289 0114 1B68     		ldr	r3, [r3]
 1290 0116 BA68     		ldr	r2, [r7, #8]
 1291 0118 1288     		ldrh	r2, [r2]
 1292 011a DA60     		str	r2, [r3, #12]
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       pTxData += sizeof(uint16_t);
 1293              		.loc 1 890 0
 1294 011c BB68     		ldr	r3, [r7, #8]
 1295 011e 0233     		adds	r3, r3, #2
 1296 0120 BB60     		str	r3, [r7, #8]
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
 1297              		.loc 1 891 0
 1298 0122 FB68     		ldr	r3, [r7, #12]
 1299 0124 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 1300 0126 9BB2     		uxth	r3, r3
 1301 0128 013B     		subs	r3, r3, #1
 1302 012a 9AB2     		uxth	r2, r3
 1303 012c FB68     		ldr	r3, [r7, #12]
 1304 012e DA86     		strh	r2, [r3, #54]	@ movhi
 1305              	.L70:
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
 1306              		.loc 1 893 0
 1307 0130 4DE0     		b	.L71
 1308              	.L74:
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Check TXE flag */
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(txallowed && (hspi->TxXferCount > 0U) && (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)))
 1309              		.loc 1 896 0
 1310 0132 7B6A     		ldr	r3, [r7, #36]
 1311 0134 002B     		cmp	r3, #0
 1312 0136 1CD0     		beq	.L72
 1313              		.loc 1 896 0 is_stmt 0 discriminator 1
 1314 0138 FB68     		ldr	r3, [r7, #12]
 1315 013a DB8E     		ldrh	r3, [r3, #54]	@ movhi
 1316 013c 9BB2     		uxth	r3, r3
 1317 013e 002B     		cmp	r3, #0
 1318 0140 17D0     		beq	.L72
 1319              		.loc 1 896 0 discriminator 2
 1320 0142 FB68     		ldr	r3, [r7, #12]
 1321 0144 1B68     		ldr	r3, [r3]
 1322 0146 9B68     		ldr	r3, [r3, #8]
 1323 0148 03F00203 		and	r3, r3, #2
 1324 014c 002B     		cmp	r3, #0
 1325 014e 10D0     		beq	.L72
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)pTxData);
 1326              		.loc 1 898 0 is_stmt 1
 1327 0150 FB68     		ldr	r3, [r7, #12]
 1328 0152 1B68     		ldr	r3, [r3]
 1329 0154 BA68     		ldr	r2, [r7, #8]
 1330 0156 1288     		ldrh	r2, [r2]
 1331 0158 DA60     		str	r2, [r3, #12]
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         pTxData += sizeof(uint16_t);
 1332              		.loc 1 899 0
 1333 015a BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/cckea6X9.s 			page 40


 1334 015c 0233     		adds	r3, r3, #2
 1335 015e BB60     		str	r3, [r7, #8]
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 1336              		.loc 1 900 0
 1337 0160 FB68     		ldr	r3, [r7, #12]
 1338 0162 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 1339 0164 9BB2     		uxth	r3, r3
 1340 0166 013B     		subs	r3, r3, #1
 1341 0168 9AB2     		uxth	r2, r3
 1342 016a FB68     		ldr	r3, [r7, #12]
 1343 016c DA86     		strh	r2, [r3, #54]	@ movhi
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */ 
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         txallowed = 0U;
 1344              		.loc 1 902 0
 1345 016e 0023     		movs	r3, #0
 1346 0170 7B62     		str	r3, [r7, #36]
 1347              	.L72:
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Enable CRC Transmission */
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Check RXNE flag */
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->RxXferCount > 0U) && (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)))
 1348              		.loc 1 914 0
 1349 0172 FB68     		ldr	r3, [r7, #12]
 1350 0174 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1351 0176 9BB2     		uxth	r3, r3
 1352 0178 002B     		cmp	r3, #0
 1353 017a 18D0     		beq	.L73
 1354              		.loc 1 914 0 is_stmt 0 discriminator 1
 1355 017c FB68     		ldr	r3, [r7, #12]
 1356 017e 1B68     		ldr	r3, [r3]
 1357 0180 9B68     		ldr	r3, [r3, #8]
 1358 0182 03F00103 		and	r3, r3, #1
 1359 0186 002B     		cmp	r3, #0
 1360 0188 11D0     		beq	.L73
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         *((uint16_t *)pRxData) = hspi->Instance->DR;
 1361              		.loc 1 916 0 is_stmt 1
 1362 018a FB68     		ldr	r3, [r7, #12]
 1363 018c 1B68     		ldr	r3, [r3]
 1364 018e DB68     		ldr	r3, [r3, #12]
 1365 0190 9AB2     		uxth	r2, r3
 1366 0192 7B68     		ldr	r3, [r7, #4]
 1367 0194 1A80     		strh	r2, [r3]	@ movhi
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         pRxData += sizeof(uint16_t);
 1368              		.loc 1 917 0
 1369 0196 7B68     		ldr	r3, [r7, #4]
 1370 0198 0233     		adds	r3, r3, #2
 1371 019a 7B60     		str	r3, [r7, #4]
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
ARM GAS  /tmp/cckea6X9.s 			page 41


 1372              		.loc 1 918 0
 1373 019c FB68     		ldr	r3, [r7, #12]
 1374 019e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1375 01a0 9BB2     		uxth	r3, r3
 1376 01a2 013B     		subs	r3, r3, #1
 1377 01a4 9AB2     		uxth	r2, r3
 1378 01a6 FB68     		ldr	r3, [r7, #12]
 1379 01a8 DA87     		strh	r2, [r3, #62]	@ movhi
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */ 
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         txallowed = 1U;
 1380              		.loc 1 920 0
 1381 01aa 0123     		movs	r3, #1
 1382 01ac 7B62     		str	r3, [r7, #36]
 1383              	.L73:
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout))
 1384              		.loc 1 922 0
 1385 01ae 3B6B     		ldr	r3, [r7, #48]
 1386 01b0 B3F1FF3F 		cmp	r3, #-1
 1387 01b4 0BD0     		beq	.L71
 1388              		.loc 1 922 0 is_stmt 0 discriminator 1
 1389 01b6 FFF7FEFF 		bl	HAL_GetTick
 1390 01ba 0246     		mov	r2, r0
 1391 01bc 7B69     		ldr	r3, [r7, #20]
 1392 01be D21A     		subs	r2, r2, r3
 1393 01c0 3B6B     		ldr	r3, [r7, #48]
 1394 01c2 9A42     		cmp	r2, r3
 1395 01c4 03D3     		bcc	.L71
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         errorcode = HAL_TIMEOUT;
 1396              		.loc 1 924 0 is_stmt 1
 1397 01c6 0323     		movs	r3, #3
 1398 01c8 87F82330 		strb	r3, [r7, #35]
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         goto error;
 1399              		.loc 1 925 0
 1400 01cc A9E0     		b	.L63
 1401              	.L71:
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1402              		.loc 1 893 0
 1403 01ce FB68     		ldr	r3, [r7, #12]
 1404 01d0 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 1405 01d2 9BB2     		uxth	r3, r3
 1406 01d4 002B     		cmp	r3, #0
 1407 01d6 ACD1     		bne	.L74
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1408              		.loc 1 893 0 is_stmt 0 discriminator 1
 1409 01d8 FB68     		ldr	r3, [r7, #12]
 1410 01da DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1411 01dc 9BB2     		uxth	r3, r3
 1412 01de 002B     		cmp	r3, #0
 1413 01e0 A7D1     		bne	.L74
 1414 01e2 71E0     		b	.L75
 1415              	.L68:
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit and Receive data in 8 Bit mode */
ARM GAS  /tmp/cckea6X9.s 			page 42


 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_SLAVE) || (hspi->TxXferCount == 0x01U))
 1416              		.loc 1 932 0 is_stmt 1
 1417 01e4 FB68     		ldr	r3, [r7, #12]
 1418 01e6 5B68     		ldr	r3, [r3, #4]
 1419 01e8 002B     		cmp	r3, #0
 1420 01ea 04D0     		beq	.L76
 1421              		.loc 1 932 0 is_stmt 0 discriminator 1
 1422 01ec FB68     		ldr	r3, [r7, #12]
 1423 01ee DB8E     		ldrh	r3, [r3, #54]	@ movhi
 1424 01f0 9BB2     		uxth	r3, r3
 1425 01f2 012B     		cmp	r3, #1
 1426 01f4 0FD1     		bne	.L77
 1427              	.L76:
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       *((__IO uint8_t*)&hspi->Instance->DR) = (*pTxData);
 1428              		.loc 1 934 0 is_stmt 1
 1429 01f6 FB68     		ldr	r3, [r7, #12]
 1430 01f8 1B68     		ldr	r3, [r3]
 1431 01fa 0C33     		adds	r3, r3, #12
 1432 01fc BA68     		ldr	r2, [r7, #8]
 1433 01fe 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1434 0200 1A70     		strb	r2, [r3]
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       pTxData += sizeof(uint8_t);
 1435              		.loc 1 935 0
 1436 0202 BB68     		ldr	r3, [r7, #8]
 1437 0204 0133     		adds	r3, r3, #1
 1438 0206 BB60     		str	r3, [r7, #8]
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
 1439              		.loc 1 936 0
 1440 0208 FB68     		ldr	r3, [r7, #12]
 1441 020a DB8E     		ldrh	r3, [r3, #54]	@ movhi
 1442 020c 9BB2     		uxth	r3, r3
 1443 020e 013B     		subs	r3, r3, #1
 1444 0210 9AB2     		uxth	r2, r3
 1445 0212 FB68     		ldr	r3, [r7, #12]
 1446 0214 DA86     		strh	r2, [r3, #54]	@ movhi
 1447              	.L77:
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
 1448              		.loc 1 938 0
 1449 0216 4DE0     		b	.L78
 1450              	.L81:
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* check TXE flag */
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(txallowed && (hspi->TxXferCount > 0U) && (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)))
 1451              		.loc 1 941 0
 1452 0218 7B6A     		ldr	r3, [r7, #36]
 1453 021a 002B     		cmp	r3, #0
 1454 021c 1DD0     		beq	.L79
 1455              		.loc 1 941 0 is_stmt 0 discriminator 1
 1456 021e FB68     		ldr	r3, [r7, #12]
 1457 0220 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 1458 0222 9BB2     		uxth	r3, r3
 1459 0224 002B     		cmp	r3, #0
 1460 0226 18D0     		beq	.L79
ARM GAS  /tmp/cckea6X9.s 			page 43


 1461              		.loc 1 941 0 discriminator 2
 1462 0228 FB68     		ldr	r3, [r7, #12]
 1463 022a 1B68     		ldr	r3, [r3]
 1464 022c 9B68     		ldr	r3, [r3, #8]
 1465 022e 03F00203 		and	r3, r3, #2
 1466 0232 002B     		cmp	r3, #0
 1467 0234 11D0     		beq	.L79
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         *(__IO uint8_t *)&hspi->Instance->DR = (*pTxData++);
 1468              		.loc 1 943 0 is_stmt 1
 1469 0236 FB68     		ldr	r3, [r7, #12]
 1470 0238 1B68     		ldr	r3, [r3]
 1471 023a 03F10C02 		add	r2, r3, #12
 1472 023e BB68     		ldr	r3, [r7, #8]
 1473 0240 591C     		adds	r1, r3, #1
 1474 0242 B960     		str	r1, [r7, #8]
 1475 0244 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1476 0246 1370     		strb	r3, [r2]
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 1477              		.loc 1 944 0
 1478 0248 FB68     		ldr	r3, [r7, #12]
 1479 024a DB8E     		ldrh	r3, [r3, #54]	@ movhi
 1480 024c 9BB2     		uxth	r3, r3
 1481 024e 013B     		subs	r3, r3, #1
 1482 0250 9AB2     		uxth	r2, r3
 1483 0252 FB68     		ldr	r3, [r7, #12]
 1484 0254 DA86     		strh	r2, [r3, #54]	@ movhi
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */ 
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         txallowed = 0U;
 1485              		.loc 1 946 0
 1486 0256 0023     		movs	r3, #0
 1487 0258 7B62     		str	r3, [r7, #36]
 1488              	.L79:
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Enable CRC Transmission */
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until RXNE flag is reset */
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((hspi->RxXferCount > 0U) && (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)))
 1489              		.loc 1 958 0
 1490 025a FB68     		ldr	r3, [r7, #12]
 1491 025c DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1492 025e 9BB2     		uxth	r3, r3
 1493 0260 002B     		cmp	r3, #0
 1494 0262 17D0     		beq	.L80
 1495              		.loc 1 958 0 is_stmt 0 discriminator 1
 1496 0264 FB68     		ldr	r3, [r7, #12]
 1497 0266 1B68     		ldr	r3, [r3]
 1498 0268 9B68     		ldr	r3, [r3, #8]
 1499 026a 03F00103 		and	r3, r3, #1
 1500 026e 002B     		cmp	r3, #0
ARM GAS  /tmp/cckea6X9.s 			page 44


 1501 0270 10D0     		beq	.L80
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (*(uint8_t *)pRxData++) = hspi->Instance->DR;
 1502              		.loc 1 960 0 is_stmt 1
 1503 0272 7B68     		ldr	r3, [r7, #4]
 1504 0274 5A1C     		adds	r2, r3, #1
 1505 0276 7A60     		str	r2, [r7, #4]
 1506 0278 FA68     		ldr	r2, [r7, #12]
 1507 027a 1268     		ldr	r2, [r2]
 1508 027c D268     		ldr	r2, [r2, #12]
 1509 027e D2B2     		uxtb	r2, r2
 1510 0280 1A70     		strb	r2, [r3]
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 1511              		.loc 1 961 0
 1512 0282 FB68     		ldr	r3, [r7, #12]
 1513 0284 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1514 0286 9BB2     		uxth	r3, r3
 1515 0288 013B     		subs	r3, r3, #1
 1516 028a 9AB2     		uxth	r2, r3
 1517 028c FB68     		ldr	r3, [r7, #12]
 1518 028e DA87     		strh	r2, [r3, #62]	@ movhi
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */ 
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         txallowed = 1U;
 1519              		.loc 1 963 0
 1520 0290 0123     		movs	r3, #1
 1521 0292 7B62     		str	r3, [r7, #36]
 1522              	.L80:
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout))
 1523              		.loc 1 965 0
 1524 0294 3B6B     		ldr	r3, [r7, #48]
 1525 0296 B3F1FF3F 		cmp	r3, #-1
 1526 029a 0BD0     		beq	.L78
 1527              		.loc 1 965 0 is_stmt 0 discriminator 1
 1528 029c FFF7FEFF 		bl	HAL_GetTick
 1529 02a0 0246     		mov	r2, r0
 1530 02a2 7B69     		ldr	r3, [r7, #20]
 1531 02a4 D21A     		subs	r2, r2, r3
 1532 02a6 3B6B     		ldr	r3, [r7, #48]
 1533 02a8 9A42     		cmp	r2, r3
 1534 02aa 03D3     		bcc	.L78
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         errorcode = HAL_TIMEOUT;
 1535              		.loc 1 967 0 is_stmt 1
 1536 02ac 0323     		movs	r3, #3
 1537 02ae 87F82330 		strb	r3, [r7, #35]
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         goto error;
 1538              		.loc 1 968 0
 1539 02b2 36E0     		b	.L63
 1540              	.L78:
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1541              		.loc 1 938 0
 1542 02b4 FB68     		ldr	r3, [r7, #12]
 1543 02b6 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 1544 02b8 9BB2     		uxth	r3, r3
 1545 02ba 002B     		cmp	r3, #0
 1546 02bc ACD1     		bne	.L81
ARM GAS  /tmp/cckea6X9.s 			page 45


 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1547              		.loc 1 938 0 is_stmt 0 discriminator 1
 1548 02be FB68     		ldr	r3, [r7, #12]
 1549 02c0 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1550 02c2 9BB2     		uxth	r3, r3
 1551 02c4 002B     		cmp	r3, #0
 1552 02c6 A7D1     		bne	.L81
 1553              	.L75:
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Read CRC from DR to close CRC calculation process */
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until TXE flag */
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Error on the CRC reception */
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       goto error;
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Read CRC */
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmpreg1 = hspi->Instance->DR;
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* To avoid GCC warning */
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     UNUSED(tmpreg1);
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if CRC error occurred */
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Clear CRC Flag */
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag */
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_TXE, SET, Timeout, tickstart) != HAL_OK)
 1554              		.loc 1 1003 0 is_stmt 1
 1555 02c8 7B69     		ldr	r3, [r7, #20]
 1556 02ca 0093     		str	r3, [sp]
 1557 02cc F868     		ldr	r0, [r7, #12]
 1558 02ce 0221     		movs	r1, #2
 1559 02d0 0122     		movs	r2, #1
 1560 02d2 3B6B     		ldr	r3, [r7, #48]
 1561 02d4 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 1562 02d8 0346     		mov	r3, r0
 1563 02da 002B     		cmp	r3, #0
 1564 02dc 03D0     		beq	.L82
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_TIMEOUT;
 1565              		.loc 1 1005 0
ARM GAS  /tmp/cckea6X9.s 			page 46


 1566 02de 0323     		movs	r3, #3
 1567 02e0 87F82330 		strb	r3, [r7, #35]
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1568              		.loc 1 1006 0
 1569 02e4 1DE0     		b	.L63
 1570              	.L82:
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Busy flag */
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_CheckFlag_BSY(hspi, Timeout, tickstart) != HAL_OK)
 1571              		.loc 1 1010 0
 1572 02e6 F868     		ldr	r0, [r7, #12]
 1573 02e8 396B     		ldr	r1, [r7, #48]
 1574 02ea 7A69     		ldr	r2, [r7, #20]
 1575 02ec FFF7FEFF 		bl	SPI_CheckFlag_BSY
 1576 02f0 0346     		mov	r3, r0
 1577 02f2 002B     		cmp	r3, #0
 1578 02f4 06D0     		beq	.L83
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 1579              		.loc 1 1012 0
 1580 02f6 0123     		movs	r3, #1
 1581 02f8 87F82330 		strb	r3, [r7, #35]
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 1582              		.loc 1 1013 0
 1583 02fc FB68     		ldr	r3, [r7, #12]
 1584 02fe 2022     		movs	r2, #32
 1585 0300 5A65     		str	r2, [r3, #84]
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1586              		.loc 1 1014 0
 1587 0302 0EE0     		b	.L63
 1588              	.L83:
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
 1589              		.loc 1 1018 0
 1590 0304 FB68     		ldr	r3, [r7, #12]
 1591 0306 9B68     		ldr	r3, [r3, #8]
 1592 0308 002B     		cmp	r3, #0
 1593 030a 0AD1     		bne	.L63
 1594              	.LBB3:
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 1595              		.loc 1 1020 0
 1596 030c 0023     		movs	r3, #0
 1597 030e 3B61     		str	r3, [r7, #16]
 1598 0310 FB68     		ldr	r3, [r7, #12]
 1599 0312 1B68     		ldr	r3, [r3]
 1600 0314 DB68     		ldr	r3, [r3, #12]
 1601 0316 3B61     		str	r3, [r7, #16]
 1602 0318 FB68     		ldr	r3, [r7, #12]
 1603 031a 1B68     		ldr	r3, [r3]
 1604 031c 9B68     		ldr	r3, [r3, #8]
 1605 031e 3B61     		str	r3, [r7, #16]
 1606 0320 3B69     		ldr	r3, [r7, #16]
 1607              	.L63:
ARM GAS  /tmp/cckea6X9.s 			page 47


 1608              	.LBE3:
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 1609              		.loc 1 1024 0
 1610 0322 FB68     		ldr	r3, [r7, #12]
 1611 0324 0122     		movs	r2, #1
 1612 0326 83F85120 		strb	r2, [r3, #81]
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 1613              		.loc 1 1025 0
 1614 032a FB68     		ldr	r3, [r7, #12]
 1615 032c 0022     		movs	r2, #0
 1616 032e 83F85020 		strb	r2, [r3, #80]
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 1617              		.loc 1 1026 0
 1618 0332 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 1619              	.L60:
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1620              		.loc 1 1027 0
 1621 0336 1846     		mov	r0, r3
 1622 0338 2837     		adds	r7, r7, #40
 1623              	.LCFI35:
 1624              		.cfi_def_cfa_offset 8
 1625 033a BD46     		mov	sp, r7
 1626              	.LCFI36:
 1627              		.cfi_def_cfa_register 13
 1628              		@ sp needed
 1629 033c 80BD     		pop	{r7, pc}
 1630              		.cfi_endproc
 1631              	.LFE129:
 1633 033e 00BF     		.section	.text.HAL_SPI_Transmit_IT,"ax",%progbits
 1634              		.align	2
 1635              		.global	HAL_SPI_Transmit_IT
 1636              		.thumb
 1637              		.thumb_func
 1639              	HAL_SPI_Transmit_IT:
 1640              	.LFB130:
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with Interrupt.
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 1641              		.loc 1 1038 0
 1642              		.cfi_startproc
 1643              		@ args = 0, pretend = 0, frame = 24
 1644              		@ frame_needed = 1, uses_anonymous_args = 0
 1645              		@ link register save eliminated.
 1646 0000 80B4     		push	{r7}
 1647              	.LCFI37:
 1648              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/cckea6X9.s 			page 48


 1649              		.cfi_offset 7, -4
 1650 0002 87B0     		sub	sp, sp, #28
 1651              	.LCFI38:
 1652              		.cfi_def_cfa_offset 32
 1653 0004 00AF     		add	r7, sp, #0
 1654              	.LCFI39:
 1655              		.cfi_def_cfa_register 7
 1656 0006 F860     		str	r0, [r7, #12]
 1657 0008 B960     		str	r1, [r7, #8]
 1658 000a 1346     		mov	r3, r2
 1659 000c FB80     		strh	r3, [r7, #6]	@ movhi
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1660              		.loc 1 1039 0
 1661 000e 0023     		movs	r3, #0
 1662 0010 FB75     		strb	r3, [r7, #23]
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 1663              		.loc 1 1045 0
 1664 0012 FB68     		ldr	r3, [r7, #12]
 1665 0014 93F85030 		ldrb	r3, [r3, #80]	@ zero_extendqisi2
 1666 0018 012B     		cmp	r3, #1
 1667 001a 01D1     		bne	.L85
 1668              		.loc 1 1045 0 is_stmt 0 discriminator 1
 1669 001c 0223     		movs	r3, #2
 1670 001e 72E0     		b	.L86
 1671              	.L85:
 1672              		.loc 1 1045 0 discriminator 2
 1673 0020 FB68     		ldr	r3, [r7, #12]
 1674 0022 0122     		movs	r2, #1
 1675 0024 83F85020 		strb	r2, [r3, #80]
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((pData == NULL) || (Size == 0))
 1676              		.loc 1 1047 0 is_stmt 1 discriminator 2
 1677 0028 BB68     		ldr	r3, [r7, #8]
 1678 002a 002B     		cmp	r3, #0
 1679 002c 02D0     		beq	.L87
 1680              		.loc 1 1047 0 is_stmt 0 discriminator 1
 1681 002e FB88     		ldrh	r3, [r7, #6]
 1682 0030 002B     		cmp	r3, #0
 1683 0032 02D1     		bne	.L88
 1684              	.L87:
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 1685              		.loc 1 1049 0 is_stmt 1
 1686 0034 0123     		movs	r3, #1
 1687 0036 FB75     		strb	r3, [r7, #23]
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1688              		.loc 1 1050 0
 1689 0038 60E0     		b	.L89
 1690              	.L88:
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
ARM GAS  /tmp/cckea6X9.s 			page 49


 1691              		.loc 1 1053 0
 1692 003a FB68     		ldr	r3, [r7, #12]
 1693 003c 93F85130 		ldrb	r3, [r3, #81]
 1694 0040 DBB2     		uxtb	r3, r3
 1695 0042 012B     		cmp	r3, #1
 1696 0044 02D0     		beq	.L90
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 1697              		.loc 1 1055 0
 1698 0046 0223     		movs	r3, #2
 1699 0048 FB75     		strb	r3, [r7, #23]
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1700              		.loc 1 1056 0
 1701 004a 57E0     		b	.L89
 1702              	.L90:
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 1703              		.loc 1 1060 0
 1704 004c FB68     		ldr	r3, [r7, #12]
 1705 004e 0322     		movs	r2, #3
 1706 0050 83F85120 		strb	r2, [r3, #81]
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1707              		.loc 1 1061 0
 1708 0054 FB68     		ldr	r3, [r7, #12]
 1709 0056 0022     		movs	r2, #0
 1710 0058 5A65     		str	r2, [r3, #84]
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 1711              		.loc 1 1062 0
 1712 005a FB68     		ldr	r3, [r7, #12]
 1713 005c BA68     		ldr	r2, [r7, #8]
 1714 005e 1A63     		str	r2, [r3, #48]
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1715              		.loc 1 1063 0
 1716 0060 FB68     		ldr	r3, [r7, #12]
 1717 0062 FA88     		ldrh	r2, [r7, #6]	@ movhi
 1718 0064 9A86     		strh	r2, [r3, #52]	@ movhi
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1719              		.loc 1 1064 0
 1720 0066 FB68     		ldr	r3, [r7, #12]
 1721 0068 FA88     		ldrh	r2, [r7, #6]	@ movhi
 1722 006a DA86     		strh	r2, [r3, #54]	@ movhi
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 1723              		.loc 1 1067 0
 1724 006c FB68     		ldr	r3, [r7, #12]
 1725 006e 0022     		movs	r2, #0
 1726 0070 9A63     		str	r2, [r3, #56]
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 1727              		.loc 1 1068 0
 1728 0072 FB68     		ldr	r3, [r7, #12]
 1729 0074 0022     		movs	r2, #0
 1730 0076 9A87     		strh	r2, [r3, #60]	@ movhi
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 1731              		.loc 1 1069 0
ARM GAS  /tmp/cckea6X9.s 			page 50


 1732 0078 FB68     		ldr	r3, [r7, #12]
 1733 007a 0022     		movs	r2, #0
 1734 007c DA87     		strh	r2, [r3, #62]	@ movhi
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1735              		.loc 1 1070 0
 1736 007e FB68     		ldr	r3, [r7, #12]
 1737 0080 0022     		movs	r2, #0
 1738 0082 1A64     		str	r2, [r3, #64]
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the function for IT treatment */
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize > SPI_DATASIZE_8BIT )
 1739              		.loc 1 1073 0
 1740 0084 FB68     		ldr	r3, [r7, #12]
 1741 0086 DB68     		ldr	r3, [r3, #12]
 1742 0088 002B     		cmp	r3, #0
 1743 008a 03D0     		beq	.L91
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_16BIT;
 1744              		.loc 1 1075 0
 1745 008c FB68     		ldr	r3, [r7, #12]
 1746 008e 214A     		ldr	r2, .L96
 1747 0090 5A64     		str	r2, [r3, #68]
 1748 0092 02E0     		b	.L92
 1749              	.L91:
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_8BIT;
 1750              		.loc 1 1079 0
 1751 0094 FB68     		ldr	r3, [r7, #12]
 1752 0096 204A     		ldr	r2, .L96+4
 1753 0098 5A64     		str	r2, [r3, #68]
 1754              	.L92:
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1755              		.loc 1 1083 0
 1756 009a FB68     		ldr	r3, [r7, #12]
 1757 009c 9B68     		ldr	r3, [r3, #8]
 1758 009e B3F5004F 		cmp	r3, #32768
 1759 00a2 07D1     		bne	.L93
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 1760              		.loc 1 1085 0
 1761 00a4 FB68     		ldr	r3, [r7, #12]
 1762 00a6 1B68     		ldr	r3, [r3]
 1763 00a8 FA68     		ldr	r2, [r7, #12]
 1764 00aa 1268     		ldr	r2, [r2]
 1765 00ac 1268     		ldr	r2, [r2]
 1766 00ae 42F48042 		orr	r2, r2, #16384
 1767 00b2 1A60     		str	r2, [r3]
 1768              	.L93:
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
ARM GAS  /tmp/cckea6X9.s 			page 51


1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 1769              		.loc 1 1096 0
 1770 00b4 FB68     		ldr	r3, [r7, #12]
 1771 00b6 9B68     		ldr	r3, [r3, #8]
 1772 00b8 002B     		cmp	r3, #0
 1773 00ba 08D1     		bne	.L94
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable TXE interrupt */
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE));
 1774              		.loc 1 1099 0
 1775 00bc FB68     		ldr	r3, [r7, #12]
 1776 00be 1B68     		ldr	r3, [r3]
 1777 00c0 FA68     		ldr	r2, [r7, #12]
 1778 00c2 1268     		ldr	r2, [r2]
 1779 00c4 5268     		ldr	r2, [r2, #4]
 1780 00c6 42F08002 		orr	r2, r2, #128
 1781 00ca 5A60     		str	r2, [r3, #4]
 1782 00cc 07E0     		b	.L95
 1783              	.L94:
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable TXE and ERR interrupt */
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
 1784              		.loc 1 1104 0
 1785 00ce FB68     		ldr	r3, [r7, #12]
 1786 00d0 1B68     		ldr	r3, [r3]
 1787 00d2 FA68     		ldr	r2, [r7, #12]
 1788 00d4 1268     		ldr	r2, [r2]
 1789 00d6 5268     		ldr	r2, [r2, #4]
 1790 00d8 42F0A002 		orr	r2, r2, #160
 1791 00dc 5A60     		str	r2, [r3, #4]
 1792              	.L95:
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 1793              		.loc 1 1108 0
 1794 00de FB68     		ldr	r3, [r7, #12]
 1795 00e0 1B68     		ldr	r3, [r3]
 1796 00e2 1B68     		ldr	r3, [r3]
 1797 00e4 03F04003 		and	r3, r3, #64
 1798 00e8 002B     		cmp	r3, #0
 1799 00ea 07D1     		bne	.L89
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 1800              		.loc 1 1111 0
 1801 00ec FB68     		ldr	r3, [r7, #12]
 1802 00ee 1B68     		ldr	r3, [r3]
 1803 00f0 FA68     		ldr	r2, [r7, #12]
ARM GAS  /tmp/cckea6X9.s 			page 52


 1804 00f2 1268     		ldr	r2, [r2]
 1805 00f4 1268     		ldr	r2, [r2]
 1806 00f6 42F04002 		orr	r2, r2, #64
 1807 00fa 1A60     		str	r2, [r3]
 1808              	.L89:
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 1809              		.loc 1 1115 0
 1810 00fc FB68     		ldr	r3, [r7, #12]
 1811 00fe 0022     		movs	r2, #0
 1812 0100 83F85020 		strb	r2, [r3, #80]
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 1813              		.loc 1 1116 0
 1814 0104 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1815              	.L86:
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1816              		.loc 1 1117 0
 1817 0106 1846     		mov	r0, r3
 1818 0108 1C37     		adds	r7, r7, #28
 1819              	.LCFI40:
 1820              		.cfi_def_cfa_offset 4
 1821 010a BD46     		mov	sp, r7
 1822              	.LCFI41:
 1823              		.cfi_def_cfa_register 13
 1824              		@ sp needed
 1825 010c 5DF8047B 		ldr	r7, [sp], #4
 1826              	.LCFI42:
 1827              		.cfi_restore 7
 1828              		.cfi_def_cfa_offset 0
 1829 0110 7047     		bx	lr
 1830              	.L97:
 1831 0112 00BF     		.align	2
 1832              	.L96:
 1833 0114 00000000 		.word	SPI_TxISR_16BIT
 1834 0118 00000000 		.word	SPI_TxISR_8BIT
 1835              		.cfi_endproc
 1836              	.LFE130:
 1838              		.section	.text.HAL_SPI_Receive_IT,"ax",%progbits
 1839              		.align	2
 1840              		.global	HAL_SPI_Receive_IT
 1841              		.thumb
 1842              		.thumb_func
 1844              	HAL_SPI_Receive_IT:
 1845              	.LFB131:
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with Interrupt.
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
ARM GAS  /tmp/cckea6X9.s 			page 53


 1846              		.loc 1 1128 0
 1847              		.cfi_startproc
 1848              		@ args = 0, pretend = 0, frame = 24
 1849              		@ frame_needed = 1, uses_anonymous_args = 0
 1850 0000 80B5     		push	{r7, lr}
 1851              	.LCFI43:
 1852              		.cfi_def_cfa_offset 8
 1853              		.cfi_offset 7, -8
 1854              		.cfi_offset 14, -4
 1855 0002 86B0     		sub	sp, sp, #24
 1856              	.LCFI44:
 1857              		.cfi_def_cfa_offset 32
 1858 0004 00AF     		add	r7, sp, #0
 1859              	.LCFI45:
 1860              		.cfi_def_cfa_register 7
 1861 0006 F860     		str	r0, [r7, #12]
 1862 0008 B960     		str	r1, [r7, #8]
 1863 000a 1346     		mov	r3, r2
 1864 000c FB80     		strh	r3, [r7, #6]	@ movhi
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1865              		.loc 1 1129 0
 1866 000e 0023     		movs	r3, #0
 1867 0010 FB75     		strb	r3, [r7, #23]
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
 1868              		.loc 1 1131 0
 1869 0012 FB68     		ldr	r3, [r7, #12]
 1870 0014 9B68     		ldr	r3, [r3, #8]
 1871 0016 002B     		cmp	r3, #0
 1872 0018 10D1     		bne	.L99
 1873              		.loc 1 1131 0 is_stmt 0 discriminator 1
 1874 001a FB68     		ldr	r3, [r7, #12]
 1875 001c 5B68     		ldr	r3, [r3, #4]
 1876 001e B3F5827F 		cmp	r3, #260
 1877 0022 0BD1     		bne	.L99
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      hspi->State = HAL_SPI_STATE_BUSY_RX;
 1878              		.loc 1 1133 0 is_stmt 1
 1879 0024 FB68     		ldr	r3, [r7, #12]
 1880 0026 0422     		movs	r2, #4
 1881 0028 83F85120 		strb	r2, [r3, #81]
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      return HAL_SPI_TransmitReceive_IT(hspi, pData, pData, Size);
 1882              		.loc 1 1135 0
 1883 002c FB88     		ldrh	r3, [r7, #6]
 1884 002e F868     		ldr	r0, [r7, #12]
 1885 0030 B968     		ldr	r1, [r7, #8]
 1886 0032 BA68     		ldr	r2, [r7, #8]
 1887 0034 FFF7FEFF 		bl	HAL_SPI_TransmitReceive_IT
 1888 0038 0346     		mov	r3, r0
 1889 003a 6CE0     		b	.L100
 1890              	.L99:
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 1891              		.loc 1 1139 0
ARM GAS  /tmp/cckea6X9.s 			page 54


 1892 003c FB68     		ldr	r3, [r7, #12]
 1893 003e 93F85030 		ldrb	r3, [r3, #80]	@ zero_extendqisi2
 1894 0042 012B     		cmp	r3, #1
 1895 0044 01D1     		bne	.L101
 1896              		.loc 1 1139 0 is_stmt 0 discriminator 1
 1897 0046 0223     		movs	r3, #2
 1898 0048 65E0     		b	.L100
 1899              	.L101:
 1900              		.loc 1 1139 0 discriminator 2
 1901 004a FB68     		ldr	r3, [r7, #12]
 1902 004c 0122     		movs	r2, #1
 1903 004e 83F85020 		strb	r2, [r3, #80]
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
 1904              		.loc 1 1141 0 is_stmt 1 discriminator 2
 1905 0052 FB68     		ldr	r3, [r7, #12]
 1906 0054 93F85130 		ldrb	r3, [r3, #81]
 1907 0058 DBB2     		uxtb	r3, r3
 1908 005a 012B     		cmp	r3, #1
 1909 005c 02D0     		beq	.L102
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 1910              		.loc 1 1143 0
 1911 005e 0223     		movs	r3, #2
 1912 0060 FB75     		strb	r3, [r7, #23]
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1913              		.loc 1 1144 0
 1914 0062 53E0     		b	.L103
 1915              	.L102:
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((pData == NULL) || (Size == 0))
 1916              		.loc 1 1147 0
 1917 0064 BB68     		ldr	r3, [r7, #8]
 1918 0066 002B     		cmp	r3, #0
 1919 0068 02D0     		beq	.L104
 1920              		.loc 1 1147 0 is_stmt 0 discriminator 1
 1921 006a FB88     		ldrh	r3, [r7, #6]
 1922 006c 002B     		cmp	r3, #0
 1923 006e 02D1     		bne	.L105
 1924              	.L104:
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 1925              		.loc 1 1149 0 is_stmt 1
 1926 0070 0123     		movs	r3, #1
 1927 0072 FB75     		strb	r3, [r7, #23]
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1928              		.loc 1 1150 0
 1929 0074 4AE0     		b	.L103
 1930              	.L105:
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 1931              		.loc 1 1154 0
 1932 0076 FB68     		ldr	r3, [r7, #12]
 1933 0078 0422     		movs	r2, #4
ARM GAS  /tmp/cckea6X9.s 			page 55


 1934 007a 83F85120 		strb	r2, [r3, #81]
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1935              		.loc 1 1155 0
 1936 007e FB68     		ldr	r3, [r7, #12]
 1937 0080 0022     		movs	r2, #0
 1938 0082 5A65     		str	r2, [r3, #84]
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1939              		.loc 1 1156 0
 1940 0084 FB68     		ldr	r3, [r7, #12]
 1941 0086 BA68     		ldr	r2, [r7, #8]
 1942 0088 9A63     		str	r2, [r3, #56]
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1943              		.loc 1 1157 0
 1944 008a FB68     		ldr	r3, [r7, #12]
 1945 008c FA88     		ldrh	r2, [r7, #6]	@ movhi
 1946 008e 9A87     		strh	r2, [r3, #60]	@ movhi
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1947              		.loc 1 1158 0
 1948 0090 FB68     		ldr	r3, [r7, #12]
 1949 0092 FA88     		ldrh	r2, [r7, #6]	@ movhi
 1950 0094 DA87     		strh	r2, [r3, #62]	@ movhi
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
 1951              		.loc 1 1161 0
 1952 0096 FB68     		ldr	r3, [r7, #12]
 1953 0098 0022     		movs	r2, #0
 1954 009a 1A63     		str	r2, [r3, #48]
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 1955              		.loc 1 1162 0
 1956 009c FB68     		ldr	r3, [r7, #12]
 1957 009e 0022     		movs	r2, #0
 1958 00a0 9A86     		strh	r2, [r3, #52]	@ movhi
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 1959              		.loc 1 1163 0
 1960 00a2 FB68     		ldr	r3, [r7, #12]
 1961 00a4 0022     		movs	r2, #0
 1962 00a6 DA86     		strh	r2, [r3, #54]	@ movhi
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1963              		.loc 1 1164 0
 1964 00a8 FB68     		ldr	r3, [r7, #12]
 1965 00aa 0022     		movs	r2, #0
 1966 00ac 5A64     		str	r2, [r3, #68]
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the function for IT treatment */
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize > SPI_DATASIZE_8BIT )
 1967              		.loc 1 1167 0
 1968 00ae FB68     		ldr	r3, [r7, #12]
 1969 00b0 DB68     		ldr	r3, [r3, #12]
 1970 00b2 002B     		cmp	r3, #0
 1971 00b4 03D0     		beq	.L106
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_16BIT;
 1972              		.loc 1 1169 0
 1973 00b6 FB68     		ldr	r3, [r7, #12]
 1974 00b8 194A     		ldr	r2, .L109
 1975 00ba 1A64     		str	r2, [r3, #64]
ARM GAS  /tmp/cckea6X9.s 			page 56


 1976 00bc 02E0     		b	.L107
 1977              	.L106:
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_8BIT;
 1978              		.loc 1 1173 0
 1979 00be FB68     		ldr	r3, [r7, #12]
 1980 00c0 184A     		ldr	r2, .L109+4
 1981 00c2 1A64     		str	r2, [r3, #64]
 1982              	.L107:
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1983              		.loc 1 1177 0
 1984 00c4 FB68     		ldr	r3, [r7, #12]
 1985 00c6 9B68     		ldr	r3, [r3, #8]
 1986 00c8 B3F5004F 		cmp	r3, #32768
 1987 00cc 07D1     		bne	.L108
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 1988              		.loc 1 1179 0
 1989 00ce FB68     		ldr	r3, [r7, #12]
 1990 00d0 1B68     		ldr	r3, [r3]
 1991 00d2 FA68     		ldr	r2, [r7, #12]
 1992 00d4 1268     		ldr	r2, [r2]
 1993 00d6 1268     		ldr	r2, [r2]
 1994 00d8 22F48042 		bic	r2, r2, #16384
 1995 00dc 1A60     		str	r2, [r3]
 1996              	.L108:
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 1997              		.loc 1 1191 0
 1998 00de FB68     		ldr	r3, [r7, #12]
 1999 00e0 1B68     		ldr	r3, [r3]
 2000 00e2 FA68     		ldr	r2, [r7, #12]
 2001 00e4 1268     		ldr	r2, [r2]
 2002 00e6 5268     		ldr	r2, [r2, #4]
 2003 00e8 42F06002 		orr	r2, r2, #96
 2004 00ec 5A60     		str	r2, [r3, #4]
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Note : The SPI must be enabled after unlocking current process
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             to avoid the risk of SPI interrupt handle execution before current
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             process unlock */
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
ARM GAS  /tmp/cckea6X9.s 			page 57


1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 2005              		.loc 1 1198 0
 2006 00ee FB68     		ldr	r3, [r7, #12]
 2007 00f0 1B68     		ldr	r3, [r3]
 2008 00f2 1B68     		ldr	r3, [r3]
 2009 00f4 03F04003 		and	r3, r3, #64
 2010 00f8 002B     		cmp	r3, #0
 2011 00fa 07D1     		bne	.L103
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 2012              		.loc 1 1201 0
 2013 00fc FB68     		ldr	r3, [r7, #12]
 2014 00fe 1B68     		ldr	r3, [r3]
 2015 0100 FA68     		ldr	r2, [r7, #12]
 2016 0102 1268     		ldr	r2, [r2]
 2017 0104 1268     		ldr	r2, [r2]
 2018 0106 42F04002 		orr	r2, r2, #64
 2019 010a 1A60     		str	r2, [r3]
 2020              	.L103:
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2021              		.loc 1 1206 0
 2022 010c FB68     		ldr	r3, [r7, #12]
 2023 010e 0022     		movs	r2, #0
 2024 0110 83F85020 		strb	r2, [r3, #80]
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 2025              		.loc 1 1207 0
 2026 0114 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2027              	.L100:
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2028              		.loc 1 1208 0
 2029 0116 1846     		mov	r0, r3
 2030 0118 1837     		adds	r7, r7, #24
 2031              	.LCFI46:
 2032              		.cfi_def_cfa_offset 8
 2033 011a BD46     		mov	sp, r7
 2034              	.LCFI47:
 2035              		.cfi_def_cfa_register 13
 2036              		@ sp needed
 2037 011c 80BD     		pop	{r7, pc}
 2038              	.L110:
 2039 011e 00BF     		.align	2
 2040              	.L109:
 2041 0120 00000000 		.word	SPI_RxISR_16BIT
 2042 0124 00000000 		.word	SPI_RxISR_8BIT
 2043              		.cfi_endproc
 2044              	.LFE131:
 2046              		.section	.text.HAL_SPI_TransmitReceive_IT,"ax",%progbits
 2047              		.align	2
 2048              		.global	HAL_SPI_TransmitReceive_IT
 2049              		.thumb
 2050              		.thumb_func
 2052              	HAL_SPI_TransmitReceive_IT:
ARM GAS  /tmp/cckea6X9.s 			page 58


 2053              	.LFB132:
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with Interrupt.
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_IT(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pR
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2054              		.loc 1 1220 0
 2055              		.cfi_startproc
 2056              		@ args = 0, pretend = 0, frame = 32
 2057              		@ frame_needed = 1, uses_anonymous_args = 0
 2058              		@ link register save eliminated.
 2059 0000 80B4     		push	{r7}
 2060              	.LCFI48:
 2061              		.cfi_def_cfa_offset 4
 2062              		.cfi_offset 7, -4
 2063 0002 89B0     		sub	sp, sp, #36
 2064              	.LCFI49:
 2065              		.cfi_def_cfa_offset 40
 2066 0004 00AF     		add	r7, sp, #0
 2067              	.LCFI50:
 2068              		.cfi_def_cfa_register 7
 2069 0006 F860     		str	r0, [r7, #12]
 2070 0008 B960     		str	r1, [r7, #8]
 2071 000a 7A60     		str	r2, [r7, #4]
 2072 000c 7B80     		strh	r3, [r7, #2]	@ movhi
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
 2073              		.loc 1 1221 0
 2074 000e 0023     		movs	r3, #0
 2075 0010 BB61     		str	r3, [r7, #24]
 2076 0012 0023     		movs	r3, #0
 2077 0014 7B61     		str	r3, [r7, #20]
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2078              		.loc 1 1222 0
 2079 0016 0023     		movs	r3, #0
 2080 0018 FB77     		strb	r3, [r7, #31]
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process locked */
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2081              		.loc 1 1228 0
 2082 001a FB68     		ldr	r3, [r7, #12]
 2083 001c 93F85030 		ldrb	r3, [r3, #80]	@ zero_extendqisi2
 2084 0020 012B     		cmp	r3, #1
 2085 0022 01D1     		bne	.L112
 2086              		.loc 1 1228 0 is_stmt 0 discriminator 1
 2087 0024 0223     		movs	r3, #2
 2088 0026 74E0     		b	.L113
 2089              	.L112:
ARM GAS  /tmp/cckea6X9.s 			page 59


 2090              		.loc 1 1228 0 discriminator 2
 2091 0028 FB68     		ldr	r3, [r7, #12]
 2092 002a 0122     		movs	r2, #1
 2093 002c 83F85020 		strb	r2, [r3, #80]
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp  = hspi->State;
 2094              		.loc 1 1230 0 is_stmt 1 discriminator 2
 2095 0030 FB68     		ldr	r3, [r7, #12]
 2096 0032 93F85130 		ldrb	r3, [r3, #81]
 2097 0036 DBB2     		uxtb	r3, r3
 2098 0038 BB61     		str	r3, [r7, #24]
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
 2099              		.loc 1 1231 0 discriminator 2
 2100 003a FB68     		ldr	r3, [r7, #12]
 2101 003c 5B68     		ldr	r3, [r3, #4]
 2102 003e 7B61     		str	r3, [r7, #20]
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(!((tmp == HAL_SPI_STATE_READY) || \
 2103              		.loc 1 1233 0 discriminator 2
 2104 0040 BB69     		ldr	r3, [r7, #24]
 2105 0042 012B     		cmp	r3, #1
 2106 0044 0DD0     		beq	.L114
 2107              		.loc 1 1233 0 is_stmt 0 discriminator 1
 2108 0046 7B69     		ldr	r3, [r7, #20]
 2109 0048 B3F5827F 		cmp	r3, #260
 2110 004c 06D1     		bne	.L115
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     ((tmp1 == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp == HAL_SPI
 2111              		.loc 1 1234 0 is_stmt 1
 2112 004e FB68     		ldr	r3, [r7, #12]
 2113 0050 9B68     		ldr	r3, [r3, #8]
 2114 0052 002B     		cmp	r3, #0
 2115 0054 02D1     		bne	.L115
 2116              		.loc 1 1234 0 is_stmt 0 discriminator 1
 2117 0056 BB69     		ldr	r3, [r7, #24]
 2118 0058 042B     		cmp	r3, #4
 2119 005a 02D0     		beq	.L114
 2120              	.L115:
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 2121              		.loc 1 1236 0 is_stmt 1
 2122 005c 0223     		movs	r3, #2
 2123 005e FB77     		strb	r3, [r7, #31]
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2124              		.loc 1 1237 0
 2125 0060 52E0     		b	.L116
 2126              	.L114:
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0))
 2127              		.loc 1 1240 0
 2128 0062 BB68     		ldr	r3, [r7, #8]
 2129 0064 002B     		cmp	r3, #0
 2130 0066 05D0     		beq	.L117
 2131              		.loc 1 1240 0 is_stmt 0 discriminator 1
 2132 0068 7B68     		ldr	r3, [r7, #4]
 2133 006a 002B     		cmp	r3, #0
 2134 006c 02D0     		beq	.L117
ARM GAS  /tmp/cckea6X9.s 			page 60


 2135              		.loc 1 1240 0 discriminator 2
 2136 006e 7B88     		ldrh	r3, [r7, #2]
 2137 0070 002B     		cmp	r3, #0
 2138 0072 02D1     		bne	.L118
 2139              	.L117:
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2140              		.loc 1 1242 0 is_stmt 1
 2141 0074 0123     		movs	r3, #1
 2142 0076 FB77     		strb	r3, [r7, #31]
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2143              		.loc 1 1243 0
 2144 0078 46E0     		b	.L116
 2145              	.L118:
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 2146              		.loc 1 1247 0
 2147 007a FB68     		ldr	r3, [r7, #12]
 2148 007c 93F85130 		ldrb	r3, [r3, #81]
 2149 0080 DBB2     		uxtb	r3, r3
 2150 0082 012B     		cmp	r3, #1
 2151 0084 03D1     		bne	.L119
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 2152              		.loc 1 1249 0
 2153 0086 FB68     		ldr	r3, [r7, #12]
 2154 0088 0522     		movs	r2, #5
 2155 008a 83F85120 		strb	r2, [r3, #81]
 2156              	.L119:
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2157              		.loc 1 1253 0
 2158 008e FB68     		ldr	r3, [r7, #12]
 2159 0090 0022     		movs	r2, #0
 2160 0092 5A65     		str	r2, [r3, #84]
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 2161              		.loc 1 1254 0
 2162 0094 FB68     		ldr	r3, [r7, #12]
 2163 0096 BA68     		ldr	r2, [r7, #8]
 2164 0098 1A63     		str	r2, [r3, #48]
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2165              		.loc 1 1255 0
 2166 009a FB68     		ldr	r3, [r7, #12]
 2167 009c 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2168 009e 9A86     		strh	r2, [r3, #52]	@ movhi
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2169              		.loc 1 1256 0
 2170 00a0 FB68     		ldr	r3, [r7, #12]
 2171 00a2 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2172 00a4 DA86     		strh	r2, [r3, #54]	@ movhi
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 2173              		.loc 1 1257 0
 2174 00a6 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cckea6X9.s 			page 61


 2175 00a8 7A68     		ldr	r2, [r7, #4]
 2176 00aa 9A63     		str	r2, [r3, #56]
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2177              		.loc 1 1258 0
 2178 00ac FB68     		ldr	r3, [r7, #12]
 2179 00ae 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2180 00b0 9A87     		strh	r2, [r3, #60]	@ movhi
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2181              		.loc 1 1259 0
 2182 00b2 FB68     		ldr	r3, [r7, #12]
 2183 00b4 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2184 00b6 DA87     		strh	r2, [r3, #62]	@ movhi
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the function for IT treatment */
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.DataSize > SPI_DATASIZE_8BIT )
 2185              		.loc 1 1262 0
 2186 00b8 FB68     		ldr	r3, [r7, #12]
 2187 00ba DB68     		ldr	r3, [r3, #12]
 2188 00bc 002B     		cmp	r3, #0
 2189 00be 06D0     		beq	.L120
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_16BIT;
 2190              		.loc 1 1264 0
 2191 00c0 FB68     		ldr	r3, [r7, #12]
 2192 00c2 174A     		ldr	r2, .L122
 2193 00c4 1A64     		str	r2, [r3, #64]
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 2194              		.loc 1 1265 0
 2195 00c6 FB68     		ldr	r3, [r7, #12]
 2196 00c8 164A     		ldr	r2, .L122+4
 2197 00ca 5A64     		str	r2, [r3, #68]
 2198 00cc 05E0     		b	.L121
 2199              	.L120:
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_8BIT;
 2200              		.loc 1 1269 0
 2201 00ce FB68     		ldr	r3, [r7, #12]
 2202 00d0 154A     		ldr	r2, .L122+8
 2203 00d2 1A64     		str	r2, [r3, #64]
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 2204              		.loc 1 1270 0
 2205 00d4 FB68     		ldr	r3, [r7, #12]
 2206 00d6 154A     		ldr	r2, .L122+12
 2207 00d8 5A64     		str	r2, [r3, #68]
 2208              	.L121:
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  /tmp/cckea6X9.s 			page 62


1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
 2209              		.loc 1 1282 0
 2210 00da FB68     		ldr	r3, [r7, #12]
 2211 00dc 1B68     		ldr	r3, [r3]
 2212 00de FA68     		ldr	r2, [r7, #12]
 2213 00e0 1268     		ldr	r2, [r2]
 2214 00e2 5268     		ldr	r2, [r2, #4]
 2215 00e4 42F0E002 		orr	r2, r2, #224
 2216 00e8 5A60     		str	r2, [r3, #4]
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 2217              		.loc 1 1285 0
 2218 00ea FB68     		ldr	r3, [r7, #12]
 2219 00ec 1B68     		ldr	r3, [r3]
 2220 00ee 1B68     		ldr	r3, [r3]
 2221 00f0 03F04003 		and	r3, r3, #64
 2222 00f4 002B     		cmp	r3, #0
 2223 00f6 07D1     		bne	.L116
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 2224              		.loc 1 1288 0
 2225 00f8 FB68     		ldr	r3, [r7, #12]
 2226 00fa 1B68     		ldr	r3, [r3]
 2227 00fc FA68     		ldr	r2, [r7, #12]
 2228 00fe 1268     		ldr	r2, [r2]
 2229 0100 1268     		ldr	r2, [r2]
 2230 0102 42F04002 		orr	r2, r2, #64
 2231 0106 1A60     		str	r2, [r3]
 2232              	.L116:
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2233              		.loc 1 1293 0
 2234 0108 FB68     		ldr	r3, [r7, #12]
 2235 010a 0022     		movs	r2, #0
 2236 010c 83F85020 		strb	r2, [r3, #80]
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 2237              		.loc 1 1294 0
 2238 0110 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 2239              	.L113:
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2240              		.loc 1 1295 0
 2241 0112 1846     		mov	r0, r3
 2242 0114 2437     		adds	r7, r7, #36
 2243              	.LCFI51:
 2244              		.cfi_def_cfa_offset 4
 2245 0116 BD46     		mov	sp, r7
 2246              	.LCFI52:
 2247              		.cfi_def_cfa_register 13
 2248              		@ sp needed
 2249 0118 5DF8047B 		ldr	r7, [sp], #4
 2250              	.LCFI53:
ARM GAS  /tmp/cckea6X9.s 			page 63


 2251              		.cfi_restore 7
 2252              		.cfi_def_cfa_offset 0
 2253 011c 7047     		bx	lr
 2254              	.L123:
 2255 011e 00BF     		.align	2
 2256              	.L122:
 2257 0120 00000000 		.word	SPI_2linesRxISR_16BIT
 2258 0124 00000000 		.word	SPI_2linesTxISR_16BIT
 2259 0128 00000000 		.word	SPI_2linesRxISR_8BIT
 2260 012c 00000000 		.word	SPI_2linesTxISR_8BIT
 2261              		.cfi_endproc
 2262              	.LFE132:
 2264              		.section	.text.HAL_SPI_Transmit_DMA,"ax",%progbits
 2265              		.align	2
 2266              		.global	HAL_SPI_Transmit_DMA
 2267              		.thumb
 2268              		.thumb_func
 2270              	HAL_SPI_Transmit_DMA:
 2271              	.LFB133:
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with DMA.
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2272              		.loc 1 1306 0
 2273              		.cfi_startproc
 2274              		@ args = 0, pretend = 0, frame = 24
 2275              		@ frame_needed = 1, uses_anonymous_args = 0
 2276 0000 90B5     		push	{r4, r7, lr}
 2277              	.LCFI54:
 2278              		.cfi_def_cfa_offset 12
 2279              		.cfi_offset 4, -12
 2280              		.cfi_offset 7, -8
 2281              		.cfi_offset 14, -4
 2282 0002 87B0     		sub	sp, sp, #28
 2283              	.LCFI55:
 2284              		.cfi_def_cfa_offset 40
 2285 0004 00AF     		add	r7, sp, #0
 2286              	.LCFI56:
 2287              		.cfi_def_cfa_register 7
 2288 0006 F860     		str	r0, [r7, #12]
 2289 0008 B960     		str	r1, [r7, #8]
 2290 000a 1346     		mov	r3, r2
 2291 000c FB80     		strh	r3, [r7, #6]	@ movhi
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2292              		.loc 1 1307 0
 2293 000e 0023     		movs	r3, #0
 2294 0010 FB75     		strb	r3, [r7, #23]
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
ARM GAS  /tmp/cckea6X9.s 			page 64


1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2295              		.loc 1 1313 0
 2296 0012 FB68     		ldr	r3, [r7, #12]
 2297 0014 93F85030 		ldrb	r3, [r3, #80]	@ zero_extendqisi2
 2298 0018 012B     		cmp	r3, #1
 2299 001a 01D1     		bne	.L125
 2300              		.loc 1 1313 0 is_stmt 0 discriminator 1
 2301 001c 0223     		movs	r3, #2
 2302 001e 85E0     		b	.L126
 2303              	.L125:
 2304              		.loc 1 1313 0 discriminator 2
 2305 0020 FB68     		ldr	r3, [r7, #12]
 2306 0022 0122     		movs	r2, #1
 2307 0024 83F85020 		strb	r2, [r3, #80]
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
 2308              		.loc 1 1315 0 is_stmt 1 discriminator 2
 2309 0028 FB68     		ldr	r3, [r7, #12]
 2310 002a 93F85130 		ldrb	r3, [r3, #81]
 2311 002e DBB2     		uxtb	r3, r3
 2312 0030 012B     		cmp	r3, #1
 2313 0032 02D0     		beq	.L127
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 2314              		.loc 1 1317 0
 2315 0034 0223     		movs	r3, #2
 2316 0036 FB75     		strb	r3, [r7, #23]
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2317              		.loc 1 1318 0
 2318 0038 73E0     		b	.L128
 2319              	.L127:
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((pData == NULL) || (Size == 0))
 2320              		.loc 1 1321 0
 2321 003a BB68     		ldr	r3, [r7, #8]
 2322 003c 002B     		cmp	r3, #0
 2323 003e 02D0     		beq	.L129
 2324              		.loc 1 1321 0 is_stmt 0 discriminator 1
 2325 0040 FB88     		ldrh	r3, [r7, #6]
 2326 0042 002B     		cmp	r3, #0
 2327 0044 02D1     		bne	.L130
 2328              	.L129:
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2329              		.loc 1 1323 0 is_stmt 1
 2330 0046 0123     		movs	r3, #1
 2331 0048 FB75     		strb	r3, [r7, #23]
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2332              		.loc 1 1324 0
 2333 004a 6AE0     		b	.L128
 2334              	.L130:
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
ARM GAS  /tmp/cckea6X9.s 			page 65


1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 2335              		.loc 1 1328 0
 2336 004c FB68     		ldr	r3, [r7, #12]
 2337 004e 0322     		movs	r2, #3
 2338 0050 83F85120 		strb	r2, [r3, #81]
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2339              		.loc 1 1329 0
 2340 0054 FB68     		ldr	r3, [r7, #12]
 2341 0056 0022     		movs	r2, #0
 2342 0058 5A65     		str	r2, [r3, #84]
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 2343              		.loc 1 1330 0
 2344 005a FB68     		ldr	r3, [r7, #12]
 2345 005c BA68     		ldr	r2, [r7, #8]
 2346 005e 1A63     		str	r2, [r3, #48]
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2347              		.loc 1 1331 0
 2348 0060 FB68     		ldr	r3, [r7, #12]
 2349 0062 FA88     		ldrh	r2, [r7, #6]	@ movhi
 2350 0064 9A86     		strh	r2, [r3, #52]	@ movhi
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2351              		.loc 1 1332 0
 2352 0066 FB68     		ldr	r3, [r7, #12]
 2353 0068 FA88     		ldrh	r2, [r7, #6]	@ movhi
 2354 006a DA86     		strh	r2, [r3, #54]	@ movhi
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 2355              		.loc 1 1335 0
 2356 006c FB68     		ldr	r3, [r7, #12]
 2357 006e 0022     		movs	r2, #0
 2358 0070 9A63     		str	r2, [r3, #56]
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2359              		.loc 1 1336 0
 2360 0072 FB68     		ldr	r3, [r7, #12]
 2361 0074 0022     		movs	r2, #0
 2362 0076 5A64     		str	r2, [r3, #68]
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2363              		.loc 1 1337 0
 2364 0078 FB68     		ldr	r3, [r7, #12]
 2365 007a 0022     		movs	r2, #0
 2366 007c 1A64     		str	r2, [r3, #64]
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2367              		.loc 1 1338 0
 2368 007e FB68     		ldr	r3, [r7, #12]
 2369 0080 0022     		movs	r2, #0
 2370 0082 9A87     		strh	r2, [r3, #60]	@ movhi
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2371              		.loc 1 1339 0
 2372 0084 FB68     		ldr	r3, [r7, #12]
 2373 0086 0022     		movs	r2, #0
 2374 0088 DA87     		strh	r2, [r3, #62]	@ movhi
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 2375              		.loc 1 1342 0
 2376 008a FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cckea6X9.s 			page 66


 2377 008c 9B68     		ldr	r3, [r3, #8]
 2378 008e B3F5004F 		cmp	r3, #32768
 2379 0092 07D1     		bne	.L131
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2380              		.loc 1 1344 0
 2381 0094 FB68     		ldr	r3, [r7, #12]
 2382 0096 1B68     		ldr	r3, [r3]
 2383 0098 FA68     		ldr	r2, [r7, #12]
 2384 009a 1268     		ldr	r2, [r2]
 2385 009c 1268     		ldr	r2, [r2]
 2386 009e 42F48042 		orr	r2, r2, #16384
 2387 00a2 1A60     		str	r2, [r3]
 2388              	.L131:
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the SPI TxDMA Half transfer complete callback */
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = SPI_DMAHalfTransmitCplt;
 2389              		.loc 1 1356 0
 2390 00a4 FB68     		ldr	r3, [r7, #12]
 2391 00a6 9B6C     		ldr	r3, [r3, #72]
 2392 00a8 224A     		ldr	r2, .L133
 2393 00aa 1A64     		str	r2, [r3, #64]
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the SPI TxDMA transfer complete callback */
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback = SPI_DMATransmitCplt;
 2394              		.loc 1 1359 0
 2395 00ac FB68     		ldr	r3, [r7, #12]
 2396 00ae 9B6C     		ldr	r3, [r3, #72]
 2397 00b0 214A     		ldr	r2, .L133+4
 2398 00b2 DA63     		str	r2, [r3, #60]
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the DMA error callback */
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback = SPI_DMAError;
 2399              		.loc 1 1362 0
 2400 00b4 FB68     		ldr	r3, [r7, #12]
 2401 00b6 9B6C     		ldr	r3, [r3, #72]
 2402 00b8 204A     		ldr	r2, .L133+8
 2403 00ba DA64     		str	r2, [r3, #76]
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
 2404              		.loc 1 1365 0
 2405 00bc FB68     		ldr	r3, [r7, #12]
 2406 00be 9B6C     		ldr	r3, [r3, #72]
 2407 00c0 0022     		movs	r2, #0
 2408 00c2 1A65     		str	r2, [r3, #80]
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the Tx DMA Stream */
ARM GAS  /tmp/cckea6X9.s 			page 67


1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instance->DR, hspi->T
 2409              		.loc 1 1368 0
 2410 00c4 FB68     		ldr	r3, [r7, #12]
 2411 00c6 9A6C     		ldr	r2, [r3, #72]
 2412 00c8 FB68     		ldr	r3, [r7, #12]
 2413 00ca 1B6B     		ldr	r3, [r3, #48]
 2414 00cc 1946     		mov	r1, r3
 2415 00ce FB68     		ldr	r3, [r7, #12]
 2416 00d0 1B68     		ldr	r3, [r3]
 2417 00d2 0C33     		adds	r3, r3, #12
 2418 00d4 1C46     		mov	r4, r3
 2419 00d6 FB68     		ldr	r3, [r7, #12]
 2420 00d8 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 2421 00da 9BB2     		uxth	r3, r3
 2422 00dc 1046     		mov	r0, r2
 2423 00de 2246     		mov	r2, r4
 2424 00e0 FFF7FEFF 		bl	HAL_DMA_Start_IT
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 2425              		.loc 1 1371 0
 2426 00e4 FB68     		ldr	r3, [r7, #12]
 2427 00e6 1B68     		ldr	r3, [r3]
 2428 00e8 1B68     		ldr	r3, [r3]
 2429 00ea 03F04003 		and	r3, r3, #64
 2430 00ee 002B     		cmp	r3, #0
 2431 00f0 07D1     		bne	.L132
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 2432              		.loc 1 1374 0
 2433 00f2 FB68     		ldr	r3, [r7, #12]
 2434 00f4 1B68     		ldr	r3, [r3]
 2435 00f6 FA68     		ldr	r2, [r7, #12]
 2436 00f8 1268     		ldr	r2, [r2]
 2437 00fa 1268     		ldr	r2, [r2]
 2438 00fc 42F04002 		orr	r2, r2, #64
 2439 0100 1A60     		str	r2, [r3]
 2440              	.L132:
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
 2441              		.loc 1 1378 0
 2442 0102 FB68     		ldr	r3, [r7, #12]
 2443 0104 1B68     		ldr	r3, [r3]
 2444 0106 FA68     		ldr	r2, [r7, #12]
 2445 0108 1268     		ldr	r2, [r2]
 2446 010a 5268     		ldr	r2, [r2, #4]
 2447 010c 42F02002 		orr	r2, r2, #32
 2448 0110 5A60     		str	r2, [r3, #4]
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable Tx DMA Request */
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
 2449              		.loc 1 1381 0
 2450 0112 FB68     		ldr	r3, [r7, #12]
 2451 0114 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/cckea6X9.s 			page 68


 2452 0116 FA68     		ldr	r2, [r7, #12]
 2453 0118 1268     		ldr	r2, [r2]
 2454 011a 5268     		ldr	r2, [r2, #4]
 2455 011c 42F00202 		orr	r2, r2, #2
 2456 0120 5A60     		str	r2, [r3, #4]
 2457              	.L128:
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2458              		.loc 1 1385 0
 2459 0122 FB68     		ldr	r3, [r7, #12]
 2460 0124 0022     		movs	r2, #0
 2461 0126 83F85020 		strb	r2, [r3, #80]
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 2462              		.loc 1 1386 0
 2463 012a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2464              	.L126:
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2465              		.loc 1 1387 0
 2466 012c 1846     		mov	r0, r3
 2467 012e 1C37     		adds	r7, r7, #28
 2468              	.LCFI57:
 2469              		.cfi_def_cfa_offset 12
 2470 0130 BD46     		mov	sp, r7
 2471              	.LCFI58:
 2472              		.cfi_def_cfa_register 13
 2473              		@ sp needed
 2474 0132 90BD     		pop	{r4, r7, pc}
 2475              	.L134:
 2476              		.align	2
 2477              	.L133:
 2478 0134 00000000 		.word	SPI_DMAHalfTransmitCplt
 2479 0138 00000000 		.word	SPI_DMATransmitCplt
 2480 013c 00000000 		.word	SPI_DMAError
 2481              		.cfi_endproc
 2482              	.LFE133:
 2484              		.section	.text.HAL_SPI_Receive_DMA,"ax",%progbits
 2485              		.align	2
 2486              		.global	HAL_SPI_Receive_DMA
 2487              		.thumb
 2488              		.thumb_func
 2490              	HAL_SPI_Receive_DMA:
 2491              	.LFB134:
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with DMA.
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pData Length must be Size + 1.
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2492              		.loc 1 1399 0
ARM GAS  /tmp/cckea6X9.s 			page 69


 2493              		.cfi_startproc
 2494              		@ args = 0, pretend = 0, frame = 24
 2495              		@ frame_needed = 1, uses_anonymous_args = 0
 2496 0000 90B5     		push	{r4, r7, lr}
 2497              	.LCFI59:
 2498              		.cfi_def_cfa_offset 12
 2499              		.cfi_offset 4, -12
 2500              		.cfi_offset 7, -8
 2501              		.cfi_offset 14, -4
 2502 0002 87B0     		sub	sp, sp, #28
 2503              	.LCFI60:
 2504              		.cfi_def_cfa_offset 40
 2505 0004 00AF     		add	r7, sp, #0
 2506              	.LCFI61:
 2507              		.cfi_def_cfa_register 7
 2508 0006 F860     		str	r0, [r7, #12]
 2509 0008 B960     		str	r1, [r7, #8]
 2510 000a 1346     		mov	r3, r2
 2511 000c FB80     		strh	r3, [r7, #6]	@ movhi
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2512              		.loc 1 1400 0
 2513 000e 0023     		movs	r3, #0
 2514 0010 FB75     		strb	r3, [r7, #23]
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Init.Direction == SPI_DIRECTION_2LINES)&&(hspi->Init.Mode == SPI_MODE_MASTER))
 2515              		.loc 1 1402 0
 2516 0012 FB68     		ldr	r3, [r7, #12]
 2517 0014 9B68     		ldr	r3, [r3, #8]
 2518 0016 002B     		cmp	r3, #0
 2519 0018 10D1     		bne	.L136
 2520              		.loc 1 1402 0 is_stmt 0 discriminator 1
 2521 001a FB68     		ldr	r3, [r7, #12]
 2522 001c 5B68     		ldr	r3, [r3, #4]
 2523 001e B3F5827F 		cmp	r3, #260
 2524 0022 0BD1     		bne	.L136
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      hspi->State = HAL_SPI_STATE_BUSY_RX;
 2525              		.loc 1 1404 0 is_stmt 1
 2526 0024 FB68     		ldr	r3, [r7, #12]
 2527 0026 0422     		movs	r2, #4
 2528 0028 83F85120 		strb	r2, [r3, #81]
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      return HAL_SPI_TransmitReceive_DMA(hspi, pData, pData, Size);
 2529              		.loc 1 1406 0
 2530 002c FB88     		ldrh	r3, [r7, #6]
 2531 002e F868     		ldr	r0, [r7, #12]
 2532 0030 B968     		ldr	r1, [r7, #8]
 2533 0032 BA68     		ldr	r2, [r7, #8]
 2534 0034 FFF7FEFF 		bl	HAL_SPI_TransmitReceive_DMA
 2535 0038 0346     		mov	r3, r0
 2536 003a 89E0     		b	.L137
 2537              	.L136:
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2538              		.loc 1 1410 0
ARM GAS  /tmp/cckea6X9.s 			page 70


 2539 003c FB68     		ldr	r3, [r7, #12]
 2540 003e 93F85030 		ldrb	r3, [r3, #80]	@ zero_extendqisi2
 2541 0042 012B     		cmp	r3, #1
 2542 0044 01D1     		bne	.L138
 2543              		.loc 1 1410 0 is_stmt 0 discriminator 1
 2544 0046 0223     		movs	r3, #2
 2545 0048 82E0     		b	.L137
 2546              	.L138:
 2547              		.loc 1 1410 0 discriminator 2
 2548 004a FB68     		ldr	r3, [r7, #12]
 2549 004c 0122     		movs	r2, #1
 2550 004e 83F85020 		strb	r2, [r3, #80]
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
 2551              		.loc 1 1412 0 is_stmt 1 discriminator 2
 2552 0052 FB68     		ldr	r3, [r7, #12]
 2553 0054 93F85130 		ldrb	r3, [r3, #81]
 2554 0058 DBB2     		uxtb	r3, r3
 2555 005a 012B     		cmp	r3, #1
 2556 005c 02D0     		beq	.L139
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 2557              		.loc 1 1414 0
 2558 005e 0223     		movs	r3, #2
 2559 0060 FB75     		strb	r3, [r7, #23]
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2560              		.loc 1 1415 0
 2561 0062 70E0     		b	.L140
 2562              	.L139:
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((pData == NULL) || (Size == 0))
 2563              		.loc 1 1418 0
 2564 0064 BB68     		ldr	r3, [r7, #8]
 2565 0066 002B     		cmp	r3, #0
 2566 0068 02D0     		beq	.L141
 2567              		.loc 1 1418 0 is_stmt 0 discriminator 1
 2568 006a FB88     		ldrh	r3, [r7, #6]
 2569 006c 002B     		cmp	r3, #0
 2570 006e 02D1     		bne	.L142
 2571              	.L141:
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2572              		.loc 1 1420 0 is_stmt 1
 2573 0070 0123     		movs	r3, #1
 2574 0072 FB75     		strb	r3, [r7, #23]
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2575              		.loc 1 1421 0
 2576 0074 67E0     		b	.L140
 2577              	.L142:
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 2578              		.loc 1 1425 0
 2579 0076 FB68     		ldr	r3, [r7, #12]
 2580 0078 0422     		movs	r2, #4
ARM GAS  /tmp/cckea6X9.s 			page 71


 2581 007a 83F85120 		strb	r2, [r3, #81]
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2582              		.loc 1 1426 0
 2583 007e FB68     		ldr	r3, [r7, #12]
 2584 0080 0022     		movs	r2, #0
 2585 0082 5A65     		str	r2, [r3, #84]
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 2586              		.loc 1 1427 0
 2587 0084 FB68     		ldr	r3, [r7, #12]
 2588 0086 BA68     		ldr	r2, [r7, #8]
 2589 0088 9A63     		str	r2, [r3, #56]
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2590              		.loc 1 1428 0
 2591 008a FB68     		ldr	r3, [r7, #12]
 2592 008c FA88     		ldrh	r2, [r7, #6]	@ movhi
 2593 008e 9A87     		strh	r2, [r3, #60]	@ movhi
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2594              		.loc 1 1429 0
 2595 0090 FB68     		ldr	r3, [r7, #12]
 2596 0092 FA88     		ldrh	r2, [r7, #6]	@ movhi
 2597 0094 DA87     		strh	r2, [r3, #62]	@ movhi
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*Init field not used in handle to zero */
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2598              		.loc 1 1432 0
 2599 0096 FB68     		ldr	r3, [r7, #12]
 2600 0098 0022     		movs	r2, #0
 2601 009a 1A64     		str	r2, [r3, #64]
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2602              		.loc 1 1433 0
 2603 009c FB68     		ldr	r3, [r7, #12]
 2604 009e 0022     		movs	r2, #0
 2605 00a0 5A64     		str	r2, [r3, #68]
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 2606              		.loc 1 1434 0
 2607 00a2 FB68     		ldr	r3, [r7, #12]
 2608 00a4 0022     		movs	r2, #0
 2609 00a6 9A86     		strh	r2, [r3, #52]	@ movhi
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 2610              		.loc 1 1435 0
 2611 00a8 FB68     		ldr	r3, [r7, #12]
 2612 00aa 0022     		movs	r2, #0
 2613 00ac DA86     		strh	r2, [r3, #54]	@ movhi
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 2614              		.loc 1 1438 0
 2615 00ae FB68     		ldr	r3, [r7, #12]
 2616 00b0 9B68     		ldr	r3, [r3, #8]
 2617 00b2 B3F5004F 		cmp	r3, #32768
 2618 00b6 07D1     		bne	.L143
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 2619              		.loc 1 1440 0
 2620 00b8 FB68     		ldr	r3, [r7, #12]
 2621 00ba 1B68     		ldr	r3, [r3]
 2622 00bc FA68     		ldr	r2, [r7, #12]
ARM GAS  /tmp/cckea6X9.s 			page 72


 2623 00be 1268     		ldr	r2, [r2]
 2624 00c0 1268     		ldr	r2, [r2]
 2625 00c2 22F48042 		bic	r2, r2, #16384
 2626 00c6 1A60     		str	r2, [r3]
 2627              	.L143:
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the SPI RxDMA Half transfer complete callback */
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
 2628              		.loc 1 1452 0
 2629 00c8 FB68     		ldr	r3, [r7, #12]
 2630 00ca DB6C     		ldr	r3, [r3, #76]
 2631 00cc 224A     		ldr	r2, .L145
 2632 00ce 1A64     		str	r2, [r3, #64]
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the SPI Rx DMA transfer complete callback */
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
 2633              		.loc 1 1455 0
 2634 00d0 FB68     		ldr	r3, [r7, #12]
 2635 00d2 DB6C     		ldr	r3, [r3, #76]
 2636 00d4 214A     		ldr	r2, .L145+4
 2637 00d6 DA63     		str	r2, [r3, #60]
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the DMA error callback */
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
 2638              		.loc 1 1458 0
 2639 00d8 FB68     		ldr	r3, [r7, #12]
 2640 00da DB6C     		ldr	r3, [r3, #76]
 2641 00dc 204A     		ldr	r2, .L145+8
 2642 00de DA64     		str	r2, [r3, #76]
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  /* Set the DMA AbortCpltCallback */
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
 2643              		.loc 1 1461 0
 2644 00e0 FB68     		ldr	r3, [r7, #12]
 2645 00e2 DB6C     		ldr	r3, [r3, #76]
 2646 00e4 0022     		movs	r2, #0
 2647 00e6 1A65     		str	r2, [r3, #80]
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the Rx DMA Stream */
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBuffPtr, hspi->R
 2648              		.loc 1 1464 0
 2649 00e8 FB68     		ldr	r3, [r7, #12]
 2650 00ea DA6C     		ldr	r2, [r3, #76]
 2651 00ec FB68     		ldr	r3, [r7, #12]
 2652 00ee 1B68     		ldr	r3, [r3]
 2653 00f0 0C33     		adds	r3, r3, #12
 2654 00f2 1946     		mov	r1, r3
 2655 00f4 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cckea6X9.s 			page 73


 2656 00f6 9B6B     		ldr	r3, [r3, #56]
 2657 00f8 1C46     		mov	r4, r3
 2658 00fa FB68     		ldr	r3, [r7, #12]
 2659 00fc DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2660 00fe 9BB2     		uxth	r3, r3
 2661 0100 1046     		mov	r0, r2
 2662 0102 2246     		mov	r2, r4
 2663 0104 FFF7FEFF 		bl	HAL_DMA_Start_IT
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 2664              		.loc 1 1467 0
 2665 0108 FB68     		ldr	r3, [r7, #12]
 2666 010a 1B68     		ldr	r3, [r3]
 2667 010c 1B68     		ldr	r3, [r3]
 2668 010e 03F04003 		and	r3, r3, #64
 2669 0112 002B     		cmp	r3, #0
 2670 0114 07D1     		bne	.L144
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 2671              		.loc 1 1470 0
 2672 0116 FB68     		ldr	r3, [r7, #12]
 2673 0118 1B68     		ldr	r3, [r3]
 2674 011a FA68     		ldr	r2, [r7, #12]
 2675 011c 1268     		ldr	r2, [r2]
 2676 011e 1268     		ldr	r2, [r2]
 2677 0120 42F04002 		orr	r2, r2, #64
 2678 0124 1A60     		str	r2, [r3]
 2679              	.L144:
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
 2680              		.loc 1 1474 0
 2681 0126 FB68     		ldr	r3, [r7, #12]
 2682 0128 1B68     		ldr	r3, [r3]
 2683 012a FA68     		ldr	r2, [r7, #12]
 2684 012c 1268     		ldr	r2, [r2]
 2685 012e 5268     		ldr	r2, [r2, #4]
 2686 0130 42F02002 		orr	r2, r2, #32
 2687 0134 5A60     		str	r2, [r3, #4]
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable Rx DMA Request */
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
 2688              		.loc 1 1477 0
 2689 0136 FB68     		ldr	r3, [r7, #12]
 2690 0138 1B68     		ldr	r3, [r3]
 2691 013a FA68     		ldr	r2, [r7, #12]
 2692 013c 1268     		ldr	r2, [r2]
 2693 013e 5268     		ldr	r2, [r2, #4]
 2694 0140 42F00102 		orr	r2, r2, #1
 2695 0144 5A60     		str	r2, [r3, #4]
 2696              	.L140:
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error:
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
ARM GAS  /tmp/cckea6X9.s 			page 74


1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2697              		.loc 1 1481 0
 2698 0146 FB68     		ldr	r3, [r7, #12]
 2699 0148 0022     		movs	r2, #0
 2700 014a 83F85020 		strb	r2, [r3, #80]
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 2701              		.loc 1 1482 0
 2702 014e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2703              	.L137:
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2704              		.loc 1 1483 0
 2705 0150 1846     		mov	r0, r3
 2706 0152 1C37     		adds	r7, r7, #28
 2707              	.LCFI62:
 2708              		.cfi_def_cfa_offset 12
 2709 0154 BD46     		mov	sp, r7
 2710              	.LCFI63:
 2711              		.cfi_def_cfa_register 13
 2712              		@ sp needed
 2713 0156 90BD     		pop	{r4, r7, pc}
 2714              	.L146:
 2715              		.align	2
 2716              	.L145:
 2717 0158 00000000 		.word	SPI_DMAHalfReceiveCplt
 2718 015c 00000000 		.word	SPI_DMAReceiveCplt
 2719 0160 00000000 		.word	SPI_DMAError
 2720              		.cfi_endproc
 2721              	.LFE134:
 2723              		.section	.text.HAL_SPI_TransmitReceive_DMA,"ax",%progbits
 2724              		.align	2
 2725              		.global	HAL_SPI_TransmitReceive_DMA
 2726              		.thumb
 2727              		.thumb_func
 2729              	HAL_SPI_TransmitReceive_DMA:
 2730              	.LFB135:
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with DMA.
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pRxData Length must be Size + 1
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *p
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 2731              		.loc 1 1496 0
 2732              		.cfi_startproc
 2733              		@ args = 0, pretend = 0, frame = 32
 2734              		@ frame_needed = 1, uses_anonymous_args = 0
 2735 0000 90B5     		push	{r4, r7, lr}
 2736              	.LCFI64:
 2737              		.cfi_def_cfa_offset 12
 2738              		.cfi_offset 4, -12
 2739              		.cfi_offset 7, -8
ARM GAS  /tmp/cckea6X9.s 			page 75


 2740              		.cfi_offset 14, -4
 2741 0002 89B0     		sub	sp, sp, #36
 2742              	.LCFI65:
 2743              		.cfi_def_cfa_offset 48
 2744 0004 00AF     		add	r7, sp, #0
 2745              	.LCFI66:
 2746              		.cfi_def_cfa_register 7
 2747 0006 F860     		str	r0, [r7, #12]
 2748 0008 B960     		str	r1, [r7, #8]
 2749 000a 7A60     		str	r2, [r7, #4]
 2750 000c 7B80     		strh	r3, [r7, #2]	@ movhi
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
 2751              		.loc 1 1497 0
 2752 000e 0023     		movs	r3, #0
 2753 0010 BB61     		str	r3, [r7, #24]
 2754 0012 0023     		movs	r3, #0
 2755 0014 7B61     		str	r3, [r7, #20]
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2756              		.loc 1 1498 0
 2757 0016 0023     		movs	r3, #0
 2758 0018 FB77     		strb	r3, [r7, #31]
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process locked */
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2759              		.loc 1 1504 0
 2760 001a FB68     		ldr	r3, [r7, #12]
 2761 001c 93F85030 		ldrb	r3, [r3, #80]	@ zero_extendqisi2
 2762 0020 012B     		cmp	r3, #1
 2763 0022 01D1     		bne	.L148
 2764              		.loc 1 1504 0 is_stmt 0 discriminator 1
 2765 0024 0223     		movs	r3, #2
 2766 0026 C8E0     		b	.L149
 2767              	.L148:
 2768              		.loc 1 1504 0 discriminator 2
 2769 0028 FB68     		ldr	r3, [r7, #12]
 2770 002a 0122     		movs	r2, #1
 2771 002c 83F85020 		strb	r2, [r3, #80]
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp  = hspi->State;
 2772              		.loc 1 1506 0 is_stmt 1 discriminator 2
 2773 0030 FB68     		ldr	r3, [r7, #12]
 2774 0032 93F85130 		ldrb	r3, [r3, #81]
 2775 0036 DBB2     		uxtb	r3, r3
 2776 0038 BB61     		str	r3, [r7, #24]
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
 2777              		.loc 1 1507 0 discriminator 2
 2778 003a FB68     		ldr	r3, [r7, #12]
 2779 003c 5B68     		ldr	r3, [r3, #4]
 2780 003e 7B61     		str	r3, [r7, #20]
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(!((tmp == HAL_SPI_STATE_READY) ||
 2781              		.loc 1 1508 0 discriminator 2
 2782 0040 BB69     		ldr	r3, [r7, #24]
 2783 0042 012B     		cmp	r3, #1
 2784 0044 0DD0     		beq	.L150
ARM GAS  /tmp/cckea6X9.s 			page 76


 2785              		.loc 1 1508 0 is_stmt 0 discriminator 1
 2786 0046 7B69     		ldr	r3, [r7, #20]
 2787 0048 B3F5827F 		cmp	r3, #260
 2788 004c 06D1     		bne	.L151
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       ((tmp1 == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp == HAL_S
 2789              		.loc 1 1509 0 is_stmt 1
 2790 004e FB68     		ldr	r3, [r7, #12]
 2791 0050 9B68     		ldr	r3, [r3, #8]
 2792 0052 002B     		cmp	r3, #0
 2793 0054 02D1     		bne	.L151
 2794              		.loc 1 1509 0 is_stmt 0 discriminator 1
 2795 0056 BB69     		ldr	r3, [r7, #24]
 2796 0058 042B     		cmp	r3, #4
 2797 005a 02D0     		beq	.L150
 2798              	.L151:
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 2799              		.loc 1 1511 0 is_stmt 1
 2800 005c 0223     		movs	r3, #2
 2801 005e FB77     		strb	r3, [r7, #31]
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2802              		.loc 1 1512 0
 2803 0060 A6E0     		b	.L152
 2804              	.L150:
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0))
 2805              		.loc 1 1515 0
 2806 0062 BB68     		ldr	r3, [r7, #8]
 2807 0064 002B     		cmp	r3, #0
 2808 0066 05D0     		beq	.L153
 2809              		.loc 1 1515 0 is_stmt 0 discriminator 1
 2810 0068 7B68     		ldr	r3, [r7, #4]
 2811 006a 002B     		cmp	r3, #0
 2812 006c 02D0     		beq	.L153
 2813              		.loc 1 1515 0 discriminator 2
 2814 006e 7B88     		ldrh	r3, [r7, #2]
 2815 0070 002B     		cmp	r3, #0
 2816 0072 02D1     		bne	.L154
 2817              	.L153:
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2818              		.loc 1 1517 0 is_stmt 1
 2819 0074 0123     		movs	r3, #1
 2820 0076 FB77     		strb	r3, [r7, #31]
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2821              		.loc 1 1518 0
 2822 0078 9AE0     		b	.L152
 2823              	.L154:
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 2824              		.loc 1 1522 0
 2825 007a FB68     		ldr	r3, [r7, #12]
 2826 007c 93F85130 		ldrb	r3, [r3, #81]
 2827 0080 DBB2     		uxtb	r3, r3
ARM GAS  /tmp/cckea6X9.s 			page 77


 2828 0082 012B     		cmp	r3, #1
 2829 0084 03D1     		bne	.L155
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 2830              		.loc 1 1524 0
 2831 0086 FB68     		ldr	r3, [r7, #12]
 2832 0088 0522     		movs	r2, #5
 2833 008a 83F85120 		strb	r2, [r3, #81]
 2834              	.L155:
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2835              		.loc 1 1528 0
 2836 008e FB68     		ldr	r3, [r7, #12]
 2837 0090 0022     		movs	r2, #0
 2838 0092 5A65     		str	r2, [r3, #84]
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t*)pTxData;
 2839              		.loc 1 1529 0
 2840 0094 FB68     		ldr	r3, [r7, #12]
 2841 0096 BA68     		ldr	r2, [r7, #8]
 2842 0098 1A63     		str	r2, [r3, #48]
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2843              		.loc 1 1530 0
 2844 009a FB68     		ldr	r3, [r7, #12]
 2845 009c 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2846 009e 9A86     		strh	r2, [r3, #52]	@ movhi
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2847              		.loc 1 1531 0
 2848 00a0 FB68     		ldr	r3, [r7, #12]
 2849 00a2 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2850 00a4 DA86     		strh	r2, [r3, #54]	@ movhi
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t*)pRxData;
 2851              		.loc 1 1532 0
 2852 00a6 FB68     		ldr	r3, [r7, #12]
 2853 00a8 7A68     		ldr	r2, [r7, #4]
 2854 00aa 9A63     		str	r2, [r3, #56]
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2855              		.loc 1 1533 0
 2856 00ac FB68     		ldr	r3, [r7, #12]
 2857 00ae 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2858 00b0 9A87     		strh	r2, [r3, #60]	@ movhi
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2859              		.loc 1 1534 0
 2860 00b2 FB68     		ldr	r3, [r7, #12]
 2861 00b4 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2862 00b6 DA87     		strh	r2, [r3, #62]	@ movhi
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2863              		.loc 1 1537 0
 2864 00b8 FB68     		ldr	r3, [r7, #12]
 2865 00ba 0022     		movs	r2, #0
 2866 00bc 1A64     		str	r2, [r3, #64]
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2867              		.loc 1 1538 0
 2868 00be FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cckea6X9.s 			page 78


 2869 00c0 0022     		movs	r2, #0
 2870 00c2 5A64     		str	r2, [r3, #68]
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if we are in Rx only or in Rx/Tx Mode and configure the DMA transfer complete callback *
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_BUSY_RX)
 2871              		.loc 1 1549 0
 2872 00c4 FB68     		ldr	r3, [r7, #12]
 2873 00c6 93F85130 		ldrb	r3, [r3, #81]
 2874 00ca DBB2     		uxtb	r3, r3
 2875 00cc 042B     		cmp	r3, #4
 2876 00ce 08D1     		bne	.L156
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the SPI Rx DMA Half transfer complete callback */
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
 2877              		.loc 1 1552 0
 2878 00d0 FB68     		ldr	r3, [r7, #12]
 2879 00d2 DB6C     		ldr	r3, [r3, #76]
 2880 00d4 3B4A     		ldr	r2, .L159
 2881 00d6 1A64     		str	r2, [r3, #64]
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 2882              		.loc 1 1553 0
 2883 00d8 FB68     		ldr	r3, [r7, #12]
 2884 00da DB6C     		ldr	r3, [r3, #76]
 2885 00dc 3A4A     		ldr	r2, .L159+4
 2886 00de DA63     		str	r2, [r3, #60]
 2887 00e0 07E0     		b	.L157
 2888              	.L156:
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the SPI Tx/Rx DMA Half transfer complete callback */
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfTransmitReceiveCplt;
 2889              		.loc 1 1558 0
 2890 00e2 FB68     		ldr	r3, [r7, #12]
 2891 00e4 DB6C     		ldr	r3, [r3, #76]
 2892 00e6 394A     		ldr	r2, .L159+8
 2893 00e8 1A64     		str	r2, [r3, #64]
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 2894              		.loc 1 1559 0
 2895 00ea FB68     		ldr	r3, [r7, #12]
 2896 00ec DB6C     		ldr	r3, [r3, #76]
 2897 00ee 384A     		ldr	r2, .L159+12
 2898 00f0 DA63     		str	r2, [r3, #60]
 2899              	.L157:
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the DMA error callback */
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
 2900              		.loc 1 1563 0
ARM GAS  /tmp/cckea6X9.s 			page 79


 2901 00f2 FB68     		ldr	r3, [r7, #12]
 2902 00f4 DB6C     		ldr	r3, [r3, #76]
 2903 00f6 374A     		ldr	r2, .L159+16
 2904 00f8 DA64     		str	r2, [r3, #76]
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
 2905              		.loc 1 1566 0
 2906 00fa FB68     		ldr	r3, [r7, #12]
 2907 00fc DB6C     		ldr	r3, [r3, #76]
 2908 00fe 0022     		movs	r2, #0
 2909 0100 1A65     		str	r2, [r3, #80]
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the Rx DMA Stream */
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBuffPtr, hspi->R
 2910              		.loc 1 1569 0
 2911 0102 FB68     		ldr	r3, [r7, #12]
 2912 0104 DA6C     		ldr	r2, [r3, #76]
 2913 0106 FB68     		ldr	r3, [r7, #12]
 2914 0108 1B68     		ldr	r3, [r3]
 2915 010a 0C33     		adds	r3, r3, #12
 2916 010c 1946     		mov	r1, r3
 2917 010e FB68     		ldr	r3, [r7, #12]
 2918 0110 9B6B     		ldr	r3, [r3, #56]
 2919 0112 1C46     		mov	r4, r3
 2920 0114 FB68     		ldr	r3, [r7, #12]
 2921 0116 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2922 0118 9BB2     		uxth	r3, r3
 2923 011a 1046     		mov	r0, r2
 2924 011c 2246     		mov	r2, r4
 2925 011e FFF7FEFF 		bl	HAL_DMA_Start_IT
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable Rx DMA Request */
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
 2926              		.loc 1 1572 0
 2927 0122 FB68     		ldr	r3, [r7, #12]
 2928 0124 1B68     		ldr	r3, [r3]
 2929 0126 FA68     		ldr	r2, [r7, #12]
 2930 0128 1268     		ldr	r2, [r2]
 2931 012a 5268     		ldr	r2, [r2, #4]
 2932 012c 42F00102 		orr	r2, r2, #1
 2933 0130 5A60     		str	r2, [r3, #4]
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the SPI Tx DMA transfer complete callback as NULL because the communication closing
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   is performed in DMA reception complete callback  */
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = NULL;
 2934              		.loc 1 1576 0
 2935 0132 FB68     		ldr	r3, [r7, #12]
 2936 0134 9B6C     		ldr	r3, [r3, #72]
 2937 0136 0022     		movs	r2, #0
 2938 0138 1A64     		str	r2, [r3, #64]
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 2939              		.loc 1 1577 0
 2940 013a FB68     		ldr	r3, [r7, #12]
 2941 013c 9B6C     		ldr	r3, [r3, #72]
 2942 013e 0022     		movs	r2, #0
 2943 0140 DA63     		str	r2, [r3, #60]
ARM GAS  /tmp/cckea6X9.s 			page 80


1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 2944              		.loc 1 1578 0
 2945 0142 FB68     		ldr	r3, [r7, #12]
 2946 0144 9B6C     		ldr	r3, [r3, #72]
 2947 0146 0022     		movs	r2, #0
 2948 0148 DA64     		str	r2, [r3, #76]
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 2949              		.loc 1 1579 0
 2950 014a FB68     		ldr	r3, [r7, #12]
 2951 014c 9B6C     		ldr	r3, [r3, #72]
 2952 014e 0022     		movs	r2, #0
 2953 0150 1A65     		str	r2, [r3, #80]
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the Tx DMA Stream */
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instance->DR, hspi->T
 2954              		.loc 1 1582 0
 2955 0152 FB68     		ldr	r3, [r7, #12]
 2956 0154 9A6C     		ldr	r2, [r3, #72]
 2957 0156 FB68     		ldr	r3, [r7, #12]
 2958 0158 1B6B     		ldr	r3, [r3, #48]
 2959 015a 1946     		mov	r1, r3
 2960 015c FB68     		ldr	r3, [r7, #12]
 2961 015e 1B68     		ldr	r3, [r3]
 2962 0160 0C33     		adds	r3, r3, #12
 2963 0162 1C46     		mov	r4, r3
 2964 0164 FB68     		ldr	r3, [r7, #12]
 2965 0166 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 2966 0168 9BB2     		uxth	r3, r3
 2967 016a 1046     		mov	r0, r2
 2968 016c 2246     		mov	r2, r4
 2969 016e FFF7FEFF 		bl	HAL_DMA_Start_IT
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 2970              		.loc 1 1585 0
 2971 0172 FB68     		ldr	r3, [r7, #12]
 2972 0174 1B68     		ldr	r3, [r3]
 2973 0176 1B68     		ldr	r3, [r3]
 2974 0178 03F04003 		and	r3, r3, #64
 2975 017c 002B     		cmp	r3, #0
 2976 017e 07D1     		bne	.L158
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 2977              		.loc 1 1588 0
 2978 0180 FB68     		ldr	r3, [r7, #12]
 2979 0182 1B68     		ldr	r3, [r3]
 2980 0184 FA68     		ldr	r2, [r7, #12]
 2981 0186 1268     		ldr	r2, [r2]
 2982 0188 1268     		ldr	r2, [r2]
 2983 018a 42F04002 		orr	r2, r2, #64
 2984 018e 1A60     		str	r2, [r3]
 2985              	.L158:
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
 2986              		.loc 1 1591 0
ARM GAS  /tmp/cckea6X9.s 			page 81


 2987 0190 FB68     		ldr	r3, [r7, #12]
 2988 0192 1B68     		ldr	r3, [r3]
 2989 0194 FA68     		ldr	r2, [r7, #12]
 2990 0196 1268     		ldr	r2, [r2]
 2991 0198 5268     		ldr	r2, [r2, #4]
 2992 019a 42F02002 		orr	r2, r2, #32
 2993 019e 5A60     		str	r2, [r3, #4]
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable Tx DMA Request */
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
 2994              		.loc 1 1594 0
 2995 01a0 FB68     		ldr	r3, [r7, #12]
 2996 01a2 1B68     		ldr	r3, [r3]
 2997 01a4 FA68     		ldr	r2, [r7, #12]
 2998 01a6 1268     		ldr	r2, [r2]
 2999 01a8 5268     		ldr	r2, [r2, #4]
 3000 01aa 42F00202 		orr	r2, r2, #2
 3001 01ae 5A60     		str	r2, [r3, #4]
 3002              	.L152:
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 3003              		.loc 1 1598 0
 3004 01b0 FB68     		ldr	r3, [r7, #12]
 3005 01b2 0022     		movs	r2, #0
 3006 01b4 83F85020 		strb	r2, [r3, #80]
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 3007              		.loc 1 1599 0
 3008 01b8 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 3009              	.L149:
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3010              		.loc 1 1600 0
 3011 01ba 1846     		mov	r0, r3
 3012 01bc 2437     		adds	r7, r7, #36
 3013              	.LCFI67:
 3014              		.cfi_def_cfa_offset 12
 3015 01be BD46     		mov	sp, r7
 3016              	.LCFI68:
 3017              		.cfi_def_cfa_register 13
 3018              		@ sp needed
 3019 01c0 90BD     		pop	{r4, r7, pc}
 3020              	.L160:
 3021 01c2 00BF     		.align	2
 3022              	.L159:
 3023 01c4 00000000 		.word	SPI_DMAHalfReceiveCplt
 3024 01c8 00000000 		.word	SPI_DMAReceiveCplt
 3025 01cc 00000000 		.word	SPI_DMAHalfTransmitReceiveCplt
 3026 01d0 00000000 		.word	SPI_DMATransmitReceiveCplt
 3027 01d4 00000000 		.word	SPI_DMAError
 3028              		.cfi_endproc
 3029              	.LFE135:
 3031              		.section	.text.HAL_SPI_Abort,"ax",%progbits
 3032              		.align	2
 3033              		.global	HAL_SPI_Abort
 3034              		.thumb
 3035              		.thumb_func
ARM GAS  /tmp/cckea6X9.s 			page 82


 3037              	HAL_SPI_Abort:
 3038              	.LFB136:
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Abort ongoing transfer (blocking mode).
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi SPI handle.
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         This procedure performs following operations :
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Set handle State to READY
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   This procedure is executed in blocking mode : when exiting function, Abort is considere
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   Once transfer is aborted, the __HAL_SPI_CLEAR_OVRFLAG() macro must be called in user ap
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         before starting new SPI receive process.
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** */
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort(SPI_HandleTypeDef *hspi)
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3039              		.loc 1 1618 0
 3040              		.cfi_startproc
 3041              		@ args = 0, pretend = 0, frame = 24
 3042              		@ frame_needed = 1, uses_anonymous_args = 0
 3043 0000 80B5     		push	{r7, lr}
 3044              	.LCFI69:
 3045              		.cfi_def_cfa_offset 8
 3046              		.cfi_offset 7, -8
 3047              		.cfi_offset 14, -4
 3048 0002 86B0     		sub	sp, sp, #24
 3049              	.LCFI70:
 3050              		.cfi_def_cfa_offset 32
 3051 0004 00AF     		add	r7, sp, #0
 3052              	.LCFI71:
 3053              		.cfi_def_cfa_register 7
 3054 0006 7860     		str	r0, [r7, #4]
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 3055              		.loc 1 1619 0
 3056 0008 4E4B     		ldr	r3, .L170
 3057 000a 1B68     		ldr	r3, [r3]
 3058 000c 4E4A     		ldr	r2, .L170+4
 3059 000e A2FB0323 		umull	r2, r3, r2, r3
 3060 0012 5B0A     		lsrs	r3, r3, #9
 3061 0014 6422     		movs	r2, #100
 3062 0016 02FB03F3 		mul	r3, r2, r3
 3063 001a 7B61     		str	r3, [r7, #20]
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
 3064              		.loc 1 1622 0
 3065 001c 7B68     		ldr	r3, [r7, #4]
 3066 001e 1B68     		ldr	r3, [r3]
 3067 0020 5B68     		ldr	r3, [r3, #4]
 3068 0022 03F08003 		and	r3, r3, #128
 3069 0026 002B     		cmp	r3, #0
 3070 0028 02D0     		beq	.L162
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
ARM GAS  /tmp/cckea6X9.s 			page 83


1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
 3071              		.loc 1 1624 0
 3072 002a 7B68     		ldr	r3, [r7, #4]
 3073 002c 474A     		ldr	r2, .L170+8
 3074 002e 5A64     		str	r2, [r3, #68]
 3075              	.L162:
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
 3076              		.loc 1 1627 0
 3077 0030 7B68     		ldr	r3, [r7, #4]
 3078 0032 1B68     		ldr	r3, [r3]
 3079 0034 5B68     		ldr	r3, [r3, #4]
 3080 0036 03F04003 		and	r3, r3, #64
 3081 003a 002B     		cmp	r3, #0
 3082 003c 02D0     		beq	.L163
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
 3083              		.loc 1 1629 0
 3084 003e 7B68     		ldr	r3, [r7, #4]
 3085 0040 434A     		ldr	r2, .L170+12
 3086 0042 1A64     		str	r2, [r3, #64]
 3087              	.L163:
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear ERRIE interrupts in case of DMA Mode */
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
 3088              		.loc 1 1633 0
 3089 0044 7B68     		ldr	r3, [r7, #4]
 3090 0046 1B68     		ldr	r3, [r3]
 3091 0048 7A68     		ldr	r2, [r7, #4]
 3092 004a 1268     		ldr	r2, [r2]
 3093 004c 5268     		ldr	r2, [r2, #4]
 3094 004e 22F02002 		bic	r2, r2, #32
 3095 0052 5A60     		str	r2, [r3, #4]
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx or SPI DMA Rx request if enabled */
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN)) || (HAL_IS_BIT_SET(hspi->Instance->CR2
 3096              		.loc 1 1636 0
 3097 0054 7B68     		ldr	r3, [r7, #4]
 3098 0056 1B68     		ldr	r3, [r3]
 3099 0058 5B68     		ldr	r3, [r3, #4]
 3100 005a 03F00203 		and	r3, r3, #2
 3101 005e 002B     		cmp	r3, #0
 3102 0060 06D1     		bne	.L164
 3103              		.loc 1 1636 0 is_stmt 0 discriminator 1
 3104 0062 7B68     		ldr	r3, [r7, #4]
 3105 0064 1B68     		ldr	r3, [r3]
 3106 0066 5B68     		ldr	r3, [r3, #4]
 3107 0068 03F00103 		and	r3, r3, #1
 3108 006c 002B     		cmp	r3, #0
 3109 006e 44D0     		beq	.L165
 3110              	.L164:
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Abort the SPI DMA Tx channel : use blocking DMA Abort API (no callback) */  
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->hdmatx != NULL)
 3111              		.loc 1 1639 0 is_stmt 1
ARM GAS  /tmp/cckea6X9.s 			page 84


 3112 0070 7B68     		ldr	r3, [r7, #4]
 3113 0072 9B6C     		ldr	r3, [r3, #72]
 3114 0074 002B     		cmp	r3, #0
 3115 0076 23D0     		beq	.L166
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
 3116              		.loc 1 1643 0
 3117 0078 7B68     		ldr	r3, [r7, #4]
 3118 007a 9B6C     		ldr	r3, [r3, #72]
 3119 007c 0022     		movs	r2, #0
 3120 007e 1A65     		str	r2, [r3, #80]
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_DMA_Abort(hspi->hdmatx);
 3121              		.loc 1 1646 0
 3122 0080 7B68     		ldr	r3, [r7, #4]
 3123 0082 9B6C     		ldr	r3, [r3, #72]
 3124 0084 1846     		mov	r0, r3
 3125 0086 FFF7FEFF 		bl	HAL_DMA_Abort
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable Tx DMA Request */
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN));
 3126              		.loc 1 1649 0
 3127 008a 7B68     		ldr	r3, [r7, #4]
 3128 008c 1B68     		ldr	r3, [r3]
 3129 008e 7A68     		ldr	r2, [r7, #4]
 3130 0090 1268     		ldr	r2, [r2]
 3131 0092 5268     		ldr	r2, [r2, #4]
 3132 0094 22F00202 		bic	r2, r2, #2
 3133 0098 5A60     		str	r2, [r3, #4]
 3134              	.L168:
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until TXE flag is set */
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       do
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(count-- == 0U)
 3135              		.loc 1 1654 0
 3136 009a 7B69     		ldr	r3, [r7, #20]
 3137 009c 5A1E     		subs	r2, r3, #1
 3138 009e 7A61     		str	r2, [r7, #20]
 3139 00a0 002B     		cmp	r3, #0
 3140 00a2 06D1     		bne	.L167
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 3141              		.loc 1 1656 0
 3142 00a4 7B68     		ldr	r3, [r7, #4]
 3143 00a6 5B6D     		ldr	r3, [r3, #84]
 3144 00a8 43F02002 		orr	r2, r3, #32
 3145 00ac 7B68     		ldr	r3, [r7, #4]
 3146 00ae 5A65     		str	r2, [r3, #84]
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           break;
 3147              		.loc 1 1657 0
 3148 00b0 06E0     		b	.L166
 3149              	.L167:
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
ARM GAS  /tmp/cckea6X9.s 			page 85


1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       while((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);       
 3150              		.loc 1 1660 0
 3151 00b2 7B68     		ldr	r3, [r7, #4]
 3152 00b4 1B68     		ldr	r3, [r3]
 3153 00b6 9B68     		ldr	r3, [r3, #8]
 3154 00b8 03F00203 		and	r3, r3, #2
 3155 00bc 002B     		cmp	r3, #0
 3156 00be ECD0     		beq	.L168
 3157              	.L166:
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Abort the SPI DMA Rx channel : use blocking DMA Abort API (no callback) */
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->hdmarx != NULL)
 3158              		.loc 1 1663 0
 3159 00c0 7B68     		ldr	r3, [r7, #4]
 3160 00c2 DB6C     		ldr	r3, [r3, #76]
 3161 00c4 002B     		cmp	r3, #0
 3162 00c6 18D0     		beq	.L165
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
 3163              		.loc 1 1667 0
 3164 00c8 7B68     		ldr	r3, [r7, #4]
 3165 00ca DB6C     		ldr	r3, [r3, #76]
 3166 00cc 0022     		movs	r2, #0
 3167 00ce 1A65     		str	r2, [r3, #80]
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_DMA_Abort(hspi->hdmarx);
 3168              		.loc 1 1670 0
 3169 00d0 7B68     		ldr	r3, [r7, #4]
 3170 00d2 DB6C     		ldr	r3, [r3, #76]
 3171 00d4 1846     		mov	r0, r3
 3172 00d6 FFF7FEFF 		bl	HAL_DMA_Abort
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable peripheral */
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi); 
 3173              		.loc 1 1673 0
 3174 00da 7B68     		ldr	r3, [r7, #4]
 3175 00dc 1B68     		ldr	r3, [r3]
 3176 00de 7A68     		ldr	r2, [r7, #4]
 3177 00e0 1268     		ldr	r2, [r2]
 3178 00e2 1268     		ldr	r2, [r2]
 3179 00e4 22F04002 		bic	r2, r2, #64
 3180 00e8 1A60     		str	r2, [r3]
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable Rx DMA Request */
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXDMAEN));
 3181              		.loc 1 1676 0
 3182 00ea 7B68     		ldr	r3, [r7, #4]
 3183 00ec 1B68     		ldr	r3, [r3]
 3184 00ee 7A68     		ldr	r2, [r7, #4]
 3185 00f0 1268     		ldr	r2, [r2]
 3186 00f2 5268     		ldr	r2, [r2, #4]
 3187 00f4 22F00102 		bic	r2, r2, #1
 3188 00f8 5A60     		str	r2, [r3, #4]
ARM GAS  /tmp/cckea6X9.s 			page 86


 3189              	.L165:
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset Tx and Rx transfer counters */
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 3190              		.loc 1 1681 0
 3191 00fa 7B68     		ldr	r3, [r7, #4]
 3192 00fc 0022     		movs	r2, #0
 3193 00fe DA87     		strh	r2, [r3, #62]	@ movhi
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3194              		.loc 1 1682 0
 3195 0100 7B68     		ldr	r3, [r7, #4]
 3196 0102 0022     		movs	r2, #0
 3197 0104 DA86     		strh	r2, [r3, #54]	@ movhi
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset errorCode */
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 3198              		.loc 1 1685 0
 3199 0106 7B68     		ldr	r3, [r7, #4]
 3200 0108 0022     		movs	r2, #0
 3201 010a 5A65     		str	r2, [r3, #84]
 3202              	.LBB4:
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
 3203              		.loc 1 1688 0
 3204 010c 0023     		movs	r3, #0
 3205 010e 3B61     		str	r3, [r7, #16]
 3206 0110 7B68     		ldr	r3, [r7, #4]
 3207 0112 1B68     		ldr	r3, [r3]
 3208 0114 DB68     		ldr	r3, [r3, #12]
 3209 0116 3B61     		str	r3, [r7, #16]
 3210 0118 7B68     		ldr	r3, [r7, #4]
 3211 011a 1B68     		ldr	r3, [r3]
 3212 011c 9B68     		ldr	r3, [r3, #8]
 3213 011e 3B61     		str	r3, [r7, #16]
 3214 0120 3B69     		ldr	r3, [r7, #16]
 3215              	.LBE4:
 3216              	.LBB5:
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 3217              		.loc 1 1689 0
 3218 0122 0023     		movs	r3, #0
 3219 0124 FB60     		str	r3, [r7, #12]
 3220 0126 7B68     		ldr	r3, [r7, #4]
 3221 0128 1B68     		ldr	r3, [r3]
 3222 012a 9B68     		ldr	r3, [r3, #8]
 3223 012c FB60     		str	r3, [r7, #12]
 3224 012e FB68     		ldr	r3, [r7, #12]
 3225              	.LBE5:
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Restore hspi->state to ready */
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 3226              		.loc 1 1692 0
 3227 0130 7B68     		ldr	r3, [r7, #4]
 3228 0132 0122     		movs	r2, #1
 3229 0134 83F85120 		strb	r2, [r3, #81]
ARM GAS  /tmp/cckea6X9.s 			page 87


1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 3230              		.loc 1 1694 0
 3231 0138 0023     		movs	r3, #0
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3232              		.loc 1 1695 0
 3233 013a 1846     		mov	r0, r3
 3234 013c 1837     		adds	r7, r7, #24
 3235              	.LCFI72:
 3236              		.cfi_def_cfa_offset 8
 3237 013e BD46     		mov	sp, r7
 3238              	.LCFI73:
 3239              		.cfi_def_cfa_register 13
 3240              		@ sp needed
 3241 0140 80BD     		pop	{r7, pc}
 3242              	.L171:
 3243 0142 00BF     		.align	2
 3244              	.L170:
 3245 0144 00000000 		.word	SystemCoreClock
 3246 0148 F1197605 		.word	91625969
 3247 014c 00000000 		.word	SPI_AbortTx_ISR
 3248 0150 00000000 		.word	SPI_AbortRx_ISR
 3249              		.cfi_endproc
 3250              	.LFE136:
 3252              		.section	.text.HAL_SPI_Abort_IT,"ax",%progbits
 3253              		.align	2
 3254              		.global	HAL_SPI_Abort_IT
 3255              		.thumb
 3256              		.thumb_func
 3258              	HAL_SPI_Abort_IT:
 3259              	.LFB137:
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Abort ongoing transfer (Interrupt mode).
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi SPI handle.
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         This procedure performs following operations :
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Set handle State to READY
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - At abort completion, call user abort complete callback
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   This procedure is executed in Interrupt mode, meaning that abort procedure could be
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         considered as completed only when user abort complete callback is executed (not when ex
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   Once transfer is aborted, the __HAL_SPI_CLEAR_OVRFLAG() macro must be called in user ap
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         before starting new SPI receive process.
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** */
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort_IT(SPI_HandleTypeDef *hspi)
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3260              		.loc 1 1715 0
 3261              		.cfi_startproc
 3262              		@ args = 0, pretend = 0, frame = 24
 3263              		@ frame_needed = 1, uses_anonymous_args = 0
 3264 0000 80B5     		push	{r7, lr}
 3265              	.LCFI74:
ARM GAS  /tmp/cckea6X9.s 			page 88


 3266              		.cfi_def_cfa_offset 8
 3267              		.cfi_offset 7, -8
 3268              		.cfi_offset 14, -4
 3269 0002 86B0     		sub	sp, sp, #24
 3270              	.LCFI75:
 3271              		.cfi_def_cfa_offset 32
 3272 0004 00AF     		add	r7, sp, #0
 3273              	.LCFI76:
 3274              		.cfi_def_cfa_register 7
 3275 0006 7860     		str	r0, [r7, #4]
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t abortcplt;
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Change Rx and Tx Irq Handler to Disable TXEIE, RXNEIE and ERRIE interrupts */
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
 3276              		.loc 1 1719 0
 3277 0008 7B68     		ldr	r3, [r7, #4]
 3278 000a 1B68     		ldr	r3, [r3]
 3279 000c 5B68     		ldr	r3, [r3, #4]
 3280 000e 03F08003 		and	r3, r3, #128
 3281 0012 002B     		cmp	r3, #0
 3282 0014 02D0     		beq	.L173
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
 3283              		.loc 1 1721 0
 3284 0016 7B68     		ldr	r3, [r7, #4]
 3285 0018 684A     		ldr	r2, .L189
 3286 001a 5A64     		str	r2, [r3, #68]
 3287              	.L173:
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
 3288              		.loc 1 1724 0
 3289 001c 7B68     		ldr	r3, [r7, #4]
 3290 001e 1B68     		ldr	r3, [r3]
 3291 0020 5B68     		ldr	r3, [r3, #4]
 3292 0022 03F04003 		and	r3, r3, #64
 3293 0026 002B     		cmp	r3, #0
 3294 0028 02D0     		beq	.L174
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
 3295              		.loc 1 1726 0
 3296 002a 7B68     		ldr	r3, [r7, #4]
 3297 002c 644A     		ldr	r2, .L189+4
 3298 002e 1A64     		str	r2, [r3, #64]
 3299              	.L174:
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear ERRIE interrupts in case of DMA Mode */
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
 3300              		.loc 1 1730 0
 3301 0030 7B68     		ldr	r3, [r7, #4]
 3302 0032 1B68     		ldr	r3, [r3]
 3303 0034 7A68     		ldr	r2, [r7, #4]
 3304 0036 1268     		ldr	r2, [r2]
 3305 0038 5268     		ldr	r2, [r2, #4]
 3306 003a 22F02002 		bic	r2, r2, #32
 3307 003e 5A60     		str	r2, [r3, #4]
ARM GAS  /tmp/cckea6X9.s 			page 89


1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   abortcplt = 1U;
 3308              		.loc 1 1732 0
 3309 0040 0123     		movs	r3, #1
 3310 0042 7B61     		str	r3, [r7, #20]
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* If DMA Tx and/or DMA Rx Handles are associated to SPI Handle, DMA Abort complete callbacks sho
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      before any call to DMA Abort functions */  
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DMA Tx Handle is valid */
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->hdmatx != NULL)
 3311              		.loc 1 1737 0
 3312 0044 7B68     		ldr	r3, [r7, #4]
 3313 0046 9B6C     		ldr	r3, [r3, #72]
 3314 0048 002B     		cmp	r3, #0
 3315 004a 0FD0     		beq	.L175
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Tx request if enabled.
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Otherwise, set it to NULL */
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
 3316              		.loc 1 1741 0
 3317 004c 7B68     		ldr	r3, [r7, #4]
 3318 004e 1B68     		ldr	r3, [r3]
 3319 0050 5B68     		ldr	r3, [r3, #4]
 3320 0052 03F00203 		and	r3, r3, #2
 3321 0056 002B     		cmp	r3, #0
 3322 0058 04D0     		beq	.L176
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = SPI_DMATxAbortCallback;
 3323              		.loc 1 1743 0
 3324 005a 7B68     		ldr	r3, [r7, #4]
 3325 005c 9B6C     		ldr	r3, [r3, #72]
 3326 005e 594A     		ldr	r2, .L189+8
 3327 0060 1A65     		str	r2, [r3, #80]
 3328 0062 03E0     		b	.L175
 3329              	.L176:
1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
 3330              		.loc 1 1747 0
 3331 0064 7B68     		ldr	r3, [r7, #4]
 3332 0066 9B6C     		ldr	r3, [r3, #72]
 3333 0068 0022     		movs	r2, #0
 3334 006a 1A65     		str	r2, [r3, #80]
 3335              	.L175:
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }  
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DMA Rx Handle is valid */
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->hdmarx != NULL)
 3336              		.loc 1 1751 0
 3337 006c 7B68     		ldr	r3, [r7, #4]
 3338 006e DB6C     		ldr	r3, [r3, #76]
 3339 0070 002B     		cmp	r3, #0
 3340 0072 0FD0     		beq	.L177
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Rx request if enabled.
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Otherwise, set it to NULL */
ARM GAS  /tmp/cckea6X9.s 			page 90


1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
 3341              		.loc 1 1755 0
 3342 0074 7B68     		ldr	r3, [r7, #4]
 3343 0076 1B68     		ldr	r3, [r3]
 3344 0078 5B68     		ldr	r3, [r3, #4]
 3345 007a 03F00103 		and	r3, r3, #1
 3346 007e 002B     		cmp	r3, #0
 3347 0080 04D0     		beq	.L178
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = SPI_DMARxAbortCallback;
 3348              		.loc 1 1757 0
 3349 0082 7B68     		ldr	r3, [r7, #4]
 3350 0084 DB6C     		ldr	r3, [r3, #76]
 3351 0086 504A     		ldr	r2, .L189+12
 3352 0088 1A65     		str	r2, [r3, #80]
 3353 008a 03E0     		b	.L177
 3354              	.L178:
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
 3355              		.loc 1 1761 0
 3356 008c 7B68     		ldr	r3, [r7, #4]
 3357 008e DB6C     		ldr	r3, [r3, #76]
 3358 0090 0022     		movs	r2, #0
 3359 0092 1A65     		str	r2, [r3, #80]
 3360              	.L177:
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx or the SPI Rx request if enabled */
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN)) && (HAL_IS_BIT_SET(hspi->Instance->CR2,
 3361              		.loc 1 1766 0
 3362 0094 7B68     		ldr	r3, [r7, #4]
 3363 0096 1B68     		ldr	r3, [r3]
 3364 0098 5B68     		ldr	r3, [r3, #4]
 3365 009a 03F00203 		and	r3, r3, #2
 3366 009e 002B     		cmp	r3, #0
 3367 00a0 2ED0     		beq	.L179
 3368              		.loc 1 1766 0 is_stmt 0 discriminator 1
 3369 00a2 7B68     		ldr	r3, [r7, #4]
 3370 00a4 1B68     		ldr	r3, [r3]
 3371 00a6 5B68     		ldr	r3, [r3, #4]
 3372 00a8 03F00103 		and	r3, r3, #1
 3373 00ac 002B     		cmp	r3, #0
 3374 00ae 27D0     		beq	.L179
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Abort the SPI DMA Tx channel */
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->hdmatx != NULL)
 3375              		.loc 1 1769 0 is_stmt 1
 3376 00b0 7B68     		ldr	r3, [r7, #4]
 3377 00b2 9B6C     		ldr	r3, [r3, #72]
 3378 00b4 002B     		cmp	r3, #0
 3379 00b6 0ED0     		beq	.L180
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(HAL_DMA_Abort_IT(hspi->hdmatx) != HAL_OK)
ARM GAS  /tmp/cckea6X9.s 			page 91


 3380              		.loc 1 1772 0
 3381 00b8 7B68     		ldr	r3, [r7, #4]
 3382 00ba 9B6C     		ldr	r3, [r3, #72]
 3383 00bc 1846     		mov	r0, r3
 3384 00be FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3385 00c2 0346     		mov	r3, r0
 3386 00c4 002B     		cmp	r3, #0
 3387 00c6 04D0     		beq	.L181
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->hdmatx->XferAbortCallback = NULL;
 3388              		.loc 1 1774 0
 3389 00c8 7B68     		ldr	r3, [r7, #4]
 3390 00ca 9B6C     		ldr	r3, [r3, #72]
 3391 00cc 0022     		movs	r2, #0
 3392 00ce 1A65     		str	r2, [r3, #80]
 3393 00d0 01E0     		b	.L180
 3394              	.L181:
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         abortcplt = 0U;
 3395              		.loc 1 1778 0
 3396 00d2 0023     		movs	r3, #0
 3397 00d4 7B61     		str	r3, [r7, #20]
 3398              	.L180:
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Abort the SPI DMA Rx channel */
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->hdmarx != NULL)
 3399              		.loc 1 1782 0
 3400 00d6 7B68     		ldr	r3, [r7, #4]
 3401 00d8 DB6C     		ldr	r3, [r3, #76]
 3402 00da 002B     		cmp	r3, #0
 3403 00dc 10D0     		beq	.L179
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(HAL_DMA_Abort_IT(hspi->hdmarx)!=  HAL_OK)
 3404              		.loc 1 1785 0
 3405 00de 7B68     		ldr	r3, [r7, #4]
 3406 00e0 DB6C     		ldr	r3, [r3, #76]
 3407 00e2 1846     		mov	r0, r3
 3408 00e4 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3409 00e8 0346     		mov	r3, r0
 3410 00ea 002B     		cmp	r3, #0
 3411 00ec 06D0     		beq	.L182
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->hdmarx->XferAbortCallback = NULL;
 3412              		.loc 1 1787 0
 3413 00ee 7B68     		ldr	r3, [r7, #4]
 3414 00f0 DB6C     		ldr	r3, [r3, #76]
 3415 00f2 0022     		movs	r2, #0
 3416 00f4 1A65     		str	r2, [r3, #80]
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         abortcplt = 1U;
 3417              		.loc 1 1788 0
 3418 00f6 0123     		movs	r3, #1
 3419 00f8 7B61     		str	r3, [r7, #20]
 3420 00fa 01E0     		b	.L179
ARM GAS  /tmp/cckea6X9.s 			page 92


 3421              	.L182:
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         abortcplt = 0U;
 3422              		.loc 1 1792 0
 3423 00fc 0023     		movs	r3, #0
 3424 00fe 7B61     		str	r3, [r7, #20]
 3425              	.L179:
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx or the SPI Rx request if enabled */
1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
 3426              		.loc 1 1798 0
 3427 0100 7B68     		ldr	r3, [r7, #4]
 3428 0102 1B68     		ldr	r3, [r3]
 3429 0104 5B68     		ldr	r3, [r3, #4]
 3430 0106 03F00203 		and	r3, r3, #2
 3431 010a 002B     		cmp	r3, #0
 3432 010c 12D0     		beq	.L183
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Abort the SPI DMA Tx channel */
1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->hdmatx != NULL)
 3433              		.loc 1 1801 0
 3434 010e 7B68     		ldr	r3, [r7, #4]
 3435 0110 9B6C     		ldr	r3, [r3, #72]
 3436 0112 002B     		cmp	r3, #0
 3437 0114 0ED0     		beq	.L183
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(HAL_DMA_Abort_IT(hspi->hdmatx) != HAL_OK)
 3438              		.loc 1 1804 0
 3439 0116 7B68     		ldr	r3, [r7, #4]
 3440 0118 9B6C     		ldr	r3, [r3, #72]
 3441 011a 1846     		mov	r0, r3
 3442 011c FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3443 0120 0346     		mov	r3, r0
 3444 0122 002B     		cmp	r3, #0
 3445 0124 04D0     		beq	.L184
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->hdmatx->XferAbortCallback = NULL;
 3446              		.loc 1 1806 0
 3447 0126 7B68     		ldr	r3, [r7, #4]
 3448 0128 9B6C     		ldr	r3, [r3, #72]
 3449 012a 0022     		movs	r2, #0
 3450 012c 1A65     		str	r2, [r3, #80]
 3451 012e 01E0     		b	.L183
 3452              	.L184:
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         abortcplt = 0U;
 3453              		.loc 1 1810 0
 3454 0130 0023     		movs	r3, #0
 3455 0132 7B61     		str	r3, [r7, #20]
ARM GAS  /tmp/cckea6X9.s 			page 93


 3456              	.L183:
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx or the SPI Rx request if enabled */
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
 3457              		.loc 1 1815 0
 3458 0134 7B68     		ldr	r3, [r7, #4]
 3459 0136 1B68     		ldr	r3, [r3]
 3460 0138 5B68     		ldr	r3, [r3, #4]
 3461 013a 03F00103 		and	r3, r3, #1
 3462 013e 002B     		cmp	r3, #0
 3463 0140 12D0     		beq	.L185
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Abort the SPI DMA Rx channel */
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->hdmarx != NULL)
 3464              		.loc 1 1818 0
 3465 0142 7B68     		ldr	r3, [r7, #4]
 3466 0144 DB6C     		ldr	r3, [r3, #76]
 3467 0146 002B     		cmp	r3, #0
 3468 0148 0ED0     		beq	.L185
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(HAL_DMA_Abort_IT(hspi->hdmarx)!=  HAL_OK)
 3469              		.loc 1 1821 0
 3470 014a 7B68     		ldr	r3, [r7, #4]
 3471 014c DB6C     		ldr	r3, [r3, #76]
 3472 014e 1846     		mov	r0, r3
 3473 0150 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3474 0154 0346     		mov	r3, r0
 3475 0156 002B     		cmp	r3, #0
 3476 0158 04D0     		beq	.L186
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->hdmarx->XferAbortCallback = NULL;
 3477              		.loc 1 1823 0
 3478 015a 7B68     		ldr	r3, [r7, #4]
 3479 015c DB6C     		ldr	r3, [r3, #76]
 3480 015e 0022     		movs	r2, #0
 3481 0160 1A65     		str	r2, [r3, #80]
 3482 0162 01E0     		b	.L185
 3483              	.L186:
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         abortcplt = 0U;
 3484              		.loc 1 1827 0
 3485 0164 0023     		movs	r3, #0
 3486 0166 7B61     		str	r3, [r7, #20]
 3487              	.L185:
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(abortcplt == 1U)
 3488              		.loc 1 1832 0
 3489 0168 7B69     		ldr	r3, [r7, #20]
 3490 016a 012B     		cmp	r3, #1
ARM GAS  /tmp/cckea6X9.s 			page 94


 3491 016c 21D1     		bne	.L187
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset Tx and Rx transfer counters */
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 3492              		.loc 1 1835 0
 3493 016e 7B68     		ldr	r3, [r7, #4]
 3494 0170 0022     		movs	r2, #0
 3495 0172 DA87     		strh	r2, [r3, #62]	@ movhi
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 3496              		.loc 1 1836 0
 3497 0174 7B68     		ldr	r3, [r7, #4]
 3498 0176 0022     		movs	r2, #0
 3499 0178 DA86     		strh	r2, [r3, #54]	@ movhi
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset errorCode */
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 3500              		.loc 1 1839 0
 3501 017a 7B68     		ldr	r3, [r7, #4]
 3502 017c 0022     		movs	r2, #0
 3503 017e 5A65     		str	r2, [r3, #84]
 3504              	.LBB6:
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Clear the Error flags in the SR register */
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 3505              		.loc 1 1842 0
 3506 0180 0023     		movs	r3, #0
 3507 0182 3B61     		str	r3, [r7, #16]
 3508 0184 7B68     		ldr	r3, [r7, #4]
 3509 0186 1B68     		ldr	r3, [r3]
 3510 0188 DB68     		ldr	r3, [r3, #12]
 3511 018a 3B61     		str	r3, [r7, #16]
 3512 018c 7B68     		ldr	r3, [r7, #4]
 3513 018e 1B68     		ldr	r3, [r3]
 3514 0190 9B68     		ldr	r3, [r3, #8]
 3515 0192 3B61     		str	r3, [r7, #16]
 3516 0194 3B69     		ldr	r3, [r7, #16]
 3517              	.LBE6:
 3518              	.LBB7:
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
 3519              		.loc 1 1843 0
 3520 0196 0023     		movs	r3, #0
 3521 0198 FB60     		str	r3, [r7, #12]
 3522 019a 7B68     		ldr	r3, [r7, #4]
 3523 019c 1B68     		ldr	r3, [r3]
 3524 019e 9B68     		ldr	r3, [r3, #8]
 3525 01a0 FB60     		str	r3, [r7, #12]
 3526 01a2 FB68     		ldr	r3, [r7, #12]
 3527              	.LBE7:
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Restore hspi->State to Ready */
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 3528              		.loc 1 1846 0
 3529 01a4 7B68     		ldr	r3, [r7, #4]
 3530 01a6 0122     		movs	r2, #1
 3531 01a8 83F85120 		strb	r2, [r3, #81]
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* As no DMA to be aborted, call directly user Abort complete callback */
ARM GAS  /tmp/cckea6X9.s 			page 95


1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_AbortCpltCallback(hspi);
 3532              		.loc 1 1849 0
 3533 01ac 7868     		ldr	r0, [r7, #4]
 3534 01ae FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 3535              	.L187:
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 3536              		.loc 1 1851 0
 3537 01b2 0023     		movs	r3, #0
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3538              		.loc 1 1852 0
 3539 01b4 1846     		mov	r0, r3
 3540 01b6 1837     		adds	r7, r7, #24
 3541              	.LCFI77:
 3542              		.cfi_def_cfa_offset 8
 3543 01b8 BD46     		mov	sp, r7
 3544              	.LCFI78:
 3545              		.cfi_def_cfa_register 13
 3546              		@ sp needed
 3547 01ba 80BD     		pop	{r7, pc}
 3548              	.L190:
 3549              		.align	2
 3550              	.L189:
 3551 01bc 00000000 		.word	SPI_AbortTx_ISR
 3552 01c0 00000000 		.word	SPI_AbortRx_ISR
 3553 01c4 00000000 		.word	SPI_DMATxAbortCallback
 3554 01c8 00000000 		.word	SPI_DMARxAbortCallback
 3555              		.cfi_endproc
 3556              	.LFE137:
 3558              		.section	.text.HAL_SPI_DMAPause,"ax",%progbits
 3559              		.align	2
 3560              		.global	HAL_SPI_DMAPause
 3561              		.thumb
 3562              		.thumb_func
 3564              	HAL_SPI_DMAPause:
 3565              	.LFB138:
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Pause the DMA Transfer.
1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAPause(SPI_HandleTypeDef *hspi)
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3566              		.loc 1 1861 0
 3567              		.cfi_startproc
 3568              		@ args = 0, pretend = 0, frame = 8
 3569              		@ frame_needed = 1, uses_anonymous_args = 0
 3570              		@ link register save eliminated.
 3571 0000 80B4     		push	{r7}
 3572              	.LCFI79:
 3573              		.cfi_def_cfa_offset 4
 3574              		.cfi_offset 7, -4
 3575 0002 83B0     		sub	sp, sp, #12
 3576              	.LCFI80:
 3577              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/cckea6X9.s 			page 96


 3578 0004 00AF     		add	r7, sp, #0
 3579              	.LCFI81:
 3580              		.cfi_def_cfa_register 7
 3581 0006 7860     		str	r0, [r7, #4]
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 3582              		.loc 1 1863 0
 3583 0008 7B68     		ldr	r3, [r7, #4]
 3584 000a 93F85030 		ldrb	r3, [r3, #80]	@ zero_extendqisi2
 3585 000e 012B     		cmp	r3, #1
 3586 0010 01D1     		bne	.L192
 3587              		.loc 1 1863 0 is_stmt 0 discriminator 1
 3588 0012 0223     		movs	r3, #2
 3589 0014 10E0     		b	.L193
 3590              	.L192:
 3591              		.loc 1 1863 0 discriminator 2
 3592 0016 7B68     		ldr	r3, [r7, #4]
 3593 0018 0122     		movs	r2, #1
 3594 001a 83F85020 		strb	r2, [r3, #80]
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 3595              		.loc 1 1866 0 is_stmt 1 discriminator 2
 3596 001e 7B68     		ldr	r3, [r7, #4]
 3597 0020 1B68     		ldr	r3, [r3]
 3598 0022 7A68     		ldr	r2, [r7, #4]
 3599 0024 1268     		ldr	r2, [r2]
 3600 0026 5268     		ldr	r2, [r2, #4]
 3601 0028 22F00302 		bic	r2, r2, #3
 3602 002c 5A60     		str	r2, [r3, #4]
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 3603              		.loc 1 1869 0 discriminator 2
 3604 002e 7B68     		ldr	r3, [r7, #4]
 3605 0030 0022     		movs	r2, #0
 3606 0032 83F85020 		strb	r2, [r3, #80]
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 3607              		.loc 1 1871 0 discriminator 2
 3608 0036 0023     		movs	r3, #0
 3609              	.L193:
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3610              		.loc 1 1872 0
 3611 0038 1846     		mov	r0, r3
 3612 003a 0C37     		adds	r7, r7, #12
 3613              	.LCFI82:
 3614              		.cfi_def_cfa_offset 4
 3615 003c BD46     		mov	sp, r7
 3616              	.LCFI83:
 3617              		.cfi_def_cfa_register 13
 3618              		@ sp needed
 3619 003e 5DF8047B 		ldr	r7, [sp], #4
 3620              	.LCFI84:
 3621              		.cfi_restore 7
 3622              		.cfi_def_cfa_offset 0
 3623 0042 7047     		bx	lr
ARM GAS  /tmp/cckea6X9.s 			page 97


 3624              		.cfi_endproc
 3625              	.LFE138:
 3627              		.section	.text.HAL_SPI_DMAResume,"ax",%progbits
 3628              		.align	2
 3629              		.global	HAL_SPI_DMAResume
 3630              		.thumb
 3631              		.thumb_func
 3633              	HAL_SPI_DMAResume:
 3634              	.LFB139:
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Resume the DMA Transfer.
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAResume(SPI_HandleTypeDef *hspi)
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3635              		.loc 1 1881 0
 3636              		.cfi_startproc
 3637              		@ args = 0, pretend = 0, frame = 8
 3638              		@ frame_needed = 1, uses_anonymous_args = 0
 3639              		@ link register save eliminated.
 3640 0000 80B4     		push	{r7}
 3641              	.LCFI85:
 3642              		.cfi_def_cfa_offset 4
 3643              		.cfi_offset 7, -4
 3644 0002 83B0     		sub	sp, sp, #12
 3645              	.LCFI86:
 3646              		.cfi_def_cfa_offset 16
 3647 0004 00AF     		add	r7, sp, #0
 3648              	.LCFI87:
 3649              		.cfi_def_cfa_register 7
 3650 0006 7860     		str	r0, [r7, #4]
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 3651              		.loc 1 1883 0
 3652 0008 7B68     		ldr	r3, [r7, #4]
 3653 000a 93F85030 		ldrb	r3, [r3, #80]	@ zero_extendqisi2
 3654 000e 012B     		cmp	r3, #1
 3655 0010 01D1     		bne	.L195
 3656              		.loc 1 1883 0 is_stmt 0 discriminator 1
 3657 0012 0223     		movs	r3, #2
 3658 0014 10E0     		b	.L196
 3659              	.L195:
 3660              		.loc 1 1883 0 discriminator 2
 3661 0016 7B68     		ldr	r3, [r7, #4]
 3662 0018 0122     		movs	r2, #1
 3663 001a 83F85020 		strb	r2, [r3, #80]
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the SPI DMA Tx & Rx requests */
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 3664              		.loc 1 1886 0 is_stmt 1 discriminator 2
 3665 001e 7B68     		ldr	r3, [r7, #4]
 3666 0020 1B68     		ldr	r3, [r3]
 3667 0022 7A68     		ldr	r2, [r7, #4]
 3668 0024 1268     		ldr	r2, [r2]
ARM GAS  /tmp/cckea6X9.s 			page 98


 3669 0026 5268     		ldr	r2, [r2, #4]
 3670 0028 42F00302 		orr	r2, r2, #3
 3671 002c 5A60     		str	r2, [r3, #4]
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 3672              		.loc 1 1889 0 discriminator 2
 3673 002e 7B68     		ldr	r3, [r7, #4]
 3674 0030 0022     		movs	r2, #0
 3675 0032 83F85020 		strb	r2, [r3, #80]
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 3676              		.loc 1 1891 0 discriminator 2
 3677 0036 0023     		movs	r3, #0
 3678              	.L196:
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3679              		.loc 1 1892 0
 3680 0038 1846     		mov	r0, r3
 3681 003a 0C37     		adds	r7, r7, #12
 3682              	.LCFI88:
 3683              		.cfi_def_cfa_offset 4
 3684 003c BD46     		mov	sp, r7
 3685              	.LCFI89:
 3686              		.cfi_def_cfa_register 13
 3687              		@ sp needed
 3688 003e 5DF8047B 		ldr	r7, [sp], #4
 3689              	.LCFI90:
 3690              		.cfi_restore 7
 3691              		.cfi_def_cfa_offset 0
 3692 0042 7047     		bx	lr
 3693              		.cfi_endproc
 3694              	.LFE139:
 3696              		.section	.text.HAL_SPI_DMAStop,"ax",%progbits
 3697              		.align	2
 3698              		.global	HAL_SPI_DMAStop
 3699              		.thumb
 3700              		.thumb_func
 3702              	HAL_SPI_DMAStop:
 3703              	.LFB140:
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Stop the DMA Transfer.
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAStop(SPI_HandleTypeDef *hspi)
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3704              		.loc 1 1901 0
 3705              		.cfi_startproc
 3706              		@ args = 0, pretend = 0, frame = 8
 3707              		@ frame_needed = 1, uses_anonymous_args = 0
 3708 0000 80B5     		push	{r7, lr}
 3709              	.LCFI91:
 3710              		.cfi_def_cfa_offset 8
 3711              		.cfi_offset 7, -8
 3712              		.cfi_offset 14, -4
ARM GAS  /tmp/cckea6X9.s 			page 99


 3713 0002 82B0     		sub	sp, sp, #8
 3714              	.LCFI92:
 3715              		.cfi_def_cfa_offset 16
 3716 0004 00AF     		add	r7, sp, #0
 3717              	.LCFI93:
 3718              		.cfi_def_cfa_register 7
 3719 0006 7860     		str	r0, [r7, #4]
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      to call the HAL SPI API under callbacks HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() o
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      when calling HAL_DMA_Abort() API the DMA TX/RX Transfer complete interrupt is generated
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      and the correspond call back is executed HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() 
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      */
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Abort the SPI DMA tx Stream */
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->hdmatx != NULL)
 3720              		.loc 1 1909 0
 3721 0008 7B68     		ldr	r3, [r7, #4]
 3722 000a 9B6C     		ldr	r3, [r3, #72]
 3723 000c 002B     		cmp	r3, #0
 3724 000e 04D0     		beq	.L198
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Abort(hspi->hdmatx);
 3725              		.loc 1 1911 0
 3726 0010 7B68     		ldr	r3, [r7, #4]
 3727 0012 9B6C     		ldr	r3, [r3, #72]
 3728 0014 1846     		mov	r0, r3
 3729 0016 FFF7FEFF 		bl	HAL_DMA_Abort
 3730              	.L198:
1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Abort the SPI DMA rx Stream */
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->hdmarx != NULL)
 3731              		.loc 1 1914 0
 3732 001a 7B68     		ldr	r3, [r7, #4]
 3733 001c DB6C     		ldr	r3, [r3, #76]
 3734 001e 002B     		cmp	r3, #0
 3735 0020 04D0     		beq	.L199
1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_DMA_Abort(hspi->hdmarx);
 3736              		.loc 1 1916 0
 3737 0022 7B68     		ldr	r3, [r7, #4]
 3738 0024 DB6C     		ldr	r3, [r3, #76]
 3739 0026 1846     		mov	r0, r3
 3740 0028 FFF7FEFF 		bl	HAL_DMA_Abort
 3741              	.L199:
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 3742              		.loc 1 1920 0
 3743 002c 7B68     		ldr	r3, [r7, #4]
 3744 002e 1B68     		ldr	r3, [r3]
 3745 0030 7A68     		ldr	r2, [r7, #4]
 3746 0032 1268     		ldr	r2, [r2]
 3747 0034 5268     		ldr	r2, [r2, #4]
 3748 0036 22F00302 		bic	r2, r2, #3
 3749 003a 5A60     		str	r2, [r3, #4]
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
ARM GAS  /tmp/cckea6X9.s 			page 100


 3750              		.loc 1 1921 0
 3751 003c 7B68     		ldr	r3, [r7, #4]
 3752 003e 0122     		movs	r2, #1
 3753 0040 83F85120 		strb	r2, [r3, #81]
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 3754              		.loc 1 1922 0
 3755 0044 0023     		movs	r3, #0
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3756              		.loc 1 1923 0
 3757 0046 1846     		mov	r0, r3
 3758 0048 0837     		adds	r7, r7, #8
 3759              	.LCFI94:
 3760              		.cfi_def_cfa_offset 8
 3761 004a BD46     		mov	sp, r7
 3762              	.LCFI95:
 3763              		.cfi_def_cfa_register 13
 3764              		@ sp needed
 3765 004c 80BD     		pop	{r7, pc}
 3766              		.cfi_endproc
 3767              	.LFE140:
 3769 004e 00BF     		.section	.text.HAL_SPI_IRQHandler,"ax",%progbits
 3770              		.align	2
 3771              		.global	HAL_SPI_IRQHandler
 3772              		.thumb
 3773              		.thumb_func
 3775              	HAL_SPI_IRQHandler:
 3776              	.LFB141:
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle SPI interrupt request.
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** void HAL_SPI_IRQHandler(SPI_HandleTypeDef *hspi)
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 3777              		.loc 1 1932 0
 3778              		.cfi_startproc
 3779              		@ args = 0, pretend = 0, frame = 32
 3780              		@ frame_needed = 1, uses_anonymous_args = 0
 3781 0000 80B5     		push	{r7, lr}
 3782              	.LCFI96:
 3783              		.cfi_def_cfa_offset 8
 3784              		.cfi_offset 7, -8
 3785              		.cfi_offset 14, -4
 3786 0002 88B0     		sub	sp, sp, #32
 3787              	.LCFI97:
 3788              		.cfi_def_cfa_offset 40
 3789 0004 00AF     		add	r7, sp, #0
 3790              	.LCFI98:
 3791              		.cfi_def_cfa_register 7
 3792 0006 7860     		str	r0, [r7, #4]
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 3793              		.loc 1 1933 0
 3794 0008 7B68     		ldr	r3, [r7, #4]
 3795 000a 1B68     		ldr	r3, [r3]
 3796 000c 5B68     		ldr	r3, [r3, #4]
ARM GAS  /tmp/cckea6X9.s 			page 101


 3797 000e FB61     		str	r3, [r7, #28]
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 3798              		.loc 1 1934 0
 3799 0010 7B68     		ldr	r3, [r7, #4]
 3800 0012 1B68     		ldr	r3, [r3]
 3801 0014 9B68     		ldr	r3, [r3, #8]
 3802 0016 BB61     		str	r3, [r7, #24]
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* SPI in mode Receiver ----------------------------------------------------*/
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(((itflag & SPI_FLAG_OVR) == RESET) &&
 3803              		.loc 1 1937 0
 3804 0018 BB69     		ldr	r3, [r7, #24]
 3805 001a 03F04003 		and	r3, r3, #64
 3806 001e 002B     		cmp	r3, #0
 3807 0020 0ED1     		bne	.L202
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      ((itflag & SPI_FLAG_RXNE) != RESET) && ((itsource & SPI_IT_RXNE) != RESET))
 3808              		.loc 1 1938 0 discriminator 1
 3809 0022 BB69     		ldr	r3, [r7, #24]
 3810 0024 03F00103 		and	r3, r3, #1
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      ((itflag & SPI_FLAG_RXNE) != RESET) && ((itsource & SPI_IT_RXNE) != RESET))
 3811              		.loc 1 1937 0 discriminator 1
 3812 0028 002B     		cmp	r3, #0
 3813 002a 09D0     		beq	.L202
 3814              		.loc 1 1938 0
 3815 002c FB69     		ldr	r3, [r7, #28]
 3816 002e 03F04003 		and	r3, r3, #64
 3817 0032 002B     		cmp	r3, #0
 3818 0034 04D0     		beq	.L202
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR(hspi);
 3819              		.loc 1 1940 0
 3820 0036 7B68     		ldr	r3, [r7, #4]
 3821 0038 1B6C     		ldr	r3, [r3, #64]
 3822 003a 7868     		ldr	r0, [r7, #4]
 3823 003c 9847     		blx	r3
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return;
 3824              		.loc 1 1941 0
 3825 003e B1E0     		b	.L201
 3826              	.L202:
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* SPI in mode Transmitter -------------------------------------------------*/
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(((itflag & SPI_FLAG_TXE) != RESET) && ((itsource & SPI_IT_TXE) != RESET))
 3827              		.loc 1 1945 0
 3828 0040 BB69     		ldr	r3, [r7, #24]
 3829 0042 03F00203 		and	r3, r3, #2
 3830 0046 002B     		cmp	r3, #0
 3831 0048 09D0     		beq	.L204
 3832              		.loc 1 1945 0 is_stmt 0 discriminator 1
 3833 004a FB69     		ldr	r3, [r7, #28]
 3834 004c 03F08003 		and	r3, r3, #128
 3835 0050 002B     		cmp	r3, #0
 3836 0052 04D0     		beq	.L204
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR(hspi);
 3837              		.loc 1 1947 0 is_stmt 1
 3838 0054 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cckea6X9.s 			page 102


 3839 0056 5B6C     		ldr	r3, [r3, #68]
 3840 0058 7868     		ldr	r0, [r7, #4]
 3841 005a 9847     		blx	r3
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return;
 3842              		.loc 1 1948 0
 3843 005c A2E0     		b	.L201
 3844              	.L204:
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* SPI in Error Treatment --------------------------------------------------*/
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(((itflag & (SPI_FLAG_MODF | SPI_FLAG_OVR | SPI_FLAG_FRE)) != RESET) && ((itsource & SPI_IT_ERR
 3845              		.loc 1 1952 0
 3846 005e BB69     		ldr	r3, [r7, #24]
 3847 0060 03F4B073 		and	r3, r3, #352
 3848 0064 002B     		cmp	r3, #0
 3849 0066 00F09D80 		beq	.L201
 3850              		.loc 1 1952 0 is_stmt 0 discriminator 1
 3851 006a FB69     		ldr	r3, [r7, #28]
 3852 006c 03F02003 		and	r3, r3, #32
 3853 0070 002B     		cmp	r3, #0
 3854 0072 00F09780 		beq	.L201
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* SPI Overrun error interrupt occurred ----------------------------------*/
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((itflag & SPI_FLAG_OVR) != RESET)
 3855              		.loc 1 1955 0 is_stmt 1
 3856 0076 BB69     		ldr	r3, [r7, #24]
 3857 0078 03F04003 		and	r3, r3, #64
 3858 007c 002B     		cmp	r3, #0
 3859 007e 23D0     		beq	.L205
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->State != HAL_SPI_STATE_BUSY_TX)
 3860              		.loc 1 1957 0
 3861 0080 7B68     		ldr	r3, [r7, #4]
 3862 0082 93F85130 		ldrb	r3, [r3, #81]
 3863 0086 DBB2     		uxtb	r3, r3
 3864 0088 032B     		cmp	r3, #3
 3865 008a 11D0     		beq	.L206
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_OVR);
 3866              		.loc 1 1959 0
 3867 008c 7B68     		ldr	r3, [r7, #4]
 3868 008e 5B6D     		ldr	r3, [r3, #84]
 3869 0090 43F00402 		orr	r2, r3, #4
 3870 0094 7B68     		ldr	r3, [r7, #4]
 3871 0096 5A65     		str	r2, [r3, #84]
 3872              	.LBB8:
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
 3873              		.loc 1 1960 0
 3874 0098 0023     		movs	r3, #0
 3875 009a 7B61     		str	r3, [r7, #20]
 3876 009c 7B68     		ldr	r3, [r7, #4]
 3877 009e 1B68     		ldr	r3, [r3]
 3878 00a0 DB68     		ldr	r3, [r3, #12]
 3879 00a2 7B61     		str	r3, [r7, #20]
 3880 00a4 7B68     		ldr	r3, [r7, #4]
 3881 00a6 1B68     		ldr	r3, [r3]
 3882 00a8 9B68     		ldr	r3, [r3, #8]
ARM GAS  /tmp/cckea6X9.s 			page 103


 3883 00aa 7B61     		str	r3, [r7, #20]
 3884 00ac 7B69     		ldr	r3, [r7, #20]
 3885              	.LBE8:
 3886 00ae 0BE0     		b	.L205
 3887              	.L206:
 3888              	.LBB9:
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
 3889              		.loc 1 1964 0
 3890 00b0 0023     		movs	r3, #0
 3891 00b2 3B61     		str	r3, [r7, #16]
 3892 00b4 7B68     		ldr	r3, [r7, #4]
 3893 00b6 1B68     		ldr	r3, [r3]
 3894 00b8 DB68     		ldr	r3, [r3, #12]
 3895 00ba 3B61     		str	r3, [r7, #16]
 3896 00bc 7B68     		ldr	r3, [r7, #4]
 3897 00be 1B68     		ldr	r3, [r3]
 3898 00c0 9B68     		ldr	r3, [r3, #8]
 3899 00c2 3B61     		str	r3, [r7, #16]
 3900 00c4 3B69     		ldr	r3, [r7, #16]
 3901              	.LBE9:
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return;
 3902              		.loc 1 1965 0
 3903 00c6 6DE0     		b	.L201
 3904              	.L205:
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* SPI Mode Fault error interrupt occurred -------------------------------*/
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((itflag & SPI_FLAG_MODF) != RESET)
 3905              		.loc 1 1970 0
 3906 00c8 BB69     		ldr	r3, [r7, #24]
 3907 00ca 03F02003 		and	r3, r3, #32
 3908 00ce 002B     		cmp	r3, #0
 3909 00d0 14D0     		beq	.L207
1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_MODF);
 3910              		.loc 1 1972 0
 3911 00d2 7B68     		ldr	r3, [r7, #4]
 3912 00d4 5B6D     		ldr	r3, [r3, #84]
 3913 00d6 43F00102 		orr	r2, r3, #1
 3914 00da 7B68     		ldr	r3, [r7, #4]
 3915 00dc 5A65     		str	r2, [r3, #84]
 3916              	.LBB10:
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
 3917              		.loc 1 1973 0
 3918 00de 0023     		movs	r3, #0
 3919 00e0 FB60     		str	r3, [r7, #12]
 3920 00e2 7B68     		ldr	r3, [r7, #4]
 3921 00e4 1B68     		ldr	r3, [r3]
 3922 00e6 9B68     		ldr	r3, [r3, #8]
 3923 00e8 FB60     		str	r3, [r7, #12]
 3924 00ea 7B68     		ldr	r3, [r7, #4]
 3925 00ec 1B68     		ldr	r3, [r3]
 3926 00ee 7A68     		ldr	r2, [r7, #4]
ARM GAS  /tmp/cckea6X9.s 			page 104


 3927 00f0 1268     		ldr	r2, [r2]
 3928 00f2 1268     		ldr	r2, [r2]
 3929 00f4 22F04002 		bic	r2, r2, #64
 3930 00f8 1A60     		str	r2, [r3]
 3931 00fa FB68     		ldr	r3, [r7, #12]
 3932              	.L207:
 3933              	.LBE10:
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* SPI Frame error interrupt occurred ------------------------------------*/
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((itflag & SPI_FLAG_FRE) != RESET)
 3934              		.loc 1 1977 0
 3935 00fc BB69     		ldr	r3, [r7, #24]
 3936 00fe 03F48073 		and	r3, r3, #256
 3937 0102 002B     		cmp	r3, #0
 3938 0104 0CD0     		beq	.L208
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FRE);
 3939              		.loc 1 1979 0
 3940 0106 7B68     		ldr	r3, [r7, #4]
 3941 0108 5B6D     		ldr	r3, [r3, #84]
 3942 010a 43F00802 		orr	r2, r3, #8
 3943 010e 7B68     		ldr	r3, [r7, #4]
 3944 0110 5A65     		str	r2, [r3, #84]
 3945              	.LBB11:
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_FREFLAG(hspi);
 3946              		.loc 1 1980 0
 3947 0112 0023     		movs	r3, #0
 3948 0114 BB60     		str	r3, [r7, #8]
 3949 0116 7B68     		ldr	r3, [r7, #4]
 3950 0118 1B68     		ldr	r3, [r3]
 3951 011a 9B68     		ldr	r3, [r3, #8]
 3952 011c BB60     		str	r3, [r7, #8]
 3953 011e BB68     		ldr	r3, [r7, #8]
 3954              	.L208:
 3955              	.LBE11:
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 3956              		.loc 1 1983 0
 3957 0120 7B68     		ldr	r3, [r7, #4]
 3958 0122 5B6D     		ldr	r3, [r3, #84]
 3959 0124 002B     		cmp	r3, #0
 3960 0126 3CD0     		beq	.L209
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable all interrupts */
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE | SPI_IT_TXE | SPI_IT_ERR);
 3961              		.loc 1 1986 0
 3962 0128 7B68     		ldr	r3, [r7, #4]
 3963 012a 1B68     		ldr	r3, [r3]
 3964 012c 7A68     		ldr	r2, [r7, #4]
 3965 012e 1268     		ldr	r2, [r2]
 3966 0130 5268     		ldr	r2, [r2, #4]
 3967 0132 22F0E002 		bic	r2, r2, #224
 3968 0136 5A60     		str	r2, [r3, #4]
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
ARM GAS  /tmp/cckea6X9.s 			page 105


 3969              		.loc 1 1988 0
 3970 0138 7B68     		ldr	r3, [r7, #4]
 3971 013a 0122     		movs	r2, #1
 3972 013c 83F85120 		strb	r2, [r3, #81]
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if ((HAL_IS_BIT_SET(itsource, SPI_CR2_TXDMAEN))||(HAL_IS_BIT_SET(itsource, SPI_CR2_RXDMAEN)))
 3973              		.loc 1 1990 0
 3974 0140 FB69     		ldr	r3, [r7, #28]
 3975 0142 03F00203 		and	r3, r3, #2
 3976 0146 002B     		cmp	r3, #0
 3977 0148 04D1     		bne	.L210
 3978              		.loc 1 1990 0 is_stmt 0 discriminator 1
 3979 014a FB69     		ldr	r3, [r7, #28]
 3980 014c 03F00103 		and	r3, r3, #1
 3981 0150 002B     		cmp	r3, #0
 3982 0152 23D0     		beq	.L211
 3983              	.L210:
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN));
 3984              		.loc 1 1992 0 is_stmt 1
 3985 0154 7B68     		ldr	r3, [r7, #4]
 3986 0156 1B68     		ldr	r3, [r3]
 3987 0158 7A68     		ldr	r2, [r7, #4]
 3988 015a 1268     		ldr	r2, [r2]
 3989 015c 5268     		ldr	r2, [r2, #4]
 3990 015e 22F00302 		bic	r2, r2, #3
 3991 0162 5A60     		str	r2, [r3, #4]
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Abort the SPI DMA Rx channel */
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(hspi->hdmarx != NULL)
 3992              		.loc 1 1995 0
 3993 0164 7B68     		ldr	r3, [r7, #4]
 3994 0166 DB6C     		ldr	r3, [r3, #76]
 3995 0168 002B     		cmp	r3, #0
 3996 016a 08D0     		beq	.L212
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->hdmarx->XferAbortCallback = SPI_DMAAbortOnError;
 3997              		.loc 1 1999 0
 3998 016c 7B68     		ldr	r3, [r7, #4]
 3999 016e DB6C     		ldr	r3, [r3, #76]
 4000 0170 0E4A     		ldr	r2, .L214
 4001 0172 1A65     		str	r2, [r3, #80]
2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           HAL_DMA_Abort_IT(hspi->hdmarx);
 4002              		.loc 1 2000 0
 4003 0174 7B68     		ldr	r3, [r7, #4]
 4004 0176 DB6C     		ldr	r3, [r3, #76]
 4005 0178 1846     		mov	r0, r3
 4006 017a FFF7FEFF 		bl	HAL_DMA_Abort_IT
 4007              	.L212:
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Abort the SPI DMA Tx channel */
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(hspi->hdmatx != NULL)
 4008              		.loc 1 2003 0
 4009 017e 7B68     		ldr	r3, [r7, #4]
 4010 0180 9B6C     		ldr	r3, [r3, #72]
ARM GAS  /tmp/cckea6X9.s 			page 106


 4011 0182 002B     		cmp	r3, #0
 4012 0184 09D0     		beq	.L213
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->hdmatx->XferAbortCallback = SPI_DMAAbortOnError;
 4013              		.loc 1 2007 0
 4014 0186 7B68     		ldr	r3, [r7, #4]
 4015 0188 9B6C     		ldr	r3, [r3, #72]
 4016 018a 084A     		ldr	r2, .L214
 4017 018c 1A65     		str	r2, [r3, #80]
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           HAL_DMA_Abort_IT(hspi->hdmatx);
 4018              		.loc 1 2008 0
 4019 018e 7B68     		ldr	r3, [r7, #4]
 4020 0190 9B6C     		ldr	r3, [r3, #72]
 4021 0192 1846     		mov	r0, r3
 4022 0194 FFF7FEFF 		bl	HAL_DMA_Abort_IT
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 4023              		.loc 1 2003 0
 4024 0198 03E0     		b	.L209
 4025              	.L213:
 4026 019a 02E0     		b	.L209
 4027              	.L211:
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Call user error callback */
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_ErrorCallback(hspi);
 4028              		.loc 1 2014 0
 4029 019c 7868     		ldr	r0, [r7, #4]
 4030 019e FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4031              	.L209:
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return;
 4032              		.loc 1 2017 0 discriminator 1
 4033 01a2 00BF     		nop
 4034              	.L201:
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4035              		.loc 1 2019 0
 4036 01a4 2037     		adds	r7, r7, #32
 4037              	.LCFI99:
 4038              		.cfi_def_cfa_offset 8
 4039 01a6 BD46     		mov	sp, r7
 4040              	.LCFI100:
 4041              		.cfi_def_cfa_register 13
 4042              		@ sp needed
 4043 01a8 80BD     		pop	{r7, pc}
 4044              	.L215:
 4045 01aa 00BF     		.align	2
 4046              	.L214:
 4047 01ac 00000000 		.word	SPI_DMAAbortOnError
 4048              		.cfi_endproc
 4049              	.LFE141:
 4051              		.section	.text.HAL_SPI_TxCpltCallback,"ax",%progbits
ARM GAS  /tmp/cckea6X9.s 			page 107


 4052              		.align	2
 4053              		.weak	HAL_SPI_TxCpltCallback
 4054              		.thumb
 4055              		.thumb_func
 4057              	HAL_SPI_TxCpltCallback:
 4058              	.LFB142:
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Tx Transfer completed callback.
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxCpltCallback(SPI_HandleTypeDef *hspi)
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4059              		.loc 1 2028 0
 4060              		.cfi_startproc
 4061              		@ args = 0, pretend = 0, frame = 8
 4062              		@ frame_needed = 1, uses_anonymous_args = 0
 4063              		@ link register save eliminated.
 4064 0000 80B4     		push	{r7}
 4065              	.LCFI101:
 4066              		.cfi_def_cfa_offset 4
 4067              		.cfi_offset 7, -4
 4068 0002 83B0     		sub	sp, sp, #12
 4069              	.LCFI102:
 4070              		.cfi_def_cfa_offset 16
 4071 0004 00AF     		add	r7, sp, #0
 4072              	.LCFI103:
 4073              		.cfi_def_cfa_register 7
 4074 0006 7860     		str	r0, [r7, #4]
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxCpltCallback should be implemented in the user file
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4075              		.loc 1 2034 0
 4076 0008 0C37     		adds	r7, r7, #12
 4077              	.LCFI104:
 4078              		.cfi_def_cfa_offset 4
 4079 000a BD46     		mov	sp, r7
 4080              	.LCFI105:
 4081              		.cfi_def_cfa_register 13
 4082              		@ sp needed
 4083 000c 5DF8047B 		ldr	r7, [sp], #4
 4084              	.LCFI106:
 4085              		.cfi_restore 7
 4086              		.cfi_def_cfa_offset 0
 4087 0010 7047     		bx	lr
 4088              		.cfi_endproc
 4089              	.LFE142:
 4091 0012 00BF     		.section	.text.HAL_SPI_RxCpltCallback,"ax",%progbits
 4092              		.align	2
 4093              		.weak	HAL_SPI_RxCpltCallback
 4094              		.thumb
 4095              		.thumb_func
ARM GAS  /tmp/cckea6X9.s 			page 108


 4097              	HAL_SPI_RxCpltCallback:
 4098              	.LFB143:
2035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Rx Transfer completed callback.
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_RxCpltCallback(SPI_HandleTypeDef *hspi)
2043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4099              		.loc 1 2043 0
 4100              		.cfi_startproc
 4101              		@ args = 0, pretend = 0, frame = 8
 4102              		@ frame_needed = 1, uses_anonymous_args = 0
 4103              		@ link register save eliminated.
 4104 0000 80B4     		push	{r7}
 4105              	.LCFI107:
 4106              		.cfi_def_cfa_offset 4
 4107              		.cfi_offset 7, -4
 4108 0002 83B0     		sub	sp, sp, #12
 4109              	.LCFI108:
 4110              		.cfi_def_cfa_offset 16
 4111 0004 00AF     		add	r7, sp, #0
 4112              	.LCFI109:
 4113              		.cfi_def_cfa_register 7
 4114 0006 7860     		str	r0, [r7, #4]
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_RxCpltCallback should be implemented in the user file
2048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4115              		.loc 1 2049 0
 4116 0008 0C37     		adds	r7, r7, #12
 4117              	.LCFI110:
 4118              		.cfi_def_cfa_offset 4
 4119 000a BD46     		mov	sp, r7
 4120              	.LCFI111:
 4121              		.cfi_def_cfa_register 13
 4122              		@ sp needed
 4123 000c 5DF8047B 		ldr	r7, [sp], #4
 4124              	.LCFI112:
 4125              		.cfi_restore 7
 4126              		.cfi_def_cfa_offset 0
 4127 0010 7047     		bx	lr
 4128              		.cfi_endproc
 4129              	.LFE143:
 4131 0012 00BF     		.section	.text.HAL_SPI_TxRxCpltCallback,"ax",%progbits
 4132              		.align	2
 4133              		.weak	HAL_SPI_TxRxCpltCallback
 4134              		.thumb
 4135              		.thumb_func
 4137              	HAL_SPI_TxRxCpltCallback:
 4138              	.LFB144:
2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
ARM GAS  /tmp/cckea6X9.s 			page 109


2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Tx and Rx Transfer completed callback.
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxRxCpltCallback(SPI_HandleTypeDef *hspi)
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4139              		.loc 1 2058 0
 4140              		.cfi_startproc
 4141              		@ args = 0, pretend = 0, frame = 8
 4142              		@ frame_needed = 1, uses_anonymous_args = 0
 4143              		@ link register save eliminated.
 4144 0000 80B4     		push	{r7}
 4145              	.LCFI113:
 4146              		.cfi_def_cfa_offset 4
 4147              		.cfi_offset 7, -4
 4148 0002 83B0     		sub	sp, sp, #12
 4149              	.LCFI114:
 4150              		.cfi_def_cfa_offset 16
 4151 0004 00AF     		add	r7, sp, #0
 4152              	.LCFI115:
 4153              		.cfi_def_cfa_register 7
 4154 0006 7860     		str	r0, [r7, #4]
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxRxCpltCallback should be implemented in the user file
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4155              		.loc 1 2064 0
 4156 0008 0C37     		adds	r7, r7, #12
 4157              	.LCFI116:
 4158              		.cfi_def_cfa_offset 4
 4159 000a BD46     		mov	sp, r7
 4160              	.LCFI117:
 4161              		.cfi_def_cfa_register 13
 4162              		@ sp needed
 4163 000c 5DF8047B 		ldr	r7, [sp], #4
 4164              	.LCFI118:
 4165              		.cfi_restore 7
 4166              		.cfi_def_cfa_offset 0
 4167 0010 7047     		bx	lr
 4168              		.cfi_endproc
 4169              	.LFE144:
 4171 0012 00BF     		.section	.text.HAL_SPI_TxHalfCpltCallback,"ax",%progbits
 4172              		.align	2
 4173              		.weak	HAL_SPI_TxHalfCpltCallback
 4174              		.thumb
 4175              		.thumb_func
 4177              	HAL_SPI_TxHalfCpltCallback:
 4178              	.LFB145:
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Tx Half Transfer completed callback.
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
ARM GAS  /tmp/cckea6X9.s 			page 110


2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4179              		.loc 1 2073 0
 4180              		.cfi_startproc
 4181              		@ args = 0, pretend = 0, frame = 8
 4182              		@ frame_needed = 1, uses_anonymous_args = 0
 4183              		@ link register save eliminated.
 4184 0000 80B4     		push	{r7}
 4185              	.LCFI119:
 4186              		.cfi_def_cfa_offset 4
 4187              		.cfi_offset 7, -4
 4188 0002 83B0     		sub	sp, sp, #12
 4189              	.LCFI120:
 4190              		.cfi_def_cfa_offset 16
 4191 0004 00AF     		add	r7, sp, #0
 4192              	.LCFI121:
 4193              		.cfi_def_cfa_register 7
 4194 0006 7860     		str	r0, [r7, #4]
2074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxHalfCpltCallback should be implemented in the user file
2078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4195              		.loc 1 2079 0
 4196 0008 0C37     		adds	r7, r7, #12
 4197              	.LCFI122:
 4198              		.cfi_def_cfa_offset 4
 4199 000a BD46     		mov	sp, r7
 4200              	.LCFI123:
 4201              		.cfi_def_cfa_register 13
 4202              		@ sp needed
 4203 000c 5DF8047B 		ldr	r7, [sp], #4
 4204              	.LCFI124:
 4205              		.cfi_restore 7
 4206              		.cfi_def_cfa_offset 0
 4207 0010 7047     		bx	lr
 4208              		.cfi_endproc
 4209              	.LFE145:
 4211 0012 00BF     		.section	.text.HAL_SPI_RxHalfCpltCallback,"ax",%progbits
 4212              		.align	2
 4213              		.weak	HAL_SPI_RxHalfCpltCallback
 4214              		.thumb
 4215              		.thumb_func
 4217              	HAL_SPI_RxHalfCpltCallback:
 4218              	.LFB146:
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Rx Half Transfer completed callback.
2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_RxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4219              		.loc 1 2088 0
ARM GAS  /tmp/cckea6X9.s 			page 111


 4220              		.cfi_startproc
 4221              		@ args = 0, pretend = 0, frame = 8
 4222              		@ frame_needed = 1, uses_anonymous_args = 0
 4223              		@ link register save eliminated.
 4224 0000 80B4     		push	{r7}
 4225              	.LCFI125:
 4226              		.cfi_def_cfa_offset 4
 4227              		.cfi_offset 7, -4
 4228 0002 83B0     		sub	sp, sp, #12
 4229              	.LCFI126:
 4230              		.cfi_def_cfa_offset 16
 4231 0004 00AF     		add	r7, sp, #0
 4232              	.LCFI127:
 4233              		.cfi_def_cfa_register 7
 4234 0006 7860     		str	r0, [r7, #4]
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_RxHalfCpltCallback() should be implemented in the user file
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4235              		.loc 1 2094 0
 4236 0008 0C37     		adds	r7, r7, #12
 4237              	.LCFI128:
 4238              		.cfi_def_cfa_offset 4
 4239 000a BD46     		mov	sp, r7
 4240              	.LCFI129:
 4241              		.cfi_def_cfa_register 13
 4242              		@ sp needed
 4243 000c 5DF8047B 		ldr	r7, [sp], #4
 4244              	.LCFI130:
 4245              		.cfi_restore 7
 4246              		.cfi_def_cfa_offset 0
 4247 0010 7047     		bx	lr
 4248              		.cfi_endproc
 4249              	.LFE146:
 4251 0012 00BF     		.section	.text.HAL_SPI_TxRxHalfCpltCallback,"ax",%progbits
 4252              		.align	2
 4253              		.weak	HAL_SPI_TxRxHalfCpltCallback
 4254              		.thumb
 4255              		.thumb_func
 4257              	HAL_SPI_TxRxHalfCpltCallback:
 4258              	.LFB147:
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Tx and Rx Half Transfer callback.
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxRxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4259              		.loc 1 2103 0
 4260              		.cfi_startproc
 4261              		@ args = 0, pretend = 0, frame = 8
 4262              		@ frame_needed = 1, uses_anonymous_args = 0
 4263              		@ link register save eliminated.
ARM GAS  /tmp/cckea6X9.s 			page 112


 4264 0000 80B4     		push	{r7}
 4265              	.LCFI131:
 4266              		.cfi_def_cfa_offset 4
 4267              		.cfi_offset 7, -4
 4268 0002 83B0     		sub	sp, sp, #12
 4269              	.LCFI132:
 4270              		.cfi_def_cfa_offset 16
 4271 0004 00AF     		add	r7, sp, #0
 4272              	.LCFI133:
 4273              		.cfi_def_cfa_register 7
 4274 0006 7860     		str	r0, [r7, #4]
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxRxHalfCpltCallback() should be implemented in the user file
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4275              		.loc 1 2109 0
 4276 0008 0C37     		adds	r7, r7, #12
 4277              	.LCFI134:
 4278              		.cfi_def_cfa_offset 4
 4279 000a BD46     		mov	sp, r7
 4280              	.LCFI135:
 4281              		.cfi_def_cfa_register 13
 4282              		@ sp needed
 4283 000c 5DF8047B 		ldr	r7, [sp], #4
 4284              	.LCFI136:
 4285              		.cfi_restore 7
 4286              		.cfi_def_cfa_offset 0
 4287 0010 7047     		bx	lr
 4288              		.cfi_endproc
 4289              	.LFE147:
 4291 0012 00BF     		.section	.text.HAL_SPI_ErrorCallback,"ax",%progbits
 4292              		.align	2
 4293              		.weak	HAL_SPI_ErrorCallback
 4294              		.thumb
 4295              		.thumb_func
 4297              	HAL_SPI_ErrorCallback:
 4298              	.LFB148:
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief SPI error callback.
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  __weak void HAL_SPI_ErrorCallback(SPI_HandleTypeDef *hspi)
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4299              		.loc 1 2118 0
 4300              		.cfi_startproc
 4301              		@ args = 0, pretend = 0, frame = 8
 4302              		@ frame_needed = 1, uses_anonymous_args = 0
 4303              		@ link register save eliminated.
 4304 0000 80B4     		push	{r7}
 4305              	.LCFI137:
 4306              		.cfi_def_cfa_offset 4
 4307              		.cfi_offset 7, -4
ARM GAS  /tmp/cckea6X9.s 			page 113


 4308 0002 83B0     		sub	sp, sp, #12
 4309              	.LCFI138:
 4310              		.cfi_def_cfa_offset 16
 4311 0004 00AF     		add	r7, sp, #0
 4312              	.LCFI139:
 4313              		.cfi_def_cfa_register 7
 4314 0006 7860     		str	r0, [r7, #4]
2119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_ErrorCallback should be implemented in the user file
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : The ErrorCode parameter in the hspi handle is updated by the SPI processes
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             and user can use HAL_SPI_GetError() API to check the latest error occurred
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4315              		.loc 1 2127 0
 4316 0008 0C37     		adds	r7, r7, #12
 4317              	.LCFI140:
 4318              		.cfi_def_cfa_offset 4
 4319 000a BD46     		mov	sp, r7
 4320              	.LCFI141:
 4321              		.cfi_def_cfa_register 13
 4322              		@ sp needed
 4323 000c 5DF8047B 		ldr	r7, [sp], #4
 4324              	.LCFI142:
 4325              		.cfi_restore 7
 4326              		.cfi_def_cfa_offset 0
 4327 0010 7047     		bx	lr
 4328              		.cfi_endproc
 4329              	.LFE148:
 4331 0012 00BF     		.section	.text.HAL_SPI_AbortCpltCallback,"ax",%progbits
 4332              		.align	2
 4333              		.weak	HAL_SPI_AbortCpltCallback
 4334              		.thumb
 4335              		.thumb_func
 4337              	HAL_SPI_AbortCpltCallback:
 4338              	.LFB149:
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  SPI Abort Complete callback.
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi SPI handle.
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_AbortCpltCallback(SPI_HandleTypeDef *hspi)
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4339              		.loc 1 2135 0
 4340              		.cfi_startproc
 4341              		@ args = 0, pretend = 0, frame = 8
 4342              		@ frame_needed = 1, uses_anonymous_args = 0
 4343              		@ link register save eliminated.
 4344 0000 80B4     		push	{r7}
 4345              	.LCFI143:
 4346              		.cfi_def_cfa_offset 4
 4347              		.cfi_offset 7, -4
 4348 0002 83B0     		sub	sp, sp, #12
 4349              	.LCFI144:
ARM GAS  /tmp/cckea6X9.s 			page 114


 4350              		.cfi_def_cfa_offset 16
 4351 0004 00AF     		add	r7, sp, #0
 4352              	.LCFI145:
 4353              		.cfi_def_cfa_register 7
 4354 0006 7860     		str	r0, [r7, #4]
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_AbortCpltCallback can be implemented in the user file.
2141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
2142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4355              		.loc 1 2142 0
 4356 0008 0C37     		adds	r7, r7, #12
 4357              	.LCFI146:
 4358              		.cfi_def_cfa_offset 4
 4359 000a BD46     		mov	sp, r7
 4360              	.LCFI147:
 4361              		.cfi_def_cfa_register 13
 4362              		@ sp needed
 4363 000c 5DF8047B 		ldr	r7, [sp], #4
 4364              	.LCFI148:
 4365              		.cfi_restore 7
 4366              		.cfi_def_cfa_offset 0
 4367 0010 7047     		bx	lr
 4368              		.cfi_endproc
 4369              	.LFE149:
 4371 0012 00BF     		.section	.text.HAL_SPI_GetState,"ax",%progbits
 4372              		.align	2
 4373              		.global	HAL_SPI_GetState
 4374              		.thumb
 4375              		.thumb_func
 4377              	HAL_SPI_GetState:
 4378              	.LFB150:
2143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group3 Peripheral State and Errors functions
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief   SPI control functions
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
2151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @verbatim
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                       ##### Peripheral State and Errors functions #####
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..]
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     This subsection provides a set of functions allowing to control the SPI.
2157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      (+) HAL_SPI_GetState() API can be helpful to check in run-time the state of the SPI peripheral
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      (+) HAL_SPI_GetError() check in run-time Errors occurring during communication
2159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @endverbatim
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
2161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Return the SPI handle state.
2165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
ARM GAS  /tmp/cckea6X9.s 			page 115


2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval SPI state
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_SPI_StateTypeDef HAL_SPI_GetState(SPI_HandleTypeDef *hspi)
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4379              		.loc 1 2170 0
 4380              		.cfi_startproc
 4381              		@ args = 0, pretend = 0, frame = 8
 4382              		@ frame_needed = 1, uses_anonymous_args = 0
 4383              		@ link register save eliminated.
 4384 0000 80B4     		push	{r7}
 4385              	.LCFI149:
 4386              		.cfi_def_cfa_offset 4
 4387              		.cfi_offset 7, -4
 4388 0002 83B0     		sub	sp, sp, #12
 4389              	.LCFI150:
 4390              		.cfi_def_cfa_offset 16
 4391 0004 00AF     		add	r7, sp, #0
 4392              	.LCFI151:
 4393              		.cfi_def_cfa_register 7
 4394 0006 7860     		str	r0, [r7, #4]
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Return SPI handle state */
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return hspi->State;
 4395              		.loc 1 2172 0
 4396 0008 7B68     		ldr	r3, [r7, #4]
 4397 000a 93F85130 		ldrb	r3, [r3, #81]
 4398 000e DBB2     		uxtb	r3, r3
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4399              		.loc 1 2173 0
 4400 0010 1846     		mov	r0, r3
 4401 0012 0C37     		adds	r7, r7, #12
 4402              	.LCFI152:
 4403              		.cfi_def_cfa_offset 4
 4404 0014 BD46     		mov	sp, r7
 4405              	.LCFI153:
 4406              		.cfi_def_cfa_register 13
 4407              		@ sp needed
 4408 0016 5DF8047B 		ldr	r7, [sp], #4
 4409              	.LCFI154:
 4410              		.cfi_restore 7
 4411              		.cfi_def_cfa_offset 0
 4412 001a 7047     		bx	lr
 4413              		.cfi_endproc
 4414              	.LFE150:
 4416              		.section	.text.HAL_SPI_GetError,"ax",%progbits
 4417              		.align	2
 4418              		.global	HAL_SPI_GetError
 4419              		.thumb
 4420              		.thumb_func
 4422              	HAL_SPI_GetError:
 4423              	.LFB151:
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Return the SPI error code.
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval SPI error code in bitmap format
ARM GAS  /tmp/cckea6X9.s 			page 116


2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** uint32_t HAL_SPI_GetError(SPI_HandleTypeDef *hspi)
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4424              		.loc 1 2182 0
 4425              		.cfi_startproc
 4426              		@ args = 0, pretend = 0, frame = 8
 4427              		@ frame_needed = 1, uses_anonymous_args = 0
 4428              		@ link register save eliminated.
 4429 0000 80B4     		push	{r7}
 4430              	.LCFI155:
 4431              		.cfi_def_cfa_offset 4
 4432              		.cfi_offset 7, -4
 4433 0002 83B0     		sub	sp, sp, #12
 4434              	.LCFI156:
 4435              		.cfi_def_cfa_offset 16
 4436 0004 00AF     		add	r7, sp, #0
 4437              	.LCFI157:
 4438              		.cfi_def_cfa_register 7
 4439 0006 7860     		str	r0, [r7, #4]
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Return SPI ErrorCode */
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return hspi->ErrorCode;
 4440              		.loc 1 2184 0
 4441 0008 7B68     		ldr	r3, [r7, #4]
 4442 000a 5B6D     		ldr	r3, [r3, #84]
2185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4443              		.loc 1 2185 0
 4444 000c 1846     		mov	r0, r3
 4445 000e 0C37     		adds	r7, r7, #12
 4446              	.LCFI158:
 4447              		.cfi_def_cfa_offset 4
 4448 0010 BD46     		mov	sp, r7
 4449              	.LCFI159:
 4450              		.cfi_def_cfa_register 13
 4451              		@ sp needed
 4452 0012 5DF8047B 		ldr	r7, [sp], #4
 4453              	.LCFI160:
 4454              		.cfi_restore 7
 4455              		.cfi_def_cfa_offset 0
 4456 0016 7047     		bx	lr
 4457              		.cfi_endproc
 4458              	.LFE151:
 4460              		.section	.text.SPI_DMATransmitCplt,"ax",%progbits
 4461              		.align	2
 4462              		.thumb
 4463              		.thumb_func
 4465              	SPI_DMATransmitCplt:
 4466              	.LFB152:
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
2189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @addtogroup SPI_Private_Functions
ARM GAS  /tmp/cckea6X9.s 			page 117


2196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief   Private functions
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief DMA SPI transmit process complete callback.
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma)
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4467              		.loc 1 2207 0
 4468              		.cfi_startproc
 4469              		@ args = 0, pretend = 0, frame = 24
 4470              		@ frame_needed = 1, uses_anonymous_args = 0
 4471 0000 80B5     		push	{r7, lr}
 4472              	.LCFI161:
 4473              		.cfi_def_cfa_offset 8
 4474              		.cfi_offset 7, -8
 4475              		.cfi_offset 14, -4
 4476 0002 86B0     		sub	sp, sp, #24
 4477              	.LCFI162:
 4478              		.cfi_def_cfa_offset 32
 4479 0004 00AF     		add	r7, sp, #0
 4480              	.LCFI163:
 4481              		.cfi_def_cfa_register 7
 4482 0006 7860     		str	r0, [r7, #4]
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 4483              		.loc 1 2208 0
 4484 0008 7B68     		ldr	r3, [r7, #4]
 4485 000a 9B6B     		ldr	r3, [r3, #56]
 4486 000c 7B61     		str	r3, [r7, #20]
2209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart = 0U;
 4487              		.loc 1 2209 0
 4488 000e 0023     		movs	r3, #0
 4489 0010 3B61     		str	r3, [r7, #16]
2210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout managment*/
2212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 4490              		.loc 1 2212 0
 4491 0012 FFF7FEFF 		bl	HAL_GetTick
 4492 0016 3861     		str	r0, [r7, #16]
2213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DMA Normal Mode */
2215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0U)
 4493              		.loc 1 2215 0
 4494 0018 7B68     		ldr	r3, [r7, #4]
 4495 001a 1B68     		ldr	r3, [r3]
 4496 001c 1B68     		ldr	r3, [r3]
 4497 001e 03F48073 		and	r3, r3, #256
 4498 0022 002B     		cmp	r3, #0
 4499 0024 33D1     		bne	.L229
2216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable Tx DMA Request */
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
 4500              		.loc 1 2218 0
ARM GAS  /tmp/cckea6X9.s 			page 118


 4501 0026 7B69     		ldr	r3, [r7, #20]
 4502 0028 1B68     		ldr	r3, [r3]
 4503 002a 7A69     		ldr	r2, [r7, #20]
 4504 002c 1268     		ldr	r2, [r2]
 4505 002e 5268     		ldr	r2, [r2, #4]
 4506 0030 22F00202 		bic	r2, r2, #2
 4507 0034 5A60     		str	r2, [r3, #4]
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the end of the transaction */
2221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_CheckFlag_BSY(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 4508              		.loc 1 2221 0
 4509 0036 7869     		ldr	r0, [r7, #20]
 4510 0038 6421     		movs	r1, #100
 4511 003a 3A69     		ldr	r2, [r7, #16]
 4512 003c FFF7FEFF 		bl	SPI_CheckFlag_BSY
 4513 0040 0346     		mov	r3, r0
 4514 0042 002B     		cmp	r3, #0
 4515 0044 05D0     		beq	.L230
2222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 4516              		.loc 1 2223 0
 4517 0046 7B69     		ldr	r3, [r7, #20]
 4518 0048 5B6D     		ldr	r3, [r3, #84]
 4519 004a 43F02002 		orr	r2, r3, #32
 4520 004e 7B69     		ldr	r3, [r7, #20]
 4521 0050 5A65     		str	r2, [r3, #84]
 4522              	.L230:
2224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Clear overrun flag in 2 Lines communication mode because received data is not read */
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
 4523              		.loc 1 2227 0
 4524 0052 7B69     		ldr	r3, [r7, #20]
 4525 0054 9B68     		ldr	r3, [r3, #8]
 4526 0056 002B     		cmp	r3, #0
 4527 0058 0AD1     		bne	.L231
 4528              	.LBB12:
2228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
 4529              		.loc 1 2229 0
 4530 005a 0023     		movs	r3, #0
 4531 005c FB60     		str	r3, [r7, #12]
 4532 005e 7B69     		ldr	r3, [r7, #20]
 4533 0060 1B68     		ldr	r3, [r3]
 4534 0062 DB68     		ldr	r3, [r3, #12]
 4535 0064 FB60     		str	r3, [r7, #12]
 4536 0066 7B69     		ldr	r3, [r7, #20]
 4537 0068 1B68     		ldr	r3, [r3]
 4538 006a 9B68     		ldr	r3, [r3, #8]
 4539 006c FB60     		str	r3, [r7, #12]
 4540 006e FB68     		ldr	r3, [r7, #12]
 4541              	.L231:
 4542              	.LBE12:
2230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 4543              		.loc 1 2232 0
ARM GAS  /tmp/cckea6X9.s 			page 119


 4544 0070 7B69     		ldr	r3, [r7, #20]
 4545 0072 0022     		movs	r2, #0
 4546 0074 DA86     		strh	r2, [r3, #54]	@ movhi
2233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 4547              		.loc 1 2233 0
 4548 0076 7B69     		ldr	r3, [r7, #20]
 4549 0078 0122     		movs	r2, #1
 4550 007a 83F85120 		strb	r2, [r3, #81]
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 4551              		.loc 1 2235 0
 4552 007e 7B69     		ldr	r3, [r7, #20]
 4553 0080 5B6D     		ldr	r3, [r3, #84]
 4554 0082 002B     		cmp	r3, #0
 4555 0084 03D0     		beq	.L229
2236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 4556              		.loc 1 2237 0
 4557 0086 7869     		ldr	r0, [r7, #20]
 4558 0088 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
2238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
 4559              		.loc 1 2238 0
 4560 008c 02E0     		b	.L228
 4561              	.L229:
2239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxCpltCallback(hspi);
 4562              		.loc 1 2241 0
 4563 008e 7869     		ldr	r0, [r7, #20]
 4564 0090 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 4565              	.L228:
2242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4566              		.loc 1 2242 0
 4567 0094 1837     		adds	r7, r7, #24
 4568              	.LCFI164:
 4569              		.cfi_def_cfa_offset 8
 4570 0096 BD46     		mov	sp, r7
 4571              	.LCFI165:
 4572              		.cfi_def_cfa_register 13
 4573              		@ sp needed
 4574 0098 80BD     		pop	{r7, pc}
 4575              		.cfi_endproc
 4576              	.LFE152:
 4578 009a 00BF     		.section	.text.SPI_DMAReceiveCplt,"ax",%progbits
 4579              		.align	2
 4580              		.thumb
 4581              		.thumb_func
 4583              	SPI_DMAReceiveCplt:
 4584              	.LFB153:
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief DMA SPI receive process complete callback.
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
ARM GAS  /tmp/cckea6X9.s 			page 120


2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4585              		.loc 1 2251 0
 4586              		.cfi_startproc
 4587              		@ args = 0, pretend = 0, frame = 16
 4588              		@ frame_needed = 1, uses_anonymous_args = 0
 4589 0000 80B5     		push	{r7, lr}
 4590              	.LCFI166:
 4591              		.cfi_def_cfa_offset 8
 4592              		.cfi_offset 7, -8
 4593              		.cfi_offset 14, -4
 4594 0002 84B0     		sub	sp, sp, #16
 4595              	.LCFI167:
 4596              		.cfi_def_cfa_offset 24
 4597 0004 00AF     		add	r7, sp, #0
 4598              	.LCFI168:
 4599              		.cfi_def_cfa_register 7
 4600 0006 7860     		str	r0, [r7, #4]
2252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 4601              		.loc 1 2252 0
 4602 0008 7B68     		ldr	r3, [r7, #4]
 4603 000a 9B6B     		ldr	r3, [r3, #56]
 4604 000c FB60     		str	r3, [r7, #12]
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart = 0U;
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint16_t tmpreg = 0U;
2256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
2259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  
2261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0U)
 4605              		.loc 1 2261 0
 4606 000e 7B68     		ldr	r3, [r7, #4]
 4607 0010 1B68     		ldr	r3, [r3]
 4608 0012 1B68     		ldr	r3, [r3]
 4609 0014 03F48073 		and	r3, r3, #256
 4610 0018 002B     		cmp	r3, #0
 4611 001a 2DD1     		bne	.L234
2262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* CRC handling */
2265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until RXNE flag */
2268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SPI_FLAG_RXNE, SPI_DEFAULT_TIMEOUT, tic
2269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Error on the CRC reception */
2271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Read CRC */
2274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       tmpreg = hspi->Instance->DR;
2275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* To avoid GCC warning */
2276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       UNUSED(tmpreg);
2277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable Rx/Tx DMA Request (done by default to handle the case master rx direction 2 lines) *
ARM GAS  /tmp/cckea6X9.s 			page 121


2281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 4612              		.loc 1 2281 0
 4613 001c FB68     		ldr	r3, [r7, #12]
 4614 001e 1B68     		ldr	r3, [r3]
 4615 0020 FA68     		ldr	r2, [r7, #12]
 4616 0022 1268     		ldr	r2, [r2]
 4617 0024 5268     		ldr	r2, [r2, #4]
 4618 0026 22F00302 		bic	r2, r2, #3
 4619 002a 5A60     		str	r2, [r3, #4]
2282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the end of the transaction */
2284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi-
 4620              		.loc 1 2284 0
 4621 002c FB68     		ldr	r3, [r7, #12]
 4622 002e 5B68     		ldr	r3, [r3, #4]
 4623 0030 B3F5827F 		cmp	r3, #260
 4624 0034 11D1     		bne	.L235
 4625              		.loc 1 2284 0 is_stmt 0 discriminator 1
 4626 0036 FB68     		ldr	r3, [r7, #12]
 4627 0038 9B68     		ldr	r3, [r3, #8]
 4628 003a B3F5004F 		cmp	r3, #32768
 4629 003e 04D0     		beq	.L236
 4630              		.loc 1 2284 0 discriminator 2
 4631 0040 FB68     		ldr	r3, [r7, #12]
 4632 0042 9B68     		ldr	r3, [r3, #8]
 4633 0044 B3F5806F 		cmp	r3, #1024
 4634 0048 07D1     		bne	.L235
 4635              	.L236:
2285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable SPI peripheral */
2287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
 4636              		.loc 1 2287 0 is_stmt 1
 4637 004a FB68     		ldr	r3, [r7, #12]
 4638 004c 1B68     		ldr	r3, [r3]
 4639 004e FA68     		ldr	r2, [r7, #12]
 4640 0050 1268     		ldr	r2, [r2]
 4641 0052 1268     		ldr	r2, [r2]
 4642 0054 22F04002 		bic	r2, r2, #64
 4643 0058 1A60     		str	r2, [r3]
 4644              	.L235:
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 4645              		.loc 1 2290 0
 4646 005a FB68     		ldr	r3, [r7, #12]
 4647 005c 0022     		movs	r2, #0
 4648 005e DA87     		strh	r2, [r3, #62]	@ movhi
2291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 4649              		.loc 1 2291 0
 4650 0060 FB68     		ldr	r3, [r7, #12]
 4651 0062 0122     		movs	r2, #1
 4652 0064 83F85120 		strb	r2, [r3, #81]
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if CRC error occurred */
2295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
2296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
ARM GAS  /tmp/cckea6X9.s 			page 122


2297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 4653              		.loc 1 2302 0
 4654 0068 FB68     		ldr	r3, [r7, #12]
 4655 006a 5B6D     		ldr	r3, [r3, #84]
 4656 006c 002B     		cmp	r3, #0
 4657 006e 03D0     		beq	.L234
2303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 4658              		.loc 1 2304 0
 4659 0070 F868     		ldr	r0, [r7, #12]
 4660 0072 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
2305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
 4661              		.loc 1 2305 0
 4662 0076 02E0     		b	.L233
 4663              	.L234:
2306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_RxCpltCallback(hspi);
 4664              		.loc 1 2308 0
 4665 0078 F868     		ldr	r0, [r7, #12]
 4666 007a FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 4667              	.L233:
2309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4668              		.loc 1 2309 0
 4669 007e 1037     		adds	r7, r7, #16
 4670              	.LCFI169:
 4671              		.cfi_def_cfa_offset 8
 4672 0080 BD46     		mov	sp, r7
 4673              	.LCFI170:
 4674              		.cfi_def_cfa_register 13
 4675              		@ sp needed
 4676 0082 80BD     		pop	{r7, pc}
 4677              		.cfi_endproc
 4678              	.LFE153:
 4680              		.section	.text.SPI_DMATransmitReceiveCplt,"ax",%progbits
 4681              		.align	2
 4682              		.thumb
 4683              		.thumb_func
 4685              	SPI_DMATransmitReceiveCplt:
 4686              	.LFB154:
2310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI transmit receive process complete callback.
2313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma)
2318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4687              		.loc 1 2318 0
 4688              		.cfi_startproc
 4689              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/cckea6X9.s 			page 123


 4690              		@ frame_needed = 1, uses_anonymous_args = 0
 4691 0000 80B5     		push	{r7, lr}
 4692              	.LCFI171:
 4693              		.cfi_def_cfa_offset 8
 4694              		.cfi_offset 7, -8
 4695              		.cfi_offset 14, -4
 4696 0002 84B0     		sub	sp, sp, #16
 4697              	.LCFI172:
 4698              		.cfi_def_cfa_offset 24
 4699 0004 00AF     		add	r7, sp, #0
 4700              	.LCFI173:
 4701              		.cfi_def_cfa_register 7
 4702 0006 7860     		str	r0, [r7, #4]
2319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 4703              		.loc 1 2319 0
 4704 0008 7B68     		ldr	r3, [r7, #4]
 4705 000a 9B6B     		ldr	r3, [r3, #56]
 4706 000c FB60     		str	r3, [r7, #12]
2320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart = 0U;
 4707              		.loc 1 2320 0
 4708 000e 0023     		movs	r3, #0
 4709 0010 BB60     		str	r3, [r7, #8]
2321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO int16_t tmpreg = 0U;
2323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 4710              		.loc 1 2325 0
 4711 0012 FFF7FEFF 		bl	HAL_GetTick
 4712 0016 B860     		str	r0, [r7, #8]
2326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hdma->Instance->CR & DMA_SxCR_CIRC) == 0U)
 4713              		.loc 1 2327 0
 4714 0018 7B68     		ldr	r3, [r7, #4]
 4715 001a 1B68     		ldr	r3, [r3]
 4716 001c 1B68     		ldr	r3, [r3]
 4717 001e 03F48073 		and	r3, r3, #256
 4718 0022 002B     		cmp	r3, #0
 4719 0024 27D1     		bne	.L239
2328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* CRC handling */
2331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait the CRC data */
2334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstart) !=
2335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Read CRC to Flush DR and RXNE flag */
2339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       tmpreg = hspi->Instance->DR;
2340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* To avoid GCC warning */
2341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       UNUSED(tmpreg);
2342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the end of the transaction */
2345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(SPI_CheckFlag_BSY(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
ARM GAS  /tmp/cckea6X9.s 			page 124


 4720              		.loc 1 2345 0
 4721 0026 F868     		ldr	r0, [r7, #12]
 4722 0028 6421     		movs	r1, #100
 4723 002a BA68     		ldr	r2, [r7, #8]
 4724 002c FFF7FEFF 		bl	SPI_CheckFlag_BSY
 4725 0030 0346     		mov	r3, r0
 4726 0032 002B     		cmp	r3, #0
 4727 0034 05D0     		beq	.L240
2346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 4728              		.loc 1 2347 0
 4729 0036 FB68     		ldr	r3, [r7, #12]
 4730 0038 5B6D     		ldr	r3, [r3, #84]
 4731 003a 43F02002 		orr	r2, r3, #32
 4732 003e FB68     		ldr	r3, [r7, #12]
 4733 0040 5A65     		str	r2, [r3, #84]
 4734              	.L240:
2348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable Rx/Tx DMA Request */
2351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 4735              		.loc 1 2351 0
 4736 0042 FB68     		ldr	r3, [r7, #12]
 4737 0044 1B68     		ldr	r3, [r3]
 4738 0046 FA68     		ldr	r2, [r7, #12]
 4739 0048 1268     		ldr	r2, [r2]
 4740 004a 5268     		ldr	r2, [r2, #4]
 4741 004c 22F00302 		bic	r2, r2, #3
 4742 0050 5A60     		str	r2, [r3, #4]
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 4743              		.loc 1 2353 0
 4744 0052 FB68     		ldr	r3, [r7, #12]
 4745 0054 0022     		movs	r2, #0
 4746 0056 DA86     		strh	r2, [r3, #54]	@ movhi
2354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 4747              		.loc 1 2354 0
 4748 0058 FB68     		ldr	r3, [r7, #12]
 4749 005a 0022     		movs	r2, #0
 4750 005c DA87     		strh	r2, [r3, #62]	@ movhi
2355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 4751              		.loc 1 2355 0
 4752 005e FB68     		ldr	r3, [r7, #12]
 4753 0060 0122     		movs	r2, #1
 4754 0062 83F85120 		strb	r2, [r3, #81]
2356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if CRC error occurred */
2359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
2360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 4755              		.loc 1 2366 0
ARM GAS  /tmp/cckea6X9.s 			page 125


 4756 0066 FB68     		ldr	r3, [r7, #12]
 4757 0068 5B6D     		ldr	r3, [r3, #84]
 4758 006a 002B     		cmp	r3, #0
 4759 006c 03D0     		beq	.L239
2367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 4760              		.loc 1 2368 0
 4761 006e F868     		ldr	r0, [r7, #12]
 4762 0070 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
2369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
 4763              		.loc 1 2369 0
 4764 0074 02E0     		b	.L238
 4765              	.L239:
2370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxRxCpltCallback(hspi);
 4766              		.loc 1 2372 0
 4767 0076 F868     		ldr	r0, [r7, #12]
 4768 0078 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 4769              	.L238:
2373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4770              		.loc 1 2373 0
 4771 007c 1037     		adds	r7, r7, #16
 4772              	.LCFI174:
 4773              		.cfi_def_cfa_offset 8
 4774 007e BD46     		mov	sp, r7
 4775              	.LCFI175:
 4776              		.cfi_def_cfa_register 13
 4777              		@ sp needed
 4778 0080 80BD     		pop	{r7, pc}
 4779              		.cfi_endproc
 4780              	.LFE154:
 4782 0082 00BF     		.section	.text.SPI_DMAHalfTransmitCplt,"ax",%progbits
 4783              		.align	2
 4784              		.thumb
 4785              		.thumb_func
 4787              	SPI_DMAHalfTransmitCplt:
 4788              	.LFB155:
2374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI half transmit process complete callback.
2377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma)
2382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4789              		.loc 1 2382 0
 4790              		.cfi_startproc
 4791              		@ args = 0, pretend = 0, frame = 16
 4792              		@ frame_needed = 1, uses_anonymous_args = 0
 4793 0000 80B5     		push	{r7, lr}
 4794              	.LCFI176:
 4795              		.cfi_def_cfa_offset 8
 4796              		.cfi_offset 7, -8
 4797              		.cfi_offset 14, -4
 4798 0002 84B0     		sub	sp, sp, #16
ARM GAS  /tmp/cckea6X9.s 			page 126


 4799              	.LCFI177:
 4800              		.cfi_def_cfa_offset 24
 4801 0004 00AF     		add	r7, sp, #0
 4802              	.LCFI178:
 4803              		.cfi_def_cfa_register 7
 4804 0006 7860     		str	r0, [r7, #4]
2383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 4805              		.loc 1 2383 0
 4806 0008 7B68     		ldr	r3, [r7, #4]
 4807 000a 9B6B     		ldr	r3, [r3, #56]
 4808 000c FB60     		str	r3, [r7, #12]
2384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxHalfCpltCallback(hspi);
 4809              		.loc 1 2385 0
 4810 000e F868     		ldr	r0, [r7, #12]
 4811 0010 FFF7FEFF 		bl	HAL_SPI_TxHalfCpltCallback
2386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4812              		.loc 1 2386 0
 4813 0014 1037     		adds	r7, r7, #16
 4814              	.LCFI179:
 4815              		.cfi_def_cfa_offset 8
 4816 0016 BD46     		mov	sp, r7
 4817              	.LCFI180:
 4818              		.cfi_def_cfa_register 13
 4819              		@ sp needed
 4820 0018 80BD     		pop	{r7, pc}
 4821              		.cfi_endproc
 4822              	.LFE155:
 4824 001a 00BF     		.section	.text.SPI_DMAHalfReceiveCplt,"ax",%progbits
 4825              		.align	2
 4826              		.thumb
 4827              		.thumb_func
 4829              	SPI_DMAHalfReceiveCplt:
 4830              	.LFB156:
2387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI half receive process complete callback
2390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma)
2395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4831              		.loc 1 2395 0
 4832              		.cfi_startproc
 4833              		@ args = 0, pretend = 0, frame = 16
 4834              		@ frame_needed = 1, uses_anonymous_args = 0
 4835 0000 80B5     		push	{r7, lr}
 4836              	.LCFI181:
 4837              		.cfi_def_cfa_offset 8
 4838              		.cfi_offset 7, -8
 4839              		.cfi_offset 14, -4
 4840 0002 84B0     		sub	sp, sp, #16
 4841              	.LCFI182:
 4842              		.cfi_def_cfa_offset 24
 4843 0004 00AF     		add	r7, sp, #0
 4844              	.LCFI183:
ARM GAS  /tmp/cckea6X9.s 			page 127


 4845              		.cfi_def_cfa_register 7
 4846 0006 7860     		str	r0, [r7, #4]
2396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 4847              		.loc 1 2396 0
 4848 0008 7B68     		ldr	r3, [r7, #4]
 4849 000a 9B6B     		ldr	r3, [r3, #56]
 4850 000c FB60     		str	r3, [r7, #12]
2397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_RxHalfCpltCallback(hspi);
 4851              		.loc 1 2398 0
 4852 000e F868     		ldr	r0, [r7, #12]
 4853 0010 FFF7FEFF 		bl	HAL_SPI_RxHalfCpltCallback
2399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4854              		.loc 1 2399 0
 4855 0014 1037     		adds	r7, r7, #16
 4856              	.LCFI184:
 4857              		.cfi_def_cfa_offset 8
 4858 0016 BD46     		mov	sp, r7
 4859              	.LCFI185:
 4860              		.cfi_def_cfa_register 13
 4861              		@ sp needed
 4862 0018 80BD     		pop	{r7, pc}
 4863              		.cfi_endproc
 4864              	.LFE156:
 4866 001a 00BF     		.section	.text.SPI_DMAHalfTransmitReceiveCplt,"ax",%progbits
 4867              		.align	2
 4868              		.thumb
 4869              		.thumb_func
 4871              	SPI_DMAHalfTransmitReceiveCplt:
 4872              	.LFB157:
2400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI half transmit receive process complete callback.
2403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma)
2408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4873              		.loc 1 2408 0
 4874              		.cfi_startproc
 4875              		@ args = 0, pretend = 0, frame = 16
 4876              		@ frame_needed = 1, uses_anonymous_args = 0
 4877 0000 80B5     		push	{r7, lr}
 4878              	.LCFI186:
 4879              		.cfi_def_cfa_offset 8
 4880              		.cfi_offset 7, -8
 4881              		.cfi_offset 14, -4
 4882 0002 84B0     		sub	sp, sp, #16
 4883              	.LCFI187:
 4884              		.cfi_def_cfa_offset 24
 4885 0004 00AF     		add	r7, sp, #0
 4886              	.LCFI188:
 4887              		.cfi_def_cfa_register 7
 4888 0006 7860     		str	r0, [r7, #4]
2409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 4889              		.loc 1 2409 0
ARM GAS  /tmp/cckea6X9.s 			page 128


 4890 0008 7B68     		ldr	r3, [r7, #4]
 4891 000a 9B6B     		ldr	r3, [r3, #56]
 4892 000c FB60     		str	r3, [r7, #12]
2410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxRxHalfCpltCallback(hspi);
 4893              		.loc 1 2411 0
 4894 000e F868     		ldr	r0, [r7, #12]
 4895 0010 FFF7FEFF 		bl	HAL_SPI_TxRxHalfCpltCallback
2412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4896              		.loc 1 2412 0
 4897 0014 1037     		adds	r7, r7, #16
 4898              	.LCFI189:
 4899              		.cfi_def_cfa_offset 8
 4900 0016 BD46     		mov	sp, r7
 4901              	.LCFI190:
 4902              		.cfi_def_cfa_register 13
 4903              		@ sp needed
 4904 0018 80BD     		pop	{r7, pc}
 4905              		.cfi_endproc
 4906              	.LFE157:
 4908 001a 00BF     		.section	.text.SPI_DMAError,"ax",%progbits
 4909              		.align	2
 4910              		.thumb
 4911              		.thumb_func
 4913              	SPI_DMAError:
 4914              	.LFB158:
2413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI communication error callback.
2416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma)
2421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4915              		.loc 1 2421 0
 4916              		.cfi_startproc
 4917              		@ args = 0, pretend = 0, frame = 16
 4918              		@ frame_needed = 1, uses_anonymous_args = 0
 4919 0000 80B5     		push	{r7, lr}
 4920              	.LCFI191:
 4921              		.cfi_def_cfa_offset 8
 4922              		.cfi_offset 7, -8
 4923              		.cfi_offset 14, -4
 4924 0002 84B0     		sub	sp, sp, #16
 4925              	.LCFI192:
 4926              		.cfi_def_cfa_offset 24
 4927 0004 00AF     		add	r7, sp, #0
 4928              	.LCFI193:
 4929              		.cfi_def_cfa_register 7
 4930 0006 7860     		str	r0, [r7, #4]
2422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = (SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 4931              		.loc 1 2422 0
 4932 0008 7B68     		ldr	r3, [r7, #4]
 4933 000a 9B6B     		ldr	r3, [r3, #56]
 4934 000c FB60     		str	r3, [r7, #12]
2423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  /tmp/cckea6X9.s 			page 129


2424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Stop the disable DMA transfer on SPI side */
2425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 4935              		.loc 1 2425 0
 4936 000e FB68     		ldr	r3, [r7, #12]
 4937 0010 1B68     		ldr	r3, [r3]
 4938 0012 FA68     		ldr	r2, [r7, #12]
 4939 0014 1268     		ldr	r2, [r2]
 4940 0016 5268     		ldr	r2, [r2, #4]
 4941 0018 22F00302 		bic	r2, r2, #3
 4942 001c 5A60     		str	r2, [r3, #4]
2426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 4943              		.loc 1 2427 0
 4944 001e FB68     		ldr	r3, [r7, #12]
 4945 0020 5B6D     		ldr	r3, [r3, #84]
 4946 0022 43F01002 		orr	r2, r3, #16
 4947 0026 FB68     		ldr	r3, [r7, #12]
 4948 0028 5A65     		str	r2, [r3, #84]
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 4949              		.loc 1 2428 0
 4950 002a FB68     		ldr	r3, [r7, #12]
 4951 002c 0122     		movs	r2, #1
 4952 002e 83F85120 		strb	r2, [r3, #81]
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
 4953              		.loc 1 2429 0
 4954 0032 F868     		ldr	r0, [r7, #12]
 4955 0034 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
2430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 4956              		.loc 1 2430 0
 4957 0038 1037     		adds	r7, r7, #16
 4958              	.LCFI194:
 4959              		.cfi_def_cfa_offset 8
 4960 003a BD46     		mov	sp, r7
 4961              	.LCFI195:
 4962              		.cfi_def_cfa_register 13
 4963              		@ sp needed
 4964 003c 80BD     		pop	{r7, pc}
 4965              		.cfi_endproc
 4966              	.LFE158:
 4968 003e 00BF     		.section	.text.SPI_DMAAbortOnError,"ax",%progbits
 4969              		.align	2
 4970              		.thumb
 4971              		.thumb_func
 4973              	SPI_DMAAbortOnError:
 4974              	.LFB159:
2431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI communication abort callback, when initiated by HAL services on Error
2434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         (To be called at end of DMA Abort procedure following error occurrence).
2435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma DMA handle.
2436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma)
2439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 4975              		.loc 1 2439 0
 4976              		.cfi_startproc
 4977              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/cckea6X9.s 			page 130


 4978              		@ frame_needed = 1, uses_anonymous_args = 0
 4979 0000 80B5     		push	{r7, lr}
 4980              	.LCFI196:
 4981              		.cfi_def_cfa_offset 8
 4982              		.cfi_offset 7, -8
 4983              		.cfi_offset 14, -4
 4984 0002 84B0     		sub	sp, sp, #16
 4985              	.LCFI197:
 4986              		.cfi_def_cfa_offset 24
 4987 0004 00AF     		add	r7, sp, #0
 4988              	.LCFI198:
 4989              		.cfi_def_cfa_register 7
 4990 0006 7860     		str	r0, [r7, #4]
2440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 4991              		.loc 1 2440 0
 4992 0008 7B68     		ldr	r3, [r7, #4]
 4993 000a 9B6B     		ldr	r3, [r3, #56]
 4994 000c FB60     		str	r3, [r7, #12]
2441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 4995              		.loc 1 2441 0
 4996 000e FB68     		ldr	r3, [r7, #12]
 4997 0010 0022     		movs	r2, #0
 4998 0012 DA87     		strh	r2, [r3, #62]	@ movhi
2442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 4999              		.loc 1 2442 0
 5000 0014 FB68     		ldr	r3, [r7, #12]
 5001 0016 0022     		movs	r2, #0
 5002 0018 DA86     		strh	r2, [r3, #54]	@ movhi
2443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
 5003              		.loc 1 2444 0
 5004 001a F868     		ldr	r0, [r7, #12]
 5005 001c FFF7FEFF 		bl	HAL_SPI_ErrorCallback
2445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5006              		.loc 1 2445 0
 5007 0020 1037     		adds	r7, r7, #16
 5008              	.LCFI199:
 5009              		.cfi_def_cfa_offset 8
 5010 0022 BD46     		mov	sp, r7
 5011              	.LCFI200:
 5012              		.cfi_def_cfa_register 13
 5013              		@ sp needed
 5014 0024 80BD     		pop	{r7, pc}
 5015              		.cfi_endproc
 5016              	.LFE159:
 5018 0026 00BF     		.section	.text.SPI_DMATxAbortCallback,"ax",%progbits
 5019              		.align	2
 5020              		.thumb
 5021              		.thumb_func
 5023              	SPI_DMATxAbortCallback:
 5024              	.LFB160:
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI Tx communication abort callback, when initiated by user
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         (To be called at end of DMA Tx Abort procedure following user abort request).
2450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
2451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         Abort still ongoing for Rx DMA Handle.
ARM GAS  /tmp/cckea6X9.s 			page 131


2452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma DMA handle.
2453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma)
2456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 5025              		.loc 1 2456 0
 5026              		.cfi_startproc
 5027              		@ args = 0, pretend = 0, frame = 24
 5028              		@ frame_needed = 1, uses_anonymous_args = 0
 5029 0000 80B5     		push	{r7, lr}
 5030              	.LCFI201:
 5031              		.cfi_def_cfa_offset 8
 5032              		.cfi_offset 7, -8
 5033              		.cfi_offset 14, -4
 5034 0002 86B0     		sub	sp, sp, #24
 5035              	.LCFI202:
 5036              		.cfi_def_cfa_offset 32
 5037 0004 00AF     		add	r7, sp, #0
 5038              	.LCFI203:
 5039              		.cfi_def_cfa_register 7
 5040 0006 7860     		str	r0, [r7, #4]
2457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 5041              		.loc 1 2457 0
 5042 0008 274B     		ldr	r3, .L253
 5043 000a 1B68     		ldr	r3, [r3]
 5044 000c 274A     		ldr	r2, .L253+4
 5045 000e A2FB0323 		umull	r2, r3, r2, r3
 5046 0012 5B0A     		lsrs	r3, r3, #9
 5047 0014 6422     		movs	r2, #100
 5048 0016 02FB03F3 		mul	r3, r2, r3
 5049 001a 3B61     		str	r3, [r7, #16]
2458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 5050              		.loc 1 2458 0
 5051 001c 7B68     		ldr	r3, [r7, #4]
 5052 001e 9B6B     		ldr	r3, [r3, #56]
 5053 0020 7B61     		str	r3, [r7, #20]
2459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
 5054              		.loc 1 2460 0
 5055 0022 7B69     		ldr	r3, [r7, #20]
 5056 0024 9B6C     		ldr	r3, [r3, #72]
 5057 0026 0022     		movs	r2, #0
 5058 0028 1A65     		str	r2, [r3, #80]
2461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable Tx DMA Request */
2463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN );
 5059              		.loc 1 2463 0
 5060 002a 7B69     		ldr	r3, [r7, #20]
 5061 002c 1B68     		ldr	r3, [r3]
 5062 002e 7A69     		ldr	r2, [r7, #20]
 5063 0030 1268     		ldr	r2, [r2]
 5064 0032 5268     		ldr	r2, [r2, #4]
 5065 0034 22F00202 		bic	r2, r2, #2
 5066 0038 5A60     		str	r2, [r3, #4]
 5067              	.L250:
2464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag is set */
ARM GAS  /tmp/cckea6X9.s 			page 132


2466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   do
2467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(count-- == 0U)
 5068              		.loc 1 2468 0
 5069 003a 3B69     		ldr	r3, [r7, #16]
 5070 003c 5A1E     		subs	r2, r3, #1
 5071 003e 3A61     		str	r2, [r7, #16]
 5072 0040 002B     		cmp	r3, #0
 5073 0042 06D1     		bne	.L248
2469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 5074              		.loc 1 2470 0
 5075 0044 7B69     		ldr	r3, [r7, #20]
 5076 0046 5B6D     		ldr	r3, [r3, #84]
 5077 0048 43F02002 		orr	r2, r3, #32
 5078 004c 7B69     		ldr	r3, [r7, #20]
 5079 004e 5A65     		str	r2, [r3, #84]
2471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       break;
 5080              		.loc 1 2471 0
 5081 0050 06E0     		b	.L249
 5082              	.L248:
2472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   while((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 5083              		.loc 1 2474 0
 5084 0052 7B69     		ldr	r3, [r7, #20]
 5085 0054 1B68     		ldr	r3, [r3]
 5086 0056 9B68     		ldr	r3, [r3, #8]
 5087 0058 03F00203 		and	r3, r3, #2
 5088 005c 002B     		cmp	r3, #0
 5089 005e ECD0     		beq	.L250
 5090              	.L249:
2475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
2477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->hdmarx != NULL)
 5091              		.loc 1 2477 0
 5092 0060 7B69     		ldr	r3, [r7, #20]
 5093 0062 DB6C     		ldr	r3, [r3, #76]
 5094 0064 002B     		cmp	r3, #0
 5095 0066 05D0     		beq	.L251
2478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->hdmarx->XferAbortCallback != NULL)
 5096              		.loc 1 2479 0
 5097 0068 7B69     		ldr	r3, [r7, #20]
 5098 006a DB6C     		ldr	r3, [r3, #76]
 5099 006c 1B6D     		ldr	r3, [r3, #80]
 5100 006e 002B     		cmp	r3, #0
 5101 0070 00D0     		beq	.L251
2480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
 5102              		.loc 1 2481 0
 5103 0072 16E0     		b	.L247
 5104              	.L251:
2482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
2485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA channels are aborted, call user Abort Complete callba
ARM GAS  /tmp/cckea6X9.s 			page 133


2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 5105              		.loc 1 2486 0
 5106 0074 7B69     		ldr	r3, [r7, #20]
 5107 0076 0022     		movs	r2, #0
 5108 0078 DA87     		strh	r2, [r3, #62]	@ movhi
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 5109              		.loc 1 2487 0
 5110 007a 7B69     		ldr	r3, [r7, #20]
 5111 007c 0022     		movs	r2, #0
 5112 007e DA86     		strh	r2, [r3, #54]	@ movhi
2488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset errorCode */
2490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 5113              		.loc 1 2490 0
 5114 0080 7B69     		ldr	r3, [r7, #20]
 5115 0082 0022     		movs	r2, #0
 5116 0084 5A65     		str	r2, [r3, #84]
 5117              	.LBB13:
2491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
2493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 5118              		.loc 1 2493 0
 5119 0086 0023     		movs	r3, #0
 5120 0088 FB60     		str	r3, [r7, #12]
 5121 008a 7B69     		ldr	r3, [r7, #20]
 5122 008c 1B68     		ldr	r3, [r3]
 5123 008e 9B68     		ldr	r3, [r3, #8]
 5124 0090 FB60     		str	r3, [r7, #12]
 5125 0092 FB68     		ldr	r3, [r7, #12]
 5126              	.LBE13:
2494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Restore hspi->State to Ready */
2496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
 5127              		.loc 1 2496 0
 5128 0094 7B69     		ldr	r3, [r7, #20]
 5129 0096 0122     		movs	r2, #1
 5130 0098 83F85120 		strb	r2, [r3, #81]
2497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user Abort complete callback */
2499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
 5131              		.loc 1 2499 0
 5132 009c 7869     		ldr	r0, [r7, #20]
 5133 009e FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 5134              	.L247:
2500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5135              		.loc 1 2500 0
 5136 00a2 1837     		adds	r7, r7, #24
 5137              	.LCFI204:
 5138              		.cfi_def_cfa_offset 8
 5139 00a4 BD46     		mov	sp, r7
 5140              	.LCFI205:
 5141              		.cfi_def_cfa_register 13
 5142              		@ sp needed
 5143 00a6 80BD     		pop	{r7, pc}
 5144              	.L254:
 5145              		.align	2
 5146              	.L253:
ARM GAS  /tmp/cckea6X9.s 			page 134


 5147 00a8 00000000 		.word	SystemCoreClock
 5148 00ac F1197605 		.word	91625969
 5149              		.cfi_endproc
 5150              	.LFE160:
 5152              		.section	.text.SPI_DMARxAbortCallback,"ax",%progbits
 5153              		.align	2
 5154              		.thumb
 5155              		.thumb_func
 5157              	SPI_DMARxAbortCallback:
 5158              	.LFB161:
2501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI Rx communication abort callback, when initiated by user
2504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         (To be called at end of DMA Rx Abort procedure following user abort request).
2505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
2506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         Abort still ongoing for Tx DMA Handle.
2507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma DMA handle.
2508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma)
2511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 5159              		.loc 1 2511 0
 5160              		.cfi_startproc
 5161              		@ args = 0, pretend = 0, frame = 24
 5162              		@ frame_needed = 1, uses_anonymous_args = 0
 5163 0000 80B5     		push	{r7, lr}
 5164              	.LCFI206:
 5165              		.cfi_def_cfa_offset 8
 5166              		.cfi_offset 7, -8
 5167              		.cfi_offset 14, -4
 5168 0002 86B0     		sub	sp, sp, #24
 5169              	.LCFI207:
 5170              		.cfi_def_cfa_offset 32
 5171 0004 00AF     		add	r7, sp, #0
 5172              	.LCFI208:
 5173              		.cfi_def_cfa_register 7
 5174 0006 7860     		str	r0, [r7, #4]
2512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 5175              		.loc 1 2512 0
 5176 0008 7B68     		ldr	r3, [r7, #4]
 5177 000a 9B6B     		ldr	r3, [r3, #56]
 5178 000c 7B61     		str	r3, [r7, #20]
2513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable SPI Peripheral */
2515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 5179              		.loc 1 2515 0
 5180 000e 7B69     		ldr	r3, [r7, #20]
 5181 0010 1B68     		ldr	r3, [r3]
 5182 0012 7A69     		ldr	r2, [r7, #20]
 5183 0014 1268     		ldr	r2, [r2]
 5184 0016 1268     		ldr	r2, [r2]
 5185 0018 22F04002 		bic	r2, r2, #64
 5186 001c 1A60     		str	r2, [r3]
2516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
 5187              		.loc 1 2517 0
 5188 001e 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/cckea6X9.s 			page 135


 5189 0020 DB6C     		ldr	r3, [r3, #76]
 5190 0022 0022     		movs	r2, #0
 5191 0024 1A65     		str	r2, [r3, #80]
2518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable Rx DMA Request */
2520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
 5192              		.loc 1 2520 0
 5193 0026 7B69     		ldr	r3, [r7, #20]
 5194 0028 1B68     		ldr	r3, [r3]
 5195 002a 7A69     		ldr	r2, [r7, #20]
 5196 002c 1268     		ldr	r2, [r2]
 5197 002e 5268     		ldr	r2, [r2, #4]
 5198 0030 22F00102 		bic	r2, r2, #1
 5199 0034 5A60     		str	r2, [r3, #4]
2521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
2523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->hdmatx != NULL)
 5200              		.loc 1 2523 0
 5201 0036 7B69     		ldr	r3, [r7, #20]
 5202 0038 9B6C     		ldr	r3, [r3, #72]
 5203 003a 002B     		cmp	r3, #0
 5204 003c 05D0     		beq	.L256
2524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->hdmatx->XferAbortCallback != NULL)
 5205              		.loc 1 2525 0
 5206 003e 7B69     		ldr	r3, [r7, #20]
 5207 0040 9B6C     		ldr	r3, [r3, #72]
 5208 0042 1B6D     		ldr	r3, [r3, #80]
 5209 0044 002B     		cmp	r3, #0
 5210 0046 00D0     		beq	.L256
2526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
 5211              		.loc 1 2527 0
 5212 0048 21E0     		b	.L255
 5213              	.L256:
2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA channels are aborted, call user Abort Complete callba
2532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 5214              		.loc 1 2532 0
 5215 004a 7B69     		ldr	r3, [r7, #20]
 5216 004c 0022     		movs	r2, #0
 5217 004e DA87     		strh	r2, [r3, #62]	@ movhi
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 5218              		.loc 1 2533 0
 5219 0050 7B69     		ldr	r3, [r7, #20]
 5220 0052 0022     		movs	r2, #0
 5221 0054 DA86     		strh	r2, [r3, #54]	@ movhi
2534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset errorCode */
2536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 5222              		.loc 1 2536 0
 5223 0056 7B69     		ldr	r3, [r7, #20]
 5224 0058 0022     		movs	r2, #0
 5225 005a 5A65     		str	r2, [r3, #84]
 5226              	.LBB14:
ARM GAS  /tmp/cckea6X9.s 			page 136


2537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
2539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
 5227              		.loc 1 2539 0
 5228 005c 0023     		movs	r3, #0
 5229 005e 3B61     		str	r3, [r7, #16]
 5230 0060 7B69     		ldr	r3, [r7, #20]
 5231 0062 1B68     		ldr	r3, [r3]
 5232 0064 DB68     		ldr	r3, [r3, #12]
 5233 0066 3B61     		str	r3, [r7, #16]
 5234 0068 7B69     		ldr	r3, [r7, #20]
 5235 006a 1B68     		ldr	r3, [r3]
 5236 006c 9B68     		ldr	r3, [r3, #8]
 5237 006e 3B61     		str	r3, [r7, #16]
 5238 0070 3B69     		ldr	r3, [r7, #16]
 5239              	.LBE14:
 5240              	.LBB15:
2540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);  
 5241              		.loc 1 2540 0
 5242 0072 0023     		movs	r3, #0
 5243 0074 FB60     		str	r3, [r7, #12]
 5244 0076 7B69     		ldr	r3, [r7, #20]
 5245 0078 1B68     		ldr	r3, [r3]
 5246 007a 9B68     		ldr	r3, [r3, #8]
 5247 007c FB60     		str	r3, [r7, #12]
 5248 007e FB68     		ldr	r3, [r7, #12]
 5249              	.LBE15:
2541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Restore hspi->State to Ready */
2543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
 5250              		.loc 1 2543 0
 5251 0080 7B69     		ldr	r3, [r7, #20]
 5252 0082 0122     		movs	r2, #1
 5253 0084 83F85120 		strb	r2, [r3, #81]
2544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user Abort complete callback */
2546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
 5254              		.loc 1 2546 0
 5255 0088 7869     		ldr	r0, [r7, #20]
 5256 008a FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 5257              	.L255:
2547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5258              		.loc 1 2547 0
 5259 008e 1837     		adds	r7, r7, #24
 5260              	.LCFI209:
 5261              		.cfi_def_cfa_offset 8
 5262 0090 BD46     		mov	sp, r7
 5263              	.LCFI210:
 5264              		.cfi_def_cfa_register 13
 5265              		@ sp needed
 5266 0092 80BD     		pop	{r7, pc}
 5267              		.cfi_endproc
 5268              	.LFE161:
 5270              		.section	.text.SPI_2linesRxISR_8BIT,"ax",%progbits
 5271              		.align	2
 5272              		.thumb
 5273              		.thumb_func
ARM GAS  /tmp/cckea6X9.s 			page 137


 5275              	SPI_2linesRxISR_8BIT:
 5276              	.LFB162:
2548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
2551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
2556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 5277              		.loc 1 2556 0
 5278              		.cfi_startproc
 5279              		@ args = 0, pretend = 0, frame = 8
 5280              		@ frame_needed = 1, uses_anonymous_args = 0
 5281 0000 80B5     		push	{r7, lr}
 5282              	.LCFI211:
 5283              		.cfi_def_cfa_offset 8
 5284              		.cfi_offset 7, -8
 5285              		.cfi_offset 14, -4
 5286 0002 82B0     		sub	sp, sp, #8
 5287              	.LCFI212:
 5288              		.cfi_def_cfa_offset 16
 5289 0004 00AF     		add	r7, sp, #0
 5290              	.LCFI213:
 5291              		.cfi_def_cfa_register 7
 5292 0006 7860     		str	r0, [r7, #4]
2557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 8bit mode */
2558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *hspi->pRxBuffPtr++ = *((__IO uint8_t *)&hspi->Instance->DR);
 5293              		.loc 1 2558 0
 5294 0008 7B68     		ldr	r3, [r7, #4]
 5295 000a 9B6B     		ldr	r3, [r3, #56]
 5296 000c 591C     		adds	r1, r3, #1
 5297 000e 7A68     		ldr	r2, [r7, #4]
 5298 0010 9163     		str	r1, [r2, #56]
 5299 0012 7A68     		ldr	r2, [r7, #4]
 5300 0014 1268     		ldr	r2, [r2]
 5301 0016 0C32     		adds	r2, r2, #12
 5302 0018 1278     		ldrb	r2, [r2]
 5303 001a D2B2     		uxtb	r2, r2
 5304 001c 1A70     		strb	r2, [r3]
2559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
 5305              		.loc 1 2559 0
 5306 001e 7B68     		ldr	r3, [r7, #4]
 5307 0020 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 5308 0022 9BB2     		uxth	r3, r3
 5309 0024 013B     		subs	r3, r3, #1
 5310 0026 9AB2     		uxth	r2, r3
 5311 0028 7B68     		ldr	r3, [r7, #4]
 5312 002a DA87     		strh	r2, [r3, #62]	@ movhi
2560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* check end of the reception */
2562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->RxXferCount == 0U)
 5313              		.loc 1 2562 0
 5314 002c 7B68     		ldr	r3, [r7, #4]
 5315 002e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 5316 0030 9BB2     		uxth	r3, r3
ARM GAS  /tmp/cckea6X9.s 			page 138


 5317 0032 002B     		cmp	r3, #0
 5318 0034 0FD1     		bne	.L258
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_8BITCRC;
2568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
2569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable RXNE interrupt */
2573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 5319              		.loc 1 2573 0
 5320 0036 7B68     		ldr	r3, [r7, #4]
 5321 0038 1B68     		ldr	r3, [r3]
 5322 003a 7A68     		ldr	r2, [r7, #4]
 5323 003c 1268     		ldr	r2, [r2]
 5324 003e 5268     		ldr	r2, [r2, #4]
 5325 0040 22F06002 		bic	r2, r2, #96
 5326 0044 5A60     		str	r2, [r3, #4]
2574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->TxXferCount == 0U)
 5327              		.loc 1 2575 0
 5328 0046 7B68     		ldr	r3, [r7, #4]
 5329 0048 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 5330 004a 9BB2     		uxth	r3, r3
 5331 004c 002B     		cmp	r3, #0
 5332 004e 02D1     		bne	.L258
2576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 5333              		.loc 1 2577 0
 5334 0050 7868     		ldr	r0, [r7, #4]
 5335 0052 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5336              	.L258:
2578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5337              		.loc 1 2580 0
 5338 0056 0837     		adds	r7, r7, #8
 5339              	.LCFI214:
 5340              		.cfi_def_cfa_offset 8
 5341 0058 BD46     		mov	sp, r7
 5342              	.LCFI215:
 5343              		.cfi_def_cfa_register 13
 5344              		@ sp needed
 5345 005a 80BD     		pop	{r7, pc}
 5346              		.cfi_endproc
 5347              	.LFE162:
 5349              		.section	.text.SPI_2linesTxISR_8BIT,"ax",%progbits
 5350              		.align	2
 5351              		.thumb
 5352              		.thumb_func
 5354              	SPI_2linesTxISR_8BIT:
 5355              	.LFB163:
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
ARM GAS  /tmp/cckea6X9.s 			page 139


2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
2590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint8_t tmpreg = 0U;
2592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Read data register to flush CRC */
2594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpreg = *((__IO uint8_t *)&hspi->Instance->DR);
2595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* To avoid GCC warning */
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(tmpreg);
2599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    /* Disable RXNE interrupt */
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
2602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->TxXferCount == 0U)
2604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_CloseRxTx_ISR(hspi);
2606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Tx 8-bit handler for Transmit and Receive in Interrupt mode.
2612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
2617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 5356              		.loc 1 2617 0
 5357              		.cfi_startproc
 5358              		@ args = 0, pretend = 0, frame = 8
 5359              		@ frame_needed = 1, uses_anonymous_args = 0
 5360 0000 80B5     		push	{r7, lr}
 5361              	.LCFI216:
 5362              		.cfi_def_cfa_offset 8
 5363              		.cfi_offset 7, -8
 5364              		.cfi_offset 14, -4
 5365 0002 82B0     		sub	sp, sp, #8
 5366              	.LCFI217:
 5367              		.cfi_def_cfa_offset 16
 5368 0004 00AF     		add	r7, sp, #0
 5369              	.LCFI218:
 5370              		.cfi_def_cfa_register 7
 5371 0006 7860     		str	r0, [r7, #4]
2618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 5372              		.loc 1 2618 0
 5373 0008 7B68     		ldr	r3, [r7, #4]
 5374 000a 1B68     		ldr	r3, [r3]
 5375 000c 03F10C02 		add	r2, r3, #12
 5376 0010 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cckea6X9.s 			page 140


 5377 0012 1B6B     		ldr	r3, [r3, #48]
 5378 0014 581C     		adds	r0, r3, #1
 5379 0016 7968     		ldr	r1, [r7, #4]
 5380 0018 0863     		str	r0, [r1, #48]
 5381 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5382 001c 1370     		strb	r3, [r2]
2619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
 5383              		.loc 1 2619 0
 5384 001e 7B68     		ldr	r3, [r7, #4]
 5385 0020 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 5386 0022 9BB2     		uxth	r3, r3
 5387 0024 013B     		subs	r3, r3, #1
 5388 0026 9AB2     		uxth	r2, r3
 5389 0028 7B68     		ldr	r3, [r7, #4]
 5390 002a DA86     		strh	r2, [r3, #54]	@ movhi
2620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* check the end of the transmission */
2622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->TxXferCount == 0U)
 5391              		.loc 1 2622 0
 5392 002c 7B68     		ldr	r3, [r7, #4]
 5393 002e DB8E     		ldrh	r3, [r3, #54]	@ movhi
 5394 0030 9BB2     		uxth	r3, r3
 5395 0032 002B     		cmp	r3, #0
 5396 0034 0FD1     		bne	.L260
2623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
2629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
2630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable TXE interrupt */
2634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 5397              		.loc 1 2634 0
 5398 0036 7B68     		ldr	r3, [r7, #4]
 5399 0038 1B68     		ldr	r3, [r3]
 5400 003a 7A68     		ldr	r2, [r7, #4]
 5401 003c 1268     		ldr	r2, [r2]
 5402 003e 5268     		ldr	r2, [r2, #4]
 5403 0040 22F08002 		bic	r2, r2, #128
 5404 0044 5A60     		str	r2, [r3, #4]
2635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->RxXferCount == 0U)
 5405              		.loc 1 2636 0
 5406 0046 7B68     		ldr	r3, [r7, #4]
 5407 0048 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 5408 004a 9BB2     		uxth	r3, r3
 5409 004c 002B     		cmp	r3, #0
 5410 004e 02D1     		bne	.L260
2637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 5411              		.loc 1 2638 0
 5412 0050 7868     		ldr	r0, [r7, #4]
 5413 0052 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
ARM GAS  /tmp/cckea6X9.s 			page 141


 5414              	.L260:
2639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5415              		.loc 1 2641 0
 5416 0056 0837     		adds	r7, r7, #8
 5417              	.LCFI219:
 5418              		.cfi_def_cfa_offset 8
 5419 0058 BD46     		mov	sp, r7
 5420              	.LCFI220:
 5421              		.cfi_def_cfa_register 13
 5422              		@ sp needed
 5423 005a 80BD     		pop	{r7, pc}
 5424              		.cfi_endproc
 5425              	.LFE163:
 5427              		.section	.text.SPI_2linesRxISR_16BIT,"ax",%progbits
 5428              		.align	2
 5429              		.thumb
 5430              		.thumb_func
 5432              	SPI_2linesRxISR_16BIT:
 5433              	.LFB164:
2642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Rx 16-bit handler for Transmit and Receive in Interrupt mode.
2645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
2650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 5434              		.loc 1 2650 0
 5435              		.cfi_startproc
 5436              		@ args = 0, pretend = 0, frame = 8
 5437              		@ frame_needed = 1, uses_anonymous_args = 0
 5438 0000 80B5     		push	{r7, lr}
 5439              	.LCFI221:
 5440              		.cfi_def_cfa_offset 8
 5441              		.cfi_offset 7, -8
 5442              		.cfi_offset 14, -4
 5443 0002 82B0     		sub	sp, sp, #8
 5444              	.LCFI222:
 5445              		.cfi_def_cfa_offset 16
 5446 0004 00AF     		add	r7, sp, #0
 5447              	.LCFI223:
 5448              		.cfi_def_cfa_register 7
 5449 0006 7860     		str	r0, [r7, #4]
2651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
2652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
 5450              		.loc 1 2652 0
 5451 0008 7B68     		ldr	r3, [r7, #4]
 5452 000a 9B6B     		ldr	r3, [r3, #56]
 5453 000c 7A68     		ldr	r2, [r7, #4]
 5454 000e 1268     		ldr	r2, [r2]
 5455 0010 D268     		ldr	r2, [r2, #12]
 5456 0012 92B2     		uxth	r2, r2
 5457 0014 1A80     		strh	r2, [r3]	@ movhi
2653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
ARM GAS  /tmp/cckea6X9.s 			page 142


 5458              		.loc 1 2653 0
 5459 0016 7B68     		ldr	r3, [r7, #4]
 5460 0018 9B6B     		ldr	r3, [r3, #56]
 5461 001a 9A1C     		adds	r2, r3, #2
 5462 001c 7B68     		ldr	r3, [r7, #4]
 5463 001e 9A63     		str	r2, [r3, #56]
2654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
 5464              		.loc 1 2654 0
 5465 0020 7B68     		ldr	r3, [r7, #4]
 5466 0022 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 5467 0024 9BB2     		uxth	r3, r3
 5468 0026 013B     		subs	r3, r3, #1
 5469 0028 9AB2     		uxth	r2, r3
 5470 002a 7B68     		ldr	r3, [r7, #4]
 5471 002c DA87     		strh	r2, [r3, #62]	@ movhi
2655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->RxXferCount == 0U)
 5472              		.loc 1 2656 0
 5473 002e 7B68     		ldr	r3, [r7, #4]
 5474 0030 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 5475 0032 9BB2     		uxth	r3, r3
 5476 0034 002B     		cmp	r3, #0
 5477 0036 0FD1     		bne	.L262
2657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_16BITCRC;
2662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
2663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable RXNE interrupt */
2667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
 5478              		.loc 1 2667 0
 5479 0038 7B68     		ldr	r3, [r7, #4]
 5480 003a 1B68     		ldr	r3, [r3]
 5481 003c 7A68     		ldr	r2, [r7, #4]
 5482 003e 1268     		ldr	r2, [r2]
 5483 0040 5268     		ldr	r2, [r2, #4]
 5484 0042 22F04002 		bic	r2, r2, #64
 5485 0046 5A60     		str	r2, [r3, #4]
2668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->TxXferCount == 0U)
 5486              		.loc 1 2669 0
 5487 0048 7B68     		ldr	r3, [r7, #4]
 5488 004a DB8E     		ldrh	r3, [r3, #54]	@ movhi
 5489 004c 9BB2     		uxth	r3, r3
 5490 004e 002B     		cmp	r3, #0
 5491 0050 02D1     		bne	.L262
2670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 5492              		.loc 1 2671 0
 5493 0052 7868     		ldr	r0, [r7, #4]
 5494 0054 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5495              	.L262:
2672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  /tmp/cckea6X9.s 			page 143


2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5496              		.loc 1 2674 0
 5497 0058 0837     		adds	r7, r7, #8
 5498              	.LCFI224:
 5499              		.cfi_def_cfa_offset 8
 5500 005a BD46     		mov	sp, r7
 5501              	.LCFI225:
 5502              		.cfi_def_cfa_register 13
 5503              		@ sp needed
 5504 005c 80BD     		pop	{r7, pc}
 5505              		.cfi_endproc
 5506              	.LFE164:
 5508              		.section	.text.SPI_2linesTxISR_16BIT,"ax",%progbits
 5509              		.align	2
 5510              		.thumb
 5511              		.thumb_func
 5513              	SPI_2linesTxISR_16BIT:
 5514              	.LFB165:
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive for Transmit and Receive in Interrupt mode.
2679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
2684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
2686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint16_t tmpreg = 0U;
2687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Read data register to flush CRC */
2689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpreg = hspi->Instance->DR;
2690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* To avoid GCC warning */
2692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(tmpreg);
2693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable RXNE interrupt */
2695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
2696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_CloseRxTx_ISR(hspi);
2698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Tx 16-bit handler for Transmit and Receive in Interrupt mode.
2703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 5515              		.loc 1 2708 0
 5516              		.cfi_startproc
 5517              		@ args = 0, pretend = 0, frame = 8
 5518              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/cckea6X9.s 			page 144


 5519 0000 80B5     		push	{r7, lr}
 5520              	.LCFI226:
 5521              		.cfi_def_cfa_offset 8
 5522              		.cfi_offset 7, -8
 5523              		.cfi_offset 14, -4
 5524 0002 82B0     		sub	sp, sp, #8
 5525              	.LCFI227:
 5526              		.cfi_def_cfa_offset 16
 5527 0004 00AF     		add	r7, sp, #0
 5528              	.LCFI228:
 5529              		.cfi_def_cfa_register 7
 5530 0006 7860     		str	r0, [r7, #4]
2709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 5531              		.loc 1 2710 0
 5532 0008 7B68     		ldr	r3, [r7, #4]
 5533 000a 1B68     		ldr	r3, [r3]
 5534 000c 7A68     		ldr	r2, [r7, #4]
 5535 000e 126B     		ldr	r2, [r2, #48]
 5536 0010 1288     		ldrh	r2, [r2]
 5537 0012 DA60     		str	r2, [r3, #12]
2711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5538              		.loc 1 2711 0
 5539 0014 7B68     		ldr	r3, [r7, #4]
 5540 0016 1B6B     		ldr	r3, [r3, #48]
 5541 0018 9A1C     		adds	r2, r3, #2
 5542 001a 7B68     		ldr	r3, [r7, #4]
 5543 001c 1A63     		str	r2, [r3, #48]
2712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
 5544              		.loc 1 2712 0
 5545 001e 7B68     		ldr	r3, [r7, #4]
 5546 0020 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 5547 0022 9BB2     		uxth	r3, r3
 5548 0024 013B     		subs	r3, r3, #1
 5549 0026 9AB2     		uxth	r2, r3
 5550 0028 7B68     		ldr	r3, [r7, #4]
 5551 002a DA86     		strh	r2, [r3, #54]	@ movhi
2713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable CRC Transmission */
2715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->TxXferCount == 0U)
 5552              		.loc 1 2715 0
 5553 002c 7B68     		ldr	r3, [r7, #4]
 5554 002e DB8E     		ldrh	r3, [r3, #54]	@ movhi
 5555 0030 9BB2     		uxth	r3, r3
 5556 0032 002B     		cmp	r3, #0
 5557 0034 0FD1     		bne	.L264
2716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
2722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
2723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable TXE interrupt */
ARM GAS  /tmp/cckea6X9.s 			page 145


2727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 5558              		.loc 1 2727 0
 5559 0036 7B68     		ldr	r3, [r7, #4]
 5560 0038 1B68     		ldr	r3, [r3]
 5561 003a 7A68     		ldr	r2, [r7, #4]
 5562 003c 1268     		ldr	r2, [r2]
 5563 003e 5268     		ldr	r2, [r2, #4]
 5564 0040 22F08002 		bic	r2, r2, #128
 5565 0044 5A60     		str	r2, [r3, #4]
2728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->RxXferCount == 0U)
 5566              		.loc 1 2729 0
 5567 0046 7B68     		ldr	r3, [r7, #4]
 5568 0048 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 5569 004a 9BB2     		uxth	r3, r3
 5570 004c 002B     		cmp	r3, #0
 5571 004e 02D1     		bne	.L264
2730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 5572              		.loc 1 2731 0
 5573 0050 7868     		ldr	r0, [r7, #4]
 5574 0052 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5575              	.L264:
2732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5576              		.loc 1 2734 0
 5577 0056 0837     		adds	r7, r7, #8
 5578              	.LCFI229:
 5579              		.cfi_def_cfa_offset 8
 5580 0058 BD46     		mov	sp, r7
 5581              	.LCFI230:
 5582              		.cfi_def_cfa_register 13
 5583              		@ sp needed
 5584 005a 80BD     		pop	{r7, pc}
 5585              		.cfi_endproc
 5586              	.LFE165:
 5588              		.section	.text.SPI_RxISR_8BIT,"ax",%progbits
 5589              		.align	2
 5590              		.thumb
 5591              		.thumb_func
 5593              	SPI_RxISR_8BIT:
 5594              	.LFB166:
2735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Manage the CRC 8-bit receive in Interrupt context.
2739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint8_t tmpreg = 0U;
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Read data register to flush CRC */
2748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpreg = *((__IO uint8_t*)&hspi->Instance->DR);
ARM GAS  /tmp/cckea6X9.s 			page 146


2749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* To avoid GCC warning */
2751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(tmpreg);
2752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
2754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Manage the receive 8-bit in Interrupt context.
2759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
2764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 5595              		.loc 1 2764 0
 5596              		.cfi_startproc
 5597              		@ args = 0, pretend = 0, frame = 8
 5598              		@ frame_needed = 1, uses_anonymous_args = 0
 5599 0000 80B5     		push	{r7, lr}
 5600              	.LCFI231:
 5601              		.cfi_def_cfa_offset 8
 5602              		.cfi_offset 7, -8
 5603              		.cfi_offset 14, -4
 5604 0002 82B0     		sub	sp, sp, #8
 5605              	.LCFI232:
 5606              		.cfi_def_cfa_offset 16
 5607 0004 00AF     		add	r7, sp, #0
 5608              	.LCFI233:
 5609              		.cfi_def_cfa_register 7
 5610 0006 7860     		str	r0, [r7, #4]
2765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *hspi->pRxBuffPtr++ = (*(__IO uint8_t *)&hspi->Instance->DR);
 5611              		.loc 1 2765 0
 5612 0008 7B68     		ldr	r3, [r7, #4]
 5613 000a 9B6B     		ldr	r3, [r3, #56]
 5614 000c 591C     		adds	r1, r3, #1
 5615 000e 7A68     		ldr	r2, [r7, #4]
 5616 0010 9163     		str	r1, [r2, #56]
 5617 0012 7A68     		ldr	r2, [r7, #4]
 5618 0014 1268     		ldr	r2, [r2]
 5619 0016 0C32     		adds	r2, r2, #12
 5620 0018 1278     		ldrb	r2, [r2]
 5621 001a D2B2     		uxtb	r2, r2
 5622 001c 1A70     		strb	r2, [r3]
2766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
 5623              		.loc 1 2766 0
 5624 001e 7B68     		ldr	r3, [r7, #4]
 5625 0020 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 5626 0022 9BB2     		uxth	r3, r3
 5627 0024 013B     		subs	r3, r3, #1
 5628 0026 9AB2     		uxth	r2, r3
 5629 0028 7B68     		ldr	r3, [r7, #4]
 5630 002a DA87     		strh	r2, [r3, #62]	@ movhi
2767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable CRC Transmission */
ARM GAS  /tmp/cckea6X9.s 			page 147


2770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
2771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->RxXferCount == 0U)
 5631              		.loc 1 2776 0
 5632 002c 7B68     		ldr	r3, [r7, #4]
 5633 002e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 5634 0030 9BB2     		uxth	r3, r3
 5635 0032 002B     		cmp	r3, #0
 5636 0034 02D1     		bne	.L266
2777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxISR =  SPI_RxISR_8BITCRC;
2782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
2783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
 5637              		.loc 1 2785 0
 5638 0036 7868     		ldr	r0, [r7, #4]
 5639 0038 FFF7FEFF 		bl	SPI_CloseRx_ISR
 5640              	.L266:
2786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5641              		.loc 1 2787 0
 5642 003c 0837     		adds	r7, r7, #8
 5643              	.LCFI234:
 5644              		.cfi_def_cfa_offset 8
 5645 003e BD46     		mov	sp, r7
 5646              	.LCFI235:
 5647              		.cfi_def_cfa_register 13
 5648              		@ sp needed
 5649 0040 80BD     		pop	{r7, pc}
 5650              		.cfi_endproc
 5651              	.LFE166:
 5653 0042 00BF     		.section	.text.SPI_RxISR_16BIT,"ax",%progbits
 5654              		.align	2
 5655              		.thumb
 5656              		.thumb_func
 5658              	SPI_RxISR_16BIT:
 5659              	.LFB167:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive in Interrupt context.
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
2797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint16_t tmpreg = 0U;
2799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  /tmp/cckea6X9.s 			page 148


2800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Read data register to flush CRC */
2801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpreg = hspi->Instance->DR;
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* To avoid GCC warning */
2804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(tmpreg);
2805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
2807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
2808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
2810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Manage the 16-bit receive in Interrupt context.
2815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
2820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 5660              		.loc 1 2820 0
 5661              		.cfi_startproc
 5662              		@ args = 0, pretend = 0, frame = 8
 5663              		@ frame_needed = 1, uses_anonymous_args = 0
 5664 0000 80B5     		push	{r7, lr}
 5665              	.LCFI236:
 5666              		.cfi_def_cfa_offset 8
 5667              		.cfi_offset 7, -8
 5668              		.cfi_offset 14, -4
 5669 0002 82B0     		sub	sp, sp, #8
 5670              	.LCFI237:
 5671              		.cfi_def_cfa_offset 16
 5672 0004 00AF     		add	r7, sp, #0
 5673              	.LCFI238:
 5674              		.cfi_def_cfa_register 7
 5675 0006 7860     		str	r0, [r7, #4]
2821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = hspi->Instance->DR;
 5676              		.loc 1 2821 0
 5677 0008 7B68     		ldr	r3, [r7, #4]
 5678 000a 9B6B     		ldr	r3, [r3, #56]
 5679 000c 7A68     		ldr	r2, [r7, #4]
 5680 000e 1268     		ldr	r2, [r2]
 5681 0010 D268     		ldr	r2, [r2, #12]
 5682 0012 92B2     		uxth	r2, r2
 5683 0014 1A80     		strh	r2, [r3]	@ movhi
2822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5684              		.loc 1 2822 0
 5685 0016 7B68     		ldr	r3, [r7, #4]
 5686 0018 9B6B     		ldr	r3, [r3, #56]
 5687 001a 9A1C     		adds	r2, r3, #2
 5688 001c 7B68     		ldr	r3, [r7, #4]
 5689 001e 9A63     		str	r2, [r3, #56]
2823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
 5690              		.loc 1 2823 0
 5691 0020 7B68     		ldr	r3, [r7, #4]
 5692 0022 DB8F     		ldrh	r3, [r3, #62]	@ movhi
ARM GAS  /tmp/cckea6X9.s 			page 149


 5693 0024 9BB2     		uxth	r3, r3
 5694 0026 013B     		subs	r3, r3, #1
 5695 0028 9AB2     		uxth	r2, r3
 5696 002a 7B68     		ldr	r3, [r7, #4]
 5697 002c DA87     		strh	r2, [r3, #62]	@ movhi
2824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable CRC Transmission */
2827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
2828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->RxXferCount == 0U)
 5698              		.loc 1 2833 0
 5699 002e 7B68     		ldr	r3, [r7, #4]
 5700 0030 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 5701 0032 9BB2     		uxth	r3, r3
 5702 0034 002B     		cmp	r3, #0
 5703 0036 02D1     		bne	.L268
2834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxISR = SPI_RxISR_16BITCRC;
2839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
2840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
 5704              		.loc 1 2842 0
 5705 0038 7868     		ldr	r0, [r7, #4]
 5706 003a FFF7FEFF 		bl	SPI_CloseRx_ISR
 5707              	.L268:
2843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5708              		.loc 1 2844 0
 5709 003e 0837     		adds	r7, r7, #8
 5710              	.LCFI239:
 5711              		.cfi_def_cfa_offset 8
 5712 0040 BD46     		mov	sp, r7
 5713              	.LCFI240:
 5714              		.cfi_def_cfa_register 13
 5715              		@ sp needed
 5716 0042 80BD     		pop	{r7, pc}
 5717              		.cfi_endproc
 5718              	.LFE167:
 5720              		.section	.text.SPI_TxISR_8BIT,"ax",%progbits
 5721              		.align	2
 5722              		.thumb
 5723              		.thumb_func
 5725              	SPI_TxISR_8BIT:
 5726              	.LFB168:
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the data 8-bit transmit in Interrupt mode.
2848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
ARM GAS  /tmp/cckea6X9.s 			page 150


2849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
2853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 5727              		.loc 1 2853 0
 5728              		.cfi_startproc
 5729              		@ args = 0, pretend = 0, frame = 8
 5730              		@ frame_needed = 1, uses_anonymous_args = 0
 5731 0000 80B5     		push	{r7, lr}
 5732              	.LCFI241:
 5733              		.cfi_def_cfa_offset 8
 5734              		.cfi_offset 7, -8
 5735              		.cfi_offset 14, -4
 5736 0002 82B0     		sub	sp, sp, #8
 5737              	.LCFI242:
 5738              		.cfi_def_cfa_offset 16
 5739 0004 00AF     		add	r7, sp, #0
 5740              	.LCFI243:
 5741              		.cfi_def_cfa_register 7
 5742 0006 7860     		str	r0, [r7, #4]
2854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 5743              		.loc 1 2854 0
 5744 0008 7B68     		ldr	r3, [r7, #4]
 5745 000a 1B68     		ldr	r3, [r3]
 5746 000c 03F10C02 		add	r2, r3, #12
 5747 0010 7B68     		ldr	r3, [r7, #4]
 5748 0012 1B6B     		ldr	r3, [r3, #48]
 5749 0014 581C     		adds	r0, r3, #1
 5750 0016 7968     		ldr	r1, [r7, #4]
 5751 0018 0863     		str	r0, [r1, #48]
 5752 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5753 001c 1370     		strb	r3, [r2]
2855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
 5754              		.loc 1 2855 0
 5755 001e 7B68     		ldr	r3, [r7, #4]
 5756 0020 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 5757 0022 9BB2     		uxth	r3, r3
 5758 0024 013B     		subs	r3, r3, #1
 5759 0026 9AB2     		uxth	r2, r3
 5760 0028 7B68     		ldr	r3, [r7, #4]
 5761 002a DA86     		strh	r2, [r3, #54]	@ movhi
2856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->TxXferCount == 0U)
 5762              		.loc 1 2857 0
 5763 002c 7B68     		ldr	r3, [r7, #4]
 5764 002e DB8E     		ldrh	r3, [r3, #54]	@ movhi
 5765 0030 9BB2     		uxth	r3, r3
 5766 0032 002B     		cmp	r3, #0
 5767 0034 02D1     		bne	.L270
2858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable CRC Transmission */
2863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  /tmp/cckea6X9.s 			page 151


2865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
 5768              		.loc 1 2866 0
 5769 0036 7868     		ldr	r0, [r7, #4]
 5770 0038 FFF7FEFF 		bl	SPI_CloseTx_ISR
 5771              	.L270:
2867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5772              		.loc 1 2868 0
 5773 003c 0837     		adds	r7, r7, #8
 5774              	.LCFI244:
 5775              		.cfi_def_cfa_offset 8
 5776 003e BD46     		mov	sp, r7
 5777              	.LCFI245:
 5778              		.cfi_def_cfa_register 13
 5779              		@ sp needed
 5780 0040 80BD     		pop	{r7, pc}
 5781              		.cfi_endproc
 5782              	.LFE168:
 5784 0042 00BF     		.section	.text.SPI_TxISR_16BIT,"ax",%progbits
 5785              		.align	2
 5786              		.thumb
 5787              		.thumb_func
 5789              	SPI_TxISR_16BIT:
 5790              	.LFB169:
2869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the data 16-bit transmit in Interrupt mode.
2872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
2877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 5791              		.loc 1 2877 0
 5792              		.cfi_startproc
 5793              		@ args = 0, pretend = 0, frame = 8
 5794              		@ frame_needed = 1, uses_anonymous_args = 0
 5795 0000 80B5     		push	{r7, lr}
 5796              	.LCFI246:
 5797              		.cfi_def_cfa_offset 8
 5798              		.cfi_offset 7, -8
 5799              		.cfi_offset 14, -4
 5800 0002 82B0     		sub	sp, sp, #8
 5801              	.LCFI247:
 5802              		.cfi_def_cfa_offset 16
 5803 0004 00AF     		add	r7, sp, #0
 5804              	.LCFI248:
 5805              		.cfi_def_cfa_register 7
 5806 0006 7860     		str	r0, [r7, #4]
2878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
2879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 5807              		.loc 1 2879 0
 5808 0008 7B68     		ldr	r3, [r7, #4]
 5809 000a 1B68     		ldr	r3, [r3]
 5810 000c 7A68     		ldr	r2, [r7, #4]
 5811 000e 126B     		ldr	r2, [r2, #48]
ARM GAS  /tmp/cckea6X9.s 			page 152


 5812 0010 1288     		ldrh	r2, [r2]
 5813 0012 DA60     		str	r2, [r3, #12]
2880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5814              		.loc 1 2880 0
 5815 0014 7B68     		ldr	r3, [r7, #4]
 5816 0016 1B6B     		ldr	r3, [r3, #48]
 5817 0018 9A1C     		adds	r2, r3, #2
 5818 001a 7B68     		ldr	r3, [r7, #4]
 5819 001c 1A63     		str	r2, [r3, #48]
2881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
 5820              		.loc 1 2881 0
 5821 001e 7B68     		ldr	r3, [r7, #4]
 5822 0020 DB8E     		ldrh	r3, [r3, #54]	@ movhi
 5823 0022 9BB2     		uxth	r3, r3
 5824 0024 013B     		subs	r3, r3, #1
 5825 0026 9AB2     		uxth	r2, r3
 5826 0028 7B68     		ldr	r3, [r7, #4]
 5827 002a DA86     		strh	r2, [r3, #54]	@ movhi
2882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->TxXferCount == 0U)
 5828              		.loc 1 2883 0
 5829 002c 7B68     		ldr	r3, [r7, #4]
 5830 002e DB8E     		ldrh	r3, [r3, #54]	@ movhi
 5831 0030 9BB2     		uxth	r3, r3
 5832 0032 002B     		cmp	r3, #0
 5833 0034 02D1     		bne	.L272
2884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable CRC Transmission */
2889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
 5834              		.loc 1 2892 0
 5835 0036 7868     		ldr	r0, [r7, #4]
 5836 0038 FFF7FEFF 		bl	SPI_CloseTx_ISR
 5837              	.L272:
2893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5838              		.loc 1 2894 0
 5839 003c 0837     		adds	r7, r7, #8
 5840              	.LCFI249:
 5841              		.cfi_def_cfa_offset 8
 5842 003e BD46     		mov	sp, r7
 5843              	.LCFI250:
 5844              		.cfi_def_cfa_register 13
 5845              		@ sp needed
 5846 0040 80BD     		pop	{r7, pc}
 5847              		.cfi_endproc
 5848              	.LFE169:
 5850 0042 00BF     		.section	.text.SPI_WaitFlagStateUntilTimeout,"ax",%progbits
 5851              		.align	2
 5852              		.thumb
 5853              		.thumb_func
 5855              	SPI_WaitFlagStateUntilTimeout:
ARM GAS  /tmp/cckea6X9.s 			page 153


 5856              	.LFB170:
2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Handle SPI Communication Timeout.
2898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param hspi pointer to a SPI_HandleTypeDef structure that contains
2899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *              the configuration information for SPI module.
2900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param Flag SPI flag to check
2901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param State flag state to check
2902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param Timeout Timeout duration
2903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param Tickstart tick start value
2904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
2905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, uint
2907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 5857              		.loc 1 2907 0
 5858              		.cfi_startproc
 5859              		@ args = 4, pretend = 0, frame = 16
 5860              		@ frame_needed = 1, uses_anonymous_args = 0
 5861 0000 80B5     		push	{r7, lr}
 5862              	.LCFI251:
 5863              		.cfi_def_cfa_offset 8
 5864              		.cfi_offset 7, -8
 5865              		.cfi_offset 14, -4
 5866 0002 84B0     		sub	sp, sp, #16
 5867              	.LCFI252:
 5868              		.cfi_def_cfa_offset 24
 5869 0004 00AF     		add	r7, sp, #0
 5870              	.LCFI253:
 5871              		.cfi_def_cfa_register 7
 5872 0006 F860     		str	r0, [r7, #12]
 5873 0008 B960     		str	r1, [r7, #8]
 5874 000a 7A60     		str	r2, [r7, #4]
 5875 000c 3B60     		str	r3, [r7]
2908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   while((((hspi->Instance->SR & Flag) == (Flag)) ? SET : RESET) != State)
 5876              		.loc 1 2908 0
 5877 000e 4DE0     		b	.L275
 5878              	.L283:
2909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(Timeout != HAL_MAX_DELAY)
 5879              		.loc 1 2910 0
 5880 0010 3B68     		ldr	r3, [r7]
 5881 0012 B3F1FF3F 		cmp	r3, #-1
 5882 0016 49D0     		beq	.L275
2911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if((Timeout == 0U) || ((HAL_GetTick()-Tickstart) >= Timeout))
 5883              		.loc 1 2912 0
 5884 0018 3B68     		ldr	r3, [r7]
 5885 001a 002B     		cmp	r3, #0
 5886 001c 07D0     		beq	.L276
 5887              		.loc 1 2912 0 is_stmt 0 discriminator 1
 5888 001e FFF7FEFF 		bl	HAL_GetTick
 5889 0022 0246     		mov	r2, r0
 5890 0024 BB69     		ldr	r3, [r7, #24]
 5891 0026 D21A     		subs	r2, r2, r3
 5892 0028 3B68     		ldr	r3, [r7]
 5893 002a 9A42     		cmp	r2, r3
 5894 002c 3ED3     		bcc	.L275
ARM GAS  /tmp/cckea6X9.s 			page 154


 5895              	.L276:
2913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Disable the SPI and reset the CRC: the CRC value should be cleared
2915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         on both master and slave sides in order to resynchronize the master
2916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         and slave for their respective CRC calculation */
2917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
2919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
 5896              		.loc 1 2919 0 is_stmt 1
 5897 002e FB68     		ldr	r3, [r7, #12]
 5898 0030 1B68     		ldr	r3, [r3]
 5899 0032 FA68     		ldr	r2, [r7, #12]
 5900 0034 1268     		ldr	r2, [r2]
 5901 0036 5268     		ldr	r2, [r2, #4]
 5902 0038 22F0E002 		bic	r2, r2, #224
 5903 003c 5A60     		str	r2, [r3, #4]
2920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(h
 5904              		.loc 1 2921 0
 5905 003e FB68     		ldr	r3, [r7, #12]
 5906 0040 5B68     		ldr	r3, [r3, #4]
 5907 0042 B3F5827F 		cmp	r3, #260
 5908 0046 11D1     		bne	.L277
 5909              		.loc 1 2921 0 is_stmt 0 discriminator 1
 5910 0048 FB68     		ldr	r3, [r7, #12]
 5911 004a 9B68     		ldr	r3, [r3, #8]
 5912 004c B3F5004F 		cmp	r3, #32768
 5913 0050 04D0     		beq	.L278
 5914              		.loc 1 2921 0 discriminator 2
 5915 0052 FB68     		ldr	r3, [r7, #12]
 5916 0054 9B68     		ldr	r3, [r3, #8]
 5917 0056 B3F5806F 		cmp	r3, #1024
 5918 005a 07D1     		bne	.L277
 5919              	.L278:
2922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
2923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Disable SPI peripheral */
2924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
 5920              		.loc 1 2924 0 is_stmt 1
 5921 005c FB68     		ldr	r3, [r7, #12]
 5922 005e 1B68     		ldr	r3, [r3]
 5923 0060 FA68     		ldr	r2, [r7, #12]
 5924 0062 1268     		ldr	r2, [r2]
 5925 0064 1268     		ldr	r2, [r2]
 5926 0066 22F04002 		bic	r2, r2, #64
 5927 006a 1A60     		str	r2, [r3]
 5928              	.L277:
2925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Reset CRC Calculation */
2928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 5929              		.loc 1 2928 0
 5930 006c FB68     		ldr	r3, [r7, #12]
 5931 006e 9B6A     		ldr	r3, [r3, #40]
 5932 0070 B3F5005F 		cmp	r3, #8192
 5933 0074 10D1     		bne	.L279
2929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
2930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           SPI_RESET_CRC(hspi);
ARM GAS  /tmp/cckea6X9.s 			page 155


 5934              		.loc 1 2930 0
 5935 0076 FB68     		ldr	r3, [r7, #12]
 5936 0078 1A68     		ldr	r2, [r3]
 5937 007a FB68     		ldr	r3, [r7, #12]
 5938 007c 1B68     		ldr	r3, [r3]
 5939 007e 1968     		ldr	r1, [r3]
 5940 0080 4DF6FF73 		movw	r3, #57343
 5941 0084 0B40     		ands	r3, r3, r1
 5942 0086 1360     		str	r3, [r2]
 5943 0088 FB68     		ldr	r3, [r7, #12]
 5944 008a 1B68     		ldr	r3, [r3]
 5945 008c FA68     		ldr	r2, [r7, #12]
 5946 008e 1268     		ldr	r2, [r2]
 5947 0090 1268     		ldr	r2, [r2]
 5948 0092 42F40052 		orr	r2, r2, #8192
 5949 0096 1A60     		str	r2, [r3]
 5950              	.L279:
2931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->State= HAL_SPI_STATE_READY;
 5951              		.loc 1 2933 0
 5952 0098 FB68     		ldr	r3, [r7, #12]
 5953 009a 0122     		movs	r2, #1
 5954 009c 83F85120 		strb	r2, [r3, #81]
2934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Process Unlocked */
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 5955              		.loc 1 2936 0
 5956 00a0 FB68     		ldr	r3, [r7, #12]
 5957 00a2 0022     		movs	r2, #0
 5958 00a4 83F85020 		strb	r2, [r3, #80]
2937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return HAL_TIMEOUT;
 5959              		.loc 1 2938 0
 5960 00a8 0323     		movs	r3, #3
 5961 00aa 0EE0     		b	.L280
 5962              	.L275:
2908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 5963              		.loc 1 2908 0
 5964 00ac FB68     		ldr	r3, [r7, #12]
 5965 00ae 1B68     		ldr	r3, [r3]
 5966 00b0 9A68     		ldr	r2, [r3, #8]
 5967 00b2 BB68     		ldr	r3, [r7, #8]
 5968 00b4 1A40     		ands	r2, r2, r3
 5969 00b6 BB68     		ldr	r3, [r7, #8]
 5970 00b8 9A42     		cmp	r2, r3
 5971 00ba 01D1     		bne	.L281
2908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 5972              		.loc 1 2908 0 is_stmt 0 discriminator 1
 5973 00bc 0122     		movs	r2, #1
 5974 00be 00E0     		b	.L282
 5975              	.L281:
2908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 5976              		.loc 1 2908 0 discriminator 2
 5977 00c0 0022     		movs	r2, #0
 5978              	.L282:
2908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
ARM GAS  /tmp/cckea6X9.s 			page 156


 5979              		.loc 1 2908 0 discriminator 4
 5980 00c2 7B68     		ldr	r3, [r7, #4]
 5981 00c4 9A42     		cmp	r2, r3
 5982 00c6 A3D1     		bne	.L283
2939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 5983              		.loc 1 2943 0 is_stmt 1
 5984 00c8 0023     		movs	r3, #0
 5985              	.L280:
2944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5986              		.loc 1 2944 0
 5987 00ca 1846     		mov	r0, r3
 5988 00cc 1037     		adds	r7, r7, #16
 5989              	.LCFI254:
 5990              		.cfi_def_cfa_offset 8
 5991 00ce BD46     		mov	sp, r7
 5992              	.LCFI255:
 5993              		.cfi_def_cfa_register 13
 5994              		@ sp needed
 5995 00d0 80BD     		pop	{r7, pc}
 5996              		.cfi_endproc
 5997              	.LFE170:
 5999 00d2 00BF     		.section	.text.SPI_CheckFlag_BSY,"ax",%progbits
 6000              		.align	2
 6001              		.thumb
 6002              		.thumb_func
 6004              	SPI_CheckFlag_BSY:
 6005              	.LFB171:
2945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief Handle to check BSY flag before start a new transaction.
2947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param hspi pointer to a SPI_HandleTypeDef structure that contains
2948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *              the configuration information for SPI module.
2949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param Timeout Timeout duration
2950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param Tickstart tick start value
2951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
2952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_CheckFlag_BSY(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t Tick
2954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 6006              		.loc 1 2954 0
 6007              		.cfi_startproc
 6008              		@ args = 0, pretend = 0, frame = 16
 6009              		@ frame_needed = 1, uses_anonymous_args = 0
 6010 0000 80B5     		push	{r7, lr}
 6011              	.LCFI256:
 6012              		.cfi_def_cfa_offset 8
 6013              		.cfi_offset 7, -8
 6014              		.cfi_offset 14, -4
 6015 0002 86B0     		sub	sp, sp, #24
 6016              	.LCFI257:
 6017              		.cfi_def_cfa_offset 32
 6018 0004 02AF     		add	r7, sp, #8
 6019              	.LCFI258:
 6020              		.cfi_def_cfa 7, 24
 6021 0006 F860     		str	r0, [r7, #12]
ARM GAS  /tmp/cckea6X9.s 			page 157


 6022 0008 B960     		str	r1, [r7, #8]
 6023 000a 7A60     		str	r2, [r7, #4]
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Control the BSY flag */
2956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
 6024              		.loc 1 2956 0
 6025 000c 7B68     		ldr	r3, [r7, #4]
 6026 000e 0093     		str	r3, [sp]
 6027 0010 F868     		ldr	r0, [r7, #12]
 6028 0012 8021     		movs	r1, #128
 6029 0014 0022     		movs	r2, #0
 6030 0016 BB68     		ldr	r3, [r7, #8]
 6031 0018 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 6032 001c 0346     		mov	r3, r0
 6033 001e 002B     		cmp	r3, #0
 6034 0020 07D0     		beq	.L285
2957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 6035              		.loc 1 2958 0
 6036 0022 FB68     		ldr	r3, [r7, #12]
 6037 0024 5B6D     		ldr	r3, [r3, #84]
 6038 0026 43F02002 		orr	r2, r3, #32
 6039 002a FB68     		ldr	r3, [r7, #12]
 6040 002c 5A65     		str	r2, [r3, #84]
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_TIMEOUT;
 6041              		.loc 1 2959 0
 6042 002e 0323     		movs	r3, #3
 6043 0030 00E0     		b	.L286
 6044              	.L285:
2960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 6045              		.loc 1 2961 0
 6046 0032 0023     		movs	r3, #0
 6047              	.L286:
2962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 6048              		.loc 1 2962 0
 6049 0034 1846     		mov	r0, r3
 6050 0036 1037     		adds	r7, r7, #16
 6051              	.LCFI259:
 6052              		.cfi_def_cfa_offset 8
 6053 0038 BD46     		mov	sp, r7
 6054              	.LCFI260:
 6055              		.cfi_def_cfa_register 13
 6056              		@ sp needed
 6057 003a 80BD     		pop	{r7, pc}
 6058              		.cfi_endproc
 6059              	.LFE171:
 6061              		.section	.text.SPI_CloseRxTx_ISR,"ax",%progbits
 6062              		.align	2
 6063              		.thumb
 6064              		.thumb_func
 6066              	SPI_CloseRxTx_ISR:
 6067              	.LFB172:
2963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the end of the RXTX transaction.
2966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
ARM GAS  /tmp/cckea6X9.s 			page 158


2968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi)
2971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 6068              		.loc 1 2971 0
 6069              		.cfi_startproc
 6070              		@ args = 0, pretend = 0, frame = 24
 6071              		@ frame_needed = 1, uses_anonymous_args = 0
 6072 0000 80B5     		push	{r7, lr}
 6073              	.LCFI261:
 6074              		.cfi_def_cfa_offset 8
 6075              		.cfi_offset 7, -8
 6076              		.cfi_offset 14, -4
 6077 0002 86B0     		sub	sp, sp, #24
 6078              	.LCFI262:
 6079              		.cfi_def_cfa_offset 32
 6080 0004 00AF     		add	r7, sp, #0
 6081              	.LCFI263:
 6082              		.cfi_def_cfa_register 7
 6083 0006 7860     		str	r0, [r7, #4]
2972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart = 0U;
 6084              		.loc 1 2972 0
 6085 0008 0023     		movs	r3, #0
 6086 000a 7B61     		str	r3, [r7, #20]
2973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6087              		.loc 1 2973 0
 6088 000c 344B     		ldr	r3, .L297
 6089 000e 1B68     		ldr	r3, [r3]
 6090 0010 344A     		ldr	r2, .L297+4
 6091 0012 A2FB0323 		umull	r2, r3, r2, r3
 6092 0016 5B0A     		lsrs	r3, r3, #9
 6093 0018 6422     		movs	r2, #100
 6094 001a 02FB03F3 		mul	r3, r2, r3
 6095 001e 3B61     		str	r3, [r7, #16]
2974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout managment*/
2975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 6096              		.loc 1 2975 0
 6097 0020 FFF7FEFF 		bl	HAL_GetTick
 6098 0024 7861     		str	r0, [r7, #20]
2976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable ERR interrupt */
2978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
 6099              		.loc 1 2978 0
 6100 0026 7B68     		ldr	r3, [r7, #4]
 6101 0028 1B68     		ldr	r3, [r3]
 6102 002a 7A68     		ldr	r2, [r7, #4]
 6103 002c 1268     		ldr	r2, [r2]
 6104 002e 5268     		ldr	r2, [r2, #4]
 6105 0030 22F02002 		bic	r2, r2, #32
 6106 0034 5A60     		str	r2, [r3, #4]
 6107              	.L290:
2979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag is set */
2981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   do
2982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(count-- == 0U)
 6108              		.loc 1 2983 0
ARM GAS  /tmp/cckea6X9.s 			page 159


 6109 0036 3B69     		ldr	r3, [r7, #16]
 6110 0038 5A1E     		subs	r2, r3, #1
 6111 003a 3A61     		str	r2, [r7, #16]
 6112 003c 002B     		cmp	r3, #0
 6113 003e 06D1     		bne	.L288
2984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 6114              		.loc 1 2985 0
 6115 0040 7B68     		ldr	r3, [r7, #4]
 6116 0042 5B6D     		ldr	r3, [r3, #84]
 6117 0044 43F02002 		orr	r2, r3, #32
 6118 0048 7B68     		ldr	r3, [r7, #4]
 6119 004a 5A65     		str	r2, [r3, #84]
2986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       break;
 6120              		.loc 1 2986 0
 6121 004c 06E0     		b	.L289
 6122              	.L288:
2987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   while((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 6123              		.loc 1 2989 0
 6124 004e 7B68     		ldr	r3, [r7, #4]
 6125 0050 1B68     		ldr	r3, [r3]
 6126 0052 9B68     		ldr	r3, [r3, #8]
 6127 0054 03F00203 		and	r3, r3, #2
 6128 0058 002B     		cmp	r3, #0
 6129 005a ECD0     		beq	.L290
 6130              	.L289:
2990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   
2991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the end of the transaction */
2992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_CheckFlag_BSY(hspi, SPI_DEFAULT_TIMEOUT, tickstart)!=HAL_OK)
 6131              		.loc 1 2992 0
 6132 005c 7868     		ldr	r0, [r7, #4]
 6133 005e 6421     		movs	r1, #100
 6134 0060 7A69     		ldr	r2, [r7, #20]
 6135 0062 FFF7FEFF 		bl	SPI_CheckFlag_BSY
 6136 0066 0346     		mov	r3, r0
 6137 0068 002B     		cmp	r3, #0
 6138 006a 05D0     		beq	.L291
2993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 6139              		.loc 1 2994 0
 6140 006c 7B68     		ldr	r3, [r7, #4]
 6141 006e 5B6D     		ldr	r3, [r3, #84]
 6142 0070 43F02002 		orr	r2, r3, #32
 6143 0074 7B68     		ldr	r3, [r7, #4]
 6144 0076 5A65     		str	r2, [r3, #84]
 6145              	.L291:
2995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
2998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
 6146              		.loc 1 2998 0
 6147 0078 7B68     		ldr	r3, [r7, #4]
 6148 007a 9B68     		ldr	r3, [r3, #8]
 6149 007c 002B     		cmp	r3, #0
 6150 007e 0AD1     		bne	.L292
ARM GAS  /tmp/cckea6X9.s 			page 160


 6151              	.LBB16:
2999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 6152              		.loc 1 3000 0
 6153 0080 0023     		movs	r3, #0
 6154 0082 FB60     		str	r3, [r7, #12]
 6155 0084 7B68     		ldr	r3, [r7, #4]
 6156 0086 1B68     		ldr	r3, [r3]
 6157 0088 DB68     		ldr	r3, [r3, #12]
 6158 008a FB60     		str	r3, [r7, #12]
 6159 008c 7B68     		ldr	r3, [r7, #4]
 6160 008e 1B68     		ldr	r3, [r3]
 6161 0090 9B68     		ldr	r3, [r3, #8]
 6162 0092 FB60     		str	r3, [r7, #12]
 6163 0094 FB68     		ldr	r3, [r7, #12]
 6164              	.L292:
 6165              	.LBE16:
3001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if CRC error occurred */
3005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
3006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
3008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
3011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
3013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->ErrorCode == HAL_SPI_ERROR_NONE)
 6166              		.loc 1 3015 0
 6167 0096 7B68     		ldr	r3, [r7, #4]
 6168 0098 5B6D     		ldr	r3, [r3, #84]
 6169 009a 002B     		cmp	r3, #0
 6170 009c 15D1     		bne	.L293
3016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->State == HAL_SPI_STATE_BUSY_RX)
 6171              		.loc 1 3017 0
 6172 009e 7B68     		ldr	r3, [r7, #4]
 6173 00a0 93F85130 		ldrb	r3, [r3, #81]
 6174 00a4 DBB2     		uxtb	r3, r3
 6175 00a6 042B     		cmp	r3, #4
 6176 00a8 07D1     		bne	.L294
3018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
3019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       	hspi->State = HAL_SPI_STATE_READY;
 6177              		.loc 1 3019 0
 6178 00aa 7B68     		ldr	r3, [r7, #4]
 6179 00ac 0122     		movs	r2, #1
 6180 00ae 83F85120 		strb	r2, [r3, #81]
3020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
 6181              		.loc 1 3020 0
 6182 00b2 7868     		ldr	r0, [r7, #4]
 6183 00b4 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 6184 00b8 0EE0     		b	.L287
 6185              	.L294:
ARM GAS  /tmp/cckea6X9.s 			page 161


3021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
3022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
3023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
3024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       	hspi->State = HAL_SPI_STATE_READY;
 6186              		.loc 1 3024 0
 6187 00ba 7B68     		ldr	r3, [r7, #4]
 6188 00bc 0122     		movs	r2, #1
 6189 00be 83F85120 		strb	r2, [r3, #81]
3025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
 6190              		.loc 1 3025 0
 6191 00c2 7868     		ldr	r0, [r7, #4]
 6192 00c4 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 6193 00c8 06E0     		b	.L287
 6194              	.L293:
3026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
3027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
3029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
 6195              		.loc 1 3030 0
 6196 00ca 7B68     		ldr	r3, [r7, #4]
 6197 00cc 0122     		movs	r2, #1
 6198 00ce 83F85120 		strb	r2, [r3, #81]
3031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 6199              		.loc 1 3031 0
 6200 00d2 7868     		ldr	r0, [r7, #4]
 6201 00d4 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 6202              	.L287:
3032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 6203              		.loc 1 3036 0
 6204 00d8 1837     		adds	r7, r7, #24
 6205              	.LCFI264:
 6206              		.cfi_def_cfa_offset 8
 6207 00da BD46     		mov	sp, r7
 6208              	.LCFI265:
 6209              		.cfi_def_cfa_register 13
 6210              		@ sp needed
 6211 00dc 80BD     		pop	{r7, pc}
 6212              	.L298:
 6213 00de 00BF     		.align	2
 6214              	.L297:
 6215 00e0 00000000 		.word	SystemCoreClock
 6216 00e4 F1197605 		.word	91625969
 6217              		.cfi_endproc
 6218              	.LFE172:
 6220              		.section	.text.SPI_CloseRx_ISR,"ax",%progbits
 6221              		.align	2
 6222              		.thumb
 6223              		.thumb_func
 6225              	SPI_CloseRx_ISR:
 6226              	.LFB173:
3037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
ARM GAS  /tmp/cckea6X9.s 			page 162


3039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the end of the RX transaction.
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi)
3045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 6227              		.loc 1 3045 0
 6228              		.cfi_startproc
 6229              		@ args = 0, pretend = 0, frame = 16
 6230              		@ frame_needed = 1, uses_anonymous_args = 0
 6231 0000 80B5     		push	{r7, lr}
 6232              	.LCFI266:
 6233              		.cfi_def_cfa_offset 8
 6234              		.cfi_offset 7, -8
 6235              		.cfi_offset 14, -4
 6236 0002 84B0     		sub	sp, sp, #16
 6237              	.LCFI267:
 6238              		.cfi_def_cfa_offset 24
 6239 0004 00AF     		add	r7, sp, #0
 6240              	.LCFI268:
 6241              		.cfi_def_cfa_register 7
 6242 0006 7860     		str	r0, [r7, #4]
3046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable RXNE and ERR interrupt */
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 6243              		.loc 1 3047 0
 6244 0008 7B68     		ldr	r3, [r7, #4]
 6245 000a 1B68     		ldr	r3, [r3]
 6246 000c 7A68     		ldr	r2, [r7, #4]
 6247 000e 1268     		ldr	r2, [r2]
 6248 0010 5268     		ldr	r2, [r2, #4]
 6249 0012 22F06002 		bic	r2, r2, #96
 6250 0016 5A60     		str	r2, [r3, #4]
3048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the end of the transaction */
3050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi-
 6251              		.loc 1 3050 0
 6252 0018 7B68     		ldr	r3, [r7, #4]
 6253 001a 5B68     		ldr	r3, [r3, #4]
 6254 001c B3F5827F 		cmp	r3, #260
 6255 0020 11D1     		bne	.L300
 6256              		.loc 1 3050 0 is_stmt 0 discriminator 1
 6257 0022 7B68     		ldr	r3, [r7, #4]
 6258 0024 9B68     		ldr	r3, [r3, #8]
 6259 0026 B3F5004F 		cmp	r3, #32768
 6260 002a 04D0     		beq	.L301
 6261              		.loc 1 3050 0 discriminator 2
 6262 002c 7B68     		ldr	r3, [r7, #4]
 6263 002e 9B68     		ldr	r3, [r3, #8]
 6264 0030 B3F5806F 		cmp	r3, #1024
 6265 0034 07D1     		bne	.L300
 6266              	.L301:
3051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable SPI peripheral */
3053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
 6267              		.loc 1 3053 0 is_stmt 1
 6268 0036 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cckea6X9.s 			page 163


 6269 0038 1B68     		ldr	r3, [r3]
 6270 003a 7A68     		ldr	r2, [r7, #4]
 6271 003c 1268     		ldr	r2, [r2]
 6272 003e 1268     		ldr	r2, [r2]
 6273 0040 22F04002 		bic	r2, r2, #64
 6274 0044 1A60     		str	r2, [r3]
 6275              	.L300:
3054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Clear overrun flag in 2 Lines communication mode because received is not read */
3057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
 6276              		.loc 1 3057 0
 6277 0046 7B68     		ldr	r3, [r7, #4]
 6278 0048 9B68     		ldr	r3, [r3, #8]
 6279 004a 002B     		cmp	r3, #0
 6280 004c 0AD1     		bne	.L302
 6281              	.LBB17:
3058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
 6282              		.loc 1 3059 0
 6283 004e 0023     		movs	r3, #0
 6284 0050 FB60     		str	r3, [r7, #12]
 6285 0052 7B68     		ldr	r3, [r7, #4]
 6286 0054 1B68     		ldr	r3, [r3]
 6287 0056 DB68     		ldr	r3, [r3, #12]
 6288 0058 FB60     		str	r3, [r7, #12]
 6289 005a 7B68     		ldr	r3, [r7, #4]
 6290 005c 1B68     		ldr	r3, [r3]
 6291 005e 9B68     		ldr	r3, [r3, #8]
 6292 0060 FB60     		str	r3, [r7, #12]
 6293 0062 FB68     		ldr	r3, [r7, #12]
 6294              	.L302:
 6295              	.LBE17:
3060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6296              		.loc 1 3061 0
 6297 0064 7B68     		ldr	r3, [r7, #4]
 6298 0066 0122     		movs	r2, #1
 6299 0068 83F85120 		strb	r2, [r3, #81]
3062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if CRC error occurred */
3065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
3066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
3072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(hspi->ErrorCode == HAL_SPI_ERROR_NONE)
 6300              		.loc 1 3074 0
 6301 006c 7B68     		ldr	r3, [r7, #4]
 6302 006e 5B6D     		ldr	r3, [r3, #84]
 6303 0070 002B     		cmp	r3, #0
 6304 0072 03D1     		bne	.L303
ARM GAS  /tmp/cckea6X9.s 			page 164


3075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
3076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
 6305              		.loc 1 3076 0
 6306 0074 7868     		ldr	r0, [r7, #4]
 6307 0076 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 6308 007a 02E0     		b	.L299
 6309              	.L303:
3077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
3078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
3079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
3080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_ErrorCallback(hspi);
 6310              		.loc 1 3080 0
 6311 007c 7868     		ldr	r0, [r7, #4]
 6312 007e FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 6313              	.L299:
3081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
3082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 6314              		.loc 1 3085 0
 6315 0082 1037     		adds	r7, r7, #16
 6316              	.LCFI269:
 6317              		.cfi_def_cfa_offset 8
 6318 0084 BD46     		mov	sp, r7
 6319              	.LCFI270:
 6320              		.cfi_def_cfa_register 13
 6321              		@ sp needed
 6322 0086 80BD     		pop	{r7, pc}
 6323              		.cfi_endproc
 6324              	.LFE173:
 6326              		.section	.text.SPI_CloseTx_ISR,"ax",%progbits
 6327              		.align	2
 6328              		.thumb
 6329              		.thumb_func
 6331              	SPI_CloseTx_ISR:
 6332              	.LFB174:
3086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the end of the TX transaction.
3089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi)
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 6333              		.loc 1 3094 0
 6334              		.cfi_startproc
 6335              		@ args = 0, pretend = 0, frame = 24
 6336              		@ frame_needed = 1, uses_anonymous_args = 0
 6337 0000 80B5     		push	{r7, lr}
 6338              	.LCFI271:
 6339              		.cfi_def_cfa_offset 8
 6340              		.cfi_offset 7, -8
 6341              		.cfi_offset 14, -4
 6342 0002 86B0     		sub	sp, sp, #24
 6343              	.LCFI272:
ARM GAS  /tmp/cckea6X9.s 			page 165


 6344              		.cfi_def_cfa_offset 32
 6345 0004 00AF     		add	r7, sp, #0
 6346              	.LCFI273:
 6347              		.cfi_def_cfa_register 7
 6348 0006 7860     		str	r0, [r7, #4]
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart = 0U;
 6349              		.loc 1 3095 0
 6350 0008 0023     		movs	r3, #0
 6351 000a 7B61     		str	r3, [r7, #20]
3096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6352              		.loc 1 3096 0
 6353 000c 2B4B     		ldr	r3, .L313
 6354 000e 1B68     		ldr	r3, [r3]
 6355 0010 2B4A     		ldr	r2, .L313+4
 6356 0012 A2FB0323 		umull	r2, r3, r2, r3
 6357 0016 5B0A     		lsrs	r3, r3, #9
 6358 0018 6422     		movs	r2, #100
 6359 001a 02FB03F3 		mul	r3, r2, r3
 6360 001e 3B61     		str	r3, [r7, #16]
3097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 6361              		.loc 1 3099 0
 6362 0020 FFF7FEFF 		bl	HAL_GetTick
 6363 0024 7861     		str	r0, [r7, #20]
 6364              	.L308:
3100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag is set */
3102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   do
3103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(count-- == 0U)
 6365              		.loc 1 3104 0
 6366 0026 3B69     		ldr	r3, [r7, #16]
 6367 0028 5A1E     		subs	r2, r3, #1
 6368 002a 3A61     		str	r2, [r7, #16]
 6369 002c 002B     		cmp	r3, #0
 6370 002e 06D1     		bne	.L306
3105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 6371              		.loc 1 3106 0
 6372 0030 7B68     		ldr	r3, [r7, #4]
 6373 0032 5B6D     		ldr	r3, [r3, #84]
 6374 0034 43F02002 		orr	r2, r3, #32
 6375 0038 7B68     		ldr	r3, [r7, #4]
 6376 003a 5A65     		str	r2, [r3, #84]
3107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       break;
 6377              		.loc 1 3107 0
 6378 003c 06E0     		b	.L307
 6379              	.L306:
3108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   while((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 6380              		.loc 1 3110 0
 6381 003e 7B68     		ldr	r3, [r7, #4]
 6382 0040 1B68     		ldr	r3, [r3]
 6383 0042 9B68     		ldr	r3, [r3, #8]
 6384 0044 03F00203 		and	r3, r3, #2
ARM GAS  /tmp/cckea6X9.s 			page 166


 6385 0048 002B     		cmp	r3, #0
 6386 004a ECD0     		beq	.L308
 6387              	.L307:
3111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable TXE and ERR interrupt */
3113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
 6388              		.loc 1 3113 0
 6389 004c 7B68     		ldr	r3, [r7, #4]
 6390 004e 1B68     		ldr	r3, [r3]
 6391 0050 7A68     		ldr	r2, [r7, #4]
 6392 0052 1268     		ldr	r2, [r2]
 6393 0054 5268     		ldr	r2, [r2, #4]
 6394 0056 22F0A002 		bic	r2, r2, #160
 6395 005a 5A60     		str	r2, [r3, #4]
3114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Busy flag */
3116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(SPI_CheckFlag_BSY(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 6396              		.loc 1 3116 0
 6397 005c 7868     		ldr	r0, [r7, #4]
 6398 005e 6421     		movs	r1, #100
 6399 0060 7A69     		ldr	r2, [r7, #20]
 6400 0062 FFF7FEFF 		bl	SPI_CheckFlag_BSY
 6401 0066 0346     		mov	r3, r0
 6402 0068 002B     		cmp	r3, #0
 6403 006a 05D0     		beq	.L309
3117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 6404              		.loc 1 3118 0
 6405 006c 7B68     		ldr	r3, [r7, #4]
 6406 006e 5B6D     		ldr	r3, [r3, #84]
 6407 0070 43F02002 		orr	r2, r3, #32
 6408 0074 7B68     		ldr	r3, [r7, #4]
 6409 0076 5A65     		str	r2, [r3, #84]
 6410              	.L309:
3119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
3122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
 6411              		.loc 1 3122 0
 6412 0078 7B68     		ldr	r3, [r7, #4]
 6413 007a 9B68     		ldr	r3, [r3, #8]
 6414 007c 002B     		cmp	r3, #0
 6415 007e 0AD1     		bne	.L310
 6416              	.LBB18:
3123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 6417              		.loc 1 3124 0
 6418 0080 0023     		movs	r3, #0
 6419 0082 FB60     		str	r3, [r7, #12]
 6420 0084 7B68     		ldr	r3, [r7, #4]
 6421 0086 1B68     		ldr	r3, [r3]
 6422 0088 DB68     		ldr	r3, [r3, #12]
 6423 008a FB60     		str	r3, [r7, #12]
 6424 008c 7B68     		ldr	r3, [r7, #4]
 6425 008e 1B68     		ldr	r3, [r3]
 6426 0090 9B68     		ldr	r3, [r3, #8]
 6427 0092 FB60     		str	r3, [r7, #12]
ARM GAS  /tmp/cckea6X9.s 			page 167


 6428 0094 FB68     		ldr	r3, [r7, #12]
 6429              	.L310:
 6430              	.LBE18:
3125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 6431              		.loc 1 3127 0
 6432 0096 7B68     		ldr	r3, [r7, #4]
 6433 0098 0122     		movs	r2, #1
 6434 009a 83F85120 		strb	r2, [r3, #81]
3128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 6435              		.loc 1 3128 0
 6436 009e 7B68     		ldr	r3, [r7, #4]
 6437 00a0 5B6D     		ldr	r3, [r3, #84]
 6438 00a2 002B     		cmp	r3, #0
 6439 00a4 03D0     		beq	.L311
3129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
 6440              		.loc 1 3130 0
 6441 00a6 7868     		ldr	r0, [r7, #4]
 6442 00a8 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 6443 00ac 02E0     		b	.L305
 6444              	.L311:
3131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
3133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_TxCpltCallback(hspi);
 6445              		.loc 1 3134 0
 6446 00ae 7868     		ldr	r0, [r7, #4]
 6447 00b0 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 6448              	.L305:
3135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 6449              		.loc 1 3136 0
 6450 00b4 1837     		adds	r7, r7, #24
 6451              	.LCFI274:
 6452              		.cfi_def_cfa_offset 8
 6453 00b6 BD46     		mov	sp, r7
 6454              	.LCFI275:
 6455              		.cfi_def_cfa_register 13
 6456              		@ sp needed
 6457 00b8 80BD     		pop	{r7, pc}
 6458              	.L314:
 6459 00ba 00BF     		.align	2
 6460              	.L313:
 6461 00bc 00000000 		.word	SystemCoreClock
 6462 00c0 F1197605 		.word	91625969
 6463              		.cfi_endproc
 6464              	.LFE174:
 6466              		.section	.text.SPI_AbortRx_ISR,"ax",%progbits
 6467              		.align	2
 6468              		.thumb
 6469              		.thumb_func
 6471              	SPI_AbortRx_ISR:
 6472              	.LFB175:
3137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
ARM GAS  /tmp/cckea6X9.s 			page 168


3139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
3140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle abort a Tx or Rx transaction.
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi)
3149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 6473              		.loc 1 3149 0
 6474              		.cfi_startproc
 6475              		@ args = 0, pretend = 0, frame = 16
 6476              		@ frame_needed = 1, uses_anonymous_args = 0
 6477              		@ link register save eliminated.
 6478 0000 80B4     		push	{r7}
 6479              	.LCFI276:
 6480              		.cfi_def_cfa_offset 4
 6481              		.cfi_offset 7, -4
 6482 0002 85B0     		sub	sp, sp, #20
 6483              	.LCFI277:
 6484              		.cfi_def_cfa_offset 24
 6485 0004 00AF     		add	r7, sp, #0
 6486              	.LCFI278:
 6487              		.cfi_def_cfa_register 7
 6488 0006 7860     		str	r0, [r7, #4]
3150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
 6489              		.loc 1 3150 0
 6490 0008 0023     		movs	r3, #0
 6491 000a FB60     		str	r3, [r7, #12]
3151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6492              		.loc 1 3151 0
 6493 000c 1B4B     		ldr	r3, .L319
 6494 000e 1B68     		ldr	r3, [r3]
 6495 0010 1B4A     		ldr	r2, .L319+4
 6496 0012 A2FB0323 		umull	r2, r3, r2, r3
 6497 0016 5B0A     		lsrs	r3, r3, #9
 6498 0018 6422     		movs	r2, #100
 6499 001a 02FB03F3 		mul	r3, r2, r3
 6500 001e BB60     		str	r3, [r7, #8]
 6501              	.L318:
3152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag is set */
3154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   do
3155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if(count-- == 0U)
 6502              		.loc 1 3156 0
 6503 0020 BB68     		ldr	r3, [r7, #8]
 6504 0022 5A1E     		subs	r2, r3, #1
 6505 0024 BA60     		str	r2, [r7, #8]
 6506 0026 002B     		cmp	r3, #0
 6507 0028 06D1     		bne	.L316
3157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 6508              		.loc 1 3158 0
 6509 002a 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cckea6X9.s 			page 169


 6510 002c 5B6D     		ldr	r3, [r3, #84]
 6511 002e 43F02002 		orr	r2, r3, #32
 6512 0032 7B68     		ldr	r3, [r7, #4]
 6513 0034 5A65     		str	r2, [r3, #84]
3159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       break;
 6514              		.loc 1 3159 0
 6515 0036 06E0     		b	.L317
 6516              	.L316:
3160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   while((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 6517              		.loc 1 3162 0
 6518 0038 7B68     		ldr	r3, [r7, #4]
 6519 003a 1B68     		ldr	r3, [r3]
 6520 003c 9B68     		ldr	r3, [r3, #8]
 6521 003e 03F00203 		and	r3, r3, #2
 6522 0042 002B     		cmp	r3, #0
 6523 0044 ECD0     		beq	.L318
 6524              	.L317:
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable SPI Peripheral */
3165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);    
 6525              		.loc 1 3165 0
 6526 0046 7B68     		ldr	r3, [r7, #4]
 6527 0048 1B68     		ldr	r3, [r3]
 6528 004a 7A68     		ldr	r2, [r7, #4]
 6529 004c 1268     		ldr	r2, [r2]
 6530 004e 1268     		ldr	r2, [r2]
 6531 0050 22F04002 		bic	r2, r2, #64
 6532 0054 1A60     		str	r2, [r3]
3166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE | SPI_CR2_RXNEIE | SPI_CR2_ERRIE));
 6533              		.loc 1 3168 0
 6534 0056 7B68     		ldr	r3, [r7, #4]
 6535 0058 1B68     		ldr	r3, [r3]
 6536 005a 7A68     		ldr	r2, [r7, #4]
 6537 005c 1268     		ldr	r2, [r2]
 6538 005e 5268     		ldr	r2, [r2, #4]
 6539 0060 22F0E002 		bic	r2, r2, #224
 6540 0064 5A60     		str	r2, [r3, #4]
3169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Flush DR Register */
3171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpreg = (*(__IO uint32_t *)&hspi->Instance->DR);
 6541              		.loc 1 3171 0
 6542 0066 7B68     		ldr	r3, [r7, #4]
 6543 0068 1B68     		ldr	r3, [r3]
 6544 006a DB68     		ldr	r3, [r3, #12]
 6545 006c FB60     		str	r3, [r7, #12]
3172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* To avoid GCC warning */
3174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(tmpreg);
 6546              		.loc 1 3174 0
 6547 006e FB68     		ldr	r3, [r7, #12]
3175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 6548              		.loc 1 3175 0
 6549 0070 1437     		adds	r7, r7, #20
ARM GAS  /tmp/cckea6X9.s 			page 170


 6550              	.LCFI279:
 6551              		.cfi_def_cfa_offset 4
 6552 0072 BD46     		mov	sp, r7
 6553              	.LCFI280:
 6554              		.cfi_def_cfa_register 13
 6555              		@ sp needed
 6556 0074 5DF8047B 		ldr	r7, [sp], #4
 6557              	.LCFI281:
 6558              		.cfi_restore 7
 6559              		.cfi_def_cfa_offset 0
 6560 0078 7047     		bx	lr
 6561              	.L320:
 6562 007a 00BF     		.align	2
 6563              	.L319:
 6564 007c 00000000 		.word	SystemCoreClock
 6565 0080 F1197605 		.word	91625969
 6566              		.cfi_endproc
 6567              	.LFE175:
 6569              		.section	.text.SPI_AbortTx_ISR,"ax",%progbits
 6570              		.align	2
 6571              		.thumb
 6572              		.thumb_func
 6574              	SPI_AbortTx_ISR:
 6575              	.LFB176:
3176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle abort a Tx or Rx transaction.
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi)
3184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 6576              		.loc 1 3184 0
 6577              		.cfi_startproc
 6578              		@ args = 0, pretend = 0, frame = 8
 6579              		@ frame_needed = 1, uses_anonymous_args = 0
 6580              		@ link register save eliminated.
 6581 0000 80B4     		push	{r7}
 6582              	.LCFI282:
 6583              		.cfi_def_cfa_offset 4
 6584              		.cfi_offset 7, -4
 6585 0002 83B0     		sub	sp, sp, #12
 6586              	.LCFI283:
 6587              		.cfi_def_cfa_offset 16
 6588 0004 00AF     		add	r7, sp, #0
 6589              	.LCFI284:
 6590              		.cfi_def_cfa_register 7
 6591 0006 7860     		str	r0, [r7, #4]
3185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
3186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE | SPI_CR2_RXNEIE | SPI_CR2_ERRIE));
 6592              		.loc 1 3186 0
 6593 0008 7B68     		ldr	r3, [r7, #4]
 6594 000a 1B68     		ldr	r3, [r3]
 6595 000c 7A68     		ldr	r2, [r7, #4]
 6596 000e 1268     		ldr	r2, [r2]
 6597 0010 5268     		ldr	r2, [r2, #4]
ARM GAS  /tmp/cckea6X9.s 			page 171


 6598 0012 22F0E002 		bic	r2, r2, #224
 6599 0016 5A60     		str	r2, [r3, #4]
3187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable SPI Peripheral */
3189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 6600              		.loc 1 3189 0
 6601 0018 7B68     		ldr	r3, [r7, #4]
 6602 001a 1B68     		ldr	r3, [r3]
 6603 001c 7A68     		ldr	r2, [r7, #4]
 6604 001e 1268     		ldr	r2, [r2]
 6605 0020 1268     		ldr	r2, [r2]
 6606 0022 22F04002 		bic	r2, r2, #64
 6607 0026 1A60     		str	r2, [r3]
3190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 6608              		.loc 1 3190 0
 6609 0028 0C37     		adds	r7, r7, #12
 6610              	.LCFI285:
 6611              		.cfi_def_cfa_offset 4
 6612 002a BD46     		mov	sp, r7
 6613              	.LCFI286:
 6614              		.cfi_def_cfa_register 13
 6615              		@ sp needed
 6616 002c 5DF8047B 		ldr	r7, [sp], #4
 6617              	.LCFI287:
 6618              		.cfi_restore 7
 6619              		.cfi_def_cfa_offset 0
 6620 0030 7047     		bx	lr
 6621              		.cfi_endproc
 6622              	.LFE176:
 6624 0032 00BF     		.text
 6625              	.Letext0:
 6626              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 6627              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 6628              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 6629              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 6630              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 6631              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 6632              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 6633              		.file 9 "Drivers/CMSIS/Include/core_cm4.h"
 6634              		.file 10 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
ARM GAS  /tmp/cckea6X9.s 			page 172


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_hal_spi.c
     /tmp/cckea6X9.s:21     .text.HAL_SPI_Init:0000000000000000 $t
     /tmp/cckea6X9.s:26     .text.HAL_SPI_Init:0000000000000000 HAL_SPI_Init
     /tmp/cckea6X9.s:238    .text.HAL_SPI_MspInit:0000000000000000 HAL_SPI_MspInit
     /tmp/cckea6X9.s:158    .text.HAL_SPI_DeInit:0000000000000000 $t
     /tmp/cckea6X9.s:163    .text.HAL_SPI_DeInit:0000000000000000 HAL_SPI_DeInit
     /tmp/cckea6X9.s:278    .text.HAL_SPI_MspDeInit:0000000000000000 HAL_SPI_MspDeInit
     /tmp/cckea6X9.s:233    .text.HAL_SPI_MspInit:0000000000000000 $t
     /tmp/cckea6X9.s:273    .text.HAL_SPI_MspDeInit:0000000000000000 $t
     /tmp/cckea6X9.s:313    .text.HAL_SPI_Transmit:0000000000000000 $t
     /tmp/cckea6X9.s:318    .text.HAL_SPI_Transmit:0000000000000000 HAL_SPI_Transmit
     /tmp/cckea6X9.s:5855   .text.SPI_WaitFlagStateUntilTimeout:0000000000000000 SPI_WaitFlagStateUntilTimeout
     /tmp/cckea6X9.s:6004   .text.SPI_CheckFlag_BSY:0000000000000000 SPI_CheckFlag_BSY
     /tmp/cckea6X9.s:738    .text.HAL_SPI_Receive:0000000000000000 $t
     /tmp/cckea6X9.s:743    .text.HAL_SPI_Receive:0000000000000000 HAL_SPI_Receive
     /tmp/cckea6X9.s:1104   .text.HAL_SPI_TransmitReceive:0000000000000000 HAL_SPI_TransmitReceive
     /tmp/cckea6X9.s:1099   .text.HAL_SPI_TransmitReceive:0000000000000000 $t
     /tmp/cckea6X9.s:1634   .text.HAL_SPI_Transmit_IT:0000000000000000 $t
     /tmp/cckea6X9.s:1639   .text.HAL_SPI_Transmit_IT:0000000000000000 HAL_SPI_Transmit_IT
     /tmp/cckea6X9.s:1833   .text.HAL_SPI_Transmit_IT:0000000000000114 $d
     /tmp/cckea6X9.s:5789   .text.SPI_TxISR_16BIT:0000000000000000 SPI_TxISR_16BIT
     /tmp/cckea6X9.s:5725   .text.SPI_TxISR_8BIT:0000000000000000 SPI_TxISR_8BIT
     /tmp/cckea6X9.s:1839   .text.HAL_SPI_Receive_IT:0000000000000000 $t
     /tmp/cckea6X9.s:1844   .text.HAL_SPI_Receive_IT:0000000000000000 HAL_SPI_Receive_IT
     /tmp/cckea6X9.s:2052   .text.HAL_SPI_TransmitReceive_IT:0000000000000000 HAL_SPI_TransmitReceive_IT
     /tmp/cckea6X9.s:2041   .text.HAL_SPI_Receive_IT:0000000000000120 $d
     /tmp/cckea6X9.s:5658   .text.SPI_RxISR_16BIT:0000000000000000 SPI_RxISR_16BIT
     /tmp/cckea6X9.s:5593   .text.SPI_RxISR_8BIT:0000000000000000 SPI_RxISR_8BIT
     /tmp/cckea6X9.s:2047   .text.HAL_SPI_TransmitReceive_IT:0000000000000000 $t
     /tmp/cckea6X9.s:2257   .text.HAL_SPI_TransmitReceive_IT:0000000000000120 $d
     /tmp/cckea6X9.s:5432   .text.SPI_2linesRxISR_16BIT:0000000000000000 SPI_2linesRxISR_16BIT
     /tmp/cckea6X9.s:5513   .text.SPI_2linesTxISR_16BIT:0000000000000000 SPI_2linesTxISR_16BIT
     /tmp/cckea6X9.s:5275   .text.SPI_2linesRxISR_8BIT:0000000000000000 SPI_2linesRxISR_8BIT
     /tmp/cckea6X9.s:5354   .text.SPI_2linesTxISR_8BIT:0000000000000000 SPI_2linesTxISR_8BIT
     /tmp/cckea6X9.s:2265   .text.HAL_SPI_Transmit_DMA:0000000000000000 $t
     /tmp/cckea6X9.s:2270   .text.HAL_SPI_Transmit_DMA:0000000000000000 HAL_SPI_Transmit_DMA
     /tmp/cckea6X9.s:2478   .text.HAL_SPI_Transmit_DMA:0000000000000134 $d
     /tmp/cckea6X9.s:4787   .text.SPI_DMAHalfTransmitCplt:0000000000000000 SPI_DMAHalfTransmitCplt
     /tmp/cckea6X9.s:4465   .text.SPI_DMATransmitCplt:0000000000000000 SPI_DMATransmitCplt
     /tmp/cckea6X9.s:4913   .text.SPI_DMAError:0000000000000000 SPI_DMAError
     /tmp/cckea6X9.s:2485   .text.HAL_SPI_Receive_DMA:0000000000000000 $t
     /tmp/cckea6X9.s:2490   .text.HAL_SPI_Receive_DMA:0000000000000000 HAL_SPI_Receive_DMA
     /tmp/cckea6X9.s:2729   .text.HAL_SPI_TransmitReceive_DMA:0000000000000000 HAL_SPI_TransmitReceive_DMA
     /tmp/cckea6X9.s:2717   .text.HAL_SPI_Receive_DMA:0000000000000158 $d
     /tmp/cckea6X9.s:4829   .text.SPI_DMAHalfReceiveCplt:0000000000000000 SPI_DMAHalfReceiveCplt
     /tmp/cckea6X9.s:4583   .text.SPI_DMAReceiveCplt:0000000000000000 SPI_DMAReceiveCplt
     /tmp/cckea6X9.s:2724   .text.HAL_SPI_TransmitReceive_DMA:0000000000000000 $t
     /tmp/cckea6X9.s:3023   .text.HAL_SPI_TransmitReceive_DMA:00000000000001c4 $d
     /tmp/cckea6X9.s:4871   .text.SPI_DMAHalfTransmitReceiveCplt:0000000000000000 SPI_DMAHalfTransmitReceiveCplt
     /tmp/cckea6X9.s:4685   .text.SPI_DMATransmitReceiveCplt:0000000000000000 SPI_DMATransmitReceiveCplt
     /tmp/cckea6X9.s:3032   .text.HAL_SPI_Abort:0000000000000000 $t
     /tmp/cckea6X9.s:3037   .text.HAL_SPI_Abort:0000000000000000 HAL_SPI_Abort
     /tmp/cckea6X9.s:3245   .text.HAL_SPI_Abort:0000000000000144 $d
     /tmp/cckea6X9.s:6574   .text.SPI_AbortTx_ISR:0000000000000000 SPI_AbortTx_ISR
     /tmp/cckea6X9.s:6471   .text.SPI_AbortRx_ISR:0000000000000000 SPI_AbortRx_ISR
     /tmp/cckea6X9.s:3253   .text.HAL_SPI_Abort_IT:0000000000000000 $t
ARM GAS  /tmp/cckea6X9.s 			page 173


     /tmp/cckea6X9.s:3258   .text.HAL_SPI_Abort_IT:0000000000000000 HAL_SPI_Abort_IT
     /tmp/cckea6X9.s:4337   .text.HAL_SPI_AbortCpltCallback:0000000000000000 HAL_SPI_AbortCpltCallback
     /tmp/cckea6X9.s:3551   .text.HAL_SPI_Abort_IT:00000000000001bc $d
     /tmp/cckea6X9.s:5023   .text.SPI_DMATxAbortCallback:0000000000000000 SPI_DMATxAbortCallback
     /tmp/cckea6X9.s:5157   .text.SPI_DMARxAbortCallback:0000000000000000 SPI_DMARxAbortCallback
     /tmp/cckea6X9.s:3559   .text.HAL_SPI_DMAPause:0000000000000000 $t
     /tmp/cckea6X9.s:3564   .text.HAL_SPI_DMAPause:0000000000000000 HAL_SPI_DMAPause
     /tmp/cckea6X9.s:3628   .text.HAL_SPI_DMAResume:0000000000000000 $t
     /tmp/cckea6X9.s:3633   .text.HAL_SPI_DMAResume:0000000000000000 HAL_SPI_DMAResume
     /tmp/cckea6X9.s:3697   .text.HAL_SPI_DMAStop:0000000000000000 $t
     /tmp/cckea6X9.s:3702   .text.HAL_SPI_DMAStop:0000000000000000 HAL_SPI_DMAStop
     /tmp/cckea6X9.s:3770   .text.HAL_SPI_IRQHandler:0000000000000000 $t
     /tmp/cckea6X9.s:3775   .text.HAL_SPI_IRQHandler:0000000000000000 HAL_SPI_IRQHandler
     /tmp/cckea6X9.s:4297   .text.HAL_SPI_ErrorCallback:0000000000000000 HAL_SPI_ErrorCallback
     /tmp/cckea6X9.s:4047   .text.HAL_SPI_IRQHandler:00000000000001ac $d
     /tmp/cckea6X9.s:4973   .text.SPI_DMAAbortOnError:0000000000000000 SPI_DMAAbortOnError
     /tmp/cckea6X9.s:4052   .text.HAL_SPI_TxCpltCallback:0000000000000000 $t
     /tmp/cckea6X9.s:4057   .text.HAL_SPI_TxCpltCallback:0000000000000000 HAL_SPI_TxCpltCallback
     /tmp/cckea6X9.s:4092   .text.HAL_SPI_RxCpltCallback:0000000000000000 $t
     /tmp/cckea6X9.s:4097   .text.HAL_SPI_RxCpltCallback:0000000000000000 HAL_SPI_RxCpltCallback
     /tmp/cckea6X9.s:4132   .text.HAL_SPI_TxRxCpltCallback:0000000000000000 $t
     /tmp/cckea6X9.s:4137   .text.HAL_SPI_TxRxCpltCallback:0000000000000000 HAL_SPI_TxRxCpltCallback
     /tmp/cckea6X9.s:4172   .text.HAL_SPI_TxHalfCpltCallback:0000000000000000 $t
     /tmp/cckea6X9.s:4177   .text.HAL_SPI_TxHalfCpltCallback:0000000000000000 HAL_SPI_TxHalfCpltCallback
     /tmp/cckea6X9.s:4212   .text.HAL_SPI_RxHalfCpltCallback:0000000000000000 $t
     /tmp/cckea6X9.s:4217   .text.HAL_SPI_RxHalfCpltCallback:0000000000000000 HAL_SPI_RxHalfCpltCallback
     /tmp/cckea6X9.s:4252   .text.HAL_SPI_TxRxHalfCpltCallback:0000000000000000 $t
     /tmp/cckea6X9.s:4257   .text.HAL_SPI_TxRxHalfCpltCallback:0000000000000000 HAL_SPI_TxRxHalfCpltCallback
     /tmp/cckea6X9.s:4292   .text.HAL_SPI_ErrorCallback:0000000000000000 $t
     /tmp/cckea6X9.s:4332   .text.HAL_SPI_AbortCpltCallback:0000000000000000 $t
     /tmp/cckea6X9.s:4372   .text.HAL_SPI_GetState:0000000000000000 $t
     /tmp/cckea6X9.s:4377   .text.HAL_SPI_GetState:0000000000000000 HAL_SPI_GetState
     /tmp/cckea6X9.s:4417   .text.HAL_SPI_GetError:0000000000000000 $t
     /tmp/cckea6X9.s:4422   .text.HAL_SPI_GetError:0000000000000000 HAL_SPI_GetError
     /tmp/cckea6X9.s:4461   .text.SPI_DMATransmitCplt:0000000000000000 $t
     /tmp/cckea6X9.s:4579   .text.SPI_DMAReceiveCplt:0000000000000000 $t
     /tmp/cckea6X9.s:4681   .text.SPI_DMATransmitReceiveCplt:0000000000000000 $t
     /tmp/cckea6X9.s:4783   .text.SPI_DMAHalfTransmitCplt:0000000000000000 $t
     /tmp/cckea6X9.s:4825   .text.SPI_DMAHalfReceiveCplt:0000000000000000 $t
     /tmp/cckea6X9.s:4867   .text.SPI_DMAHalfTransmitReceiveCplt:0000000000000000 $t
     /tmp/cckea6X9.s:4909   .text.SPI_DMAError:0000000000000000 $t
     /tmp/cckea6X9.s:4969   .text.SPI_DMAAbortOnError:0000000000000000 $t
     /tmp/cckea6X9.s:5019   .text.SPI_DMATxAbortCallback:0000000000000000 $t
     /tmp/cckea6X9.s:5147   .text.SPI_DMATxAbortCallback:00000000000000a8 $d
     /tmp/cckea6X9.s:5153   .text.SPI_DMARxAbortCallback:0000000000000000 $t
     /tmp/cckea6X9.s:5271   .text.SPI_2linesRxISR_8BIT:0000000000000000 $t
     /tmp/cckea6X9.s:6066   .text.SPI_CloseRxTx_ISR:0000000000000000 SPI_CloseRxTx_ISR
     /tmp/cckea6X9.s:5350   .text.SPI_2linesTxISR_8BIT:0000000000000000 $t
     /tmp/cckea6X9.s:5428   .text.SPI_2linesRxISR_16BIT:0000000000000000 $t
     /tmp/cckea6X9.s:5509   .text.SPI_2linesTxISR_16BIT:0000000000000000 $t
     /tmp/cckea6X9.s:5589   .text.SPI_RxISR_8BIT:0000000000000000 $t
     /tmp/cckea6X9.s:6225   .text.SPI_CloseRx_ISR:0000000000000000 SPI_CloseRx_ISR
     /tmp/cckea6X9.s:5654   .text.SPI_RxISR_16BIT:0000000000000000 $t
     /tmp/cckea6X9.s:5721   .text.SPI_TxISR_8BIT:0000000000000000 $t
     /tmp/cckea6X9.s:6331   .text.SPI_CloseTx_ISR:0000000000000000 SPI_CloseTx_ISR
     /tmp/cckea6X9.s:5785   .text.SPI_TxISR_16BIT:0000000000000000 $t
     /tmp/cckea6X9.s:5851   .text.SPI_WaitFlagStateUntilTimeout:0000000000000000 $t
ARM GAS  /tmp/cckea6X9.s 			page 174


     /tmp/cckea6X9.s:6000   .text.SPI_CheckFlag_BSY:0000000000000000 $t
     /tmp/cckea6X9.s:6062   .text.SPI_CloseRxTx_ISR:0000000000000000 $t
     /tmp/cckea6X9.s:6215   .text.SPI_CloseRxTx_ISR:00000000000000e0 $d
     /tmp/cckea6X9.s:6221   .text.SPI_CloseRx_ISR:0000000000000000 $t
     /tmp/cckea6X9.s:6327   .text.SPI_CloseTx_ISR:0000000000000000 $t
     /tmp/cckea6X9.s:6461   .text.SPI_CloseTx_ISR:00000000000000bc $d
     /tmp/cckea6X9.s:6467   .text.SPI_AbortRx_ISR:0000000000000000 $t
     /tmp/cckea6X9.s:6564   .text.SPI_AbortRx_ISR:000000000000007c $d
     /tmp/cckea6X9.s:6570   .text.SPI_AbortTx_ISR:0000000000000000 $t
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
HAL_GetTick
HAL_DMA_Start_IT
HAL_DMA_Abort
SystemCoreClock
HAL_DMA_Abort_IT
